(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Xf(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Dt={},Ys=[],Nr=()=>{},T3=()=>!1,Hu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Jf=e=>e.startsWith("onUpdate:"),rn=Object.assign,Zf=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},S3=Object.prototype.hasOwnProperty,yt=(e,t)=>S3.call(e,t),je=Array.isArray,Qs=e=>Wa(e)==="[object Map]",yi=e=>Wa(e)==="[object Set]",Bm=e=>Wa(e)==="[object Date]",Qe=e=>typeof e=="function",zt=e=>typeof e=="string",Er=e=>typeof e=="symbol",Pt=e=>e!==null&&typeof e=="object",J_=e=>(Pt(e)||Qe(e))&&Qe(e.then)&&Qe(e.catch),Z_=Object.prototype.toString,Wa=e=>Z_.call(e),C3=e=>Wa(e).slice(8,-1),ew=e=>Wa(e)==="[object Object]",eh=e=>zt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,sa=Xf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qu=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},E3=/-(\w)/g,yr=qu(e=>e.replace(E3,(t,n)=>n?n.toUpperCase():"")),P3=/\B([A-Z])/g,Is=qu(e=>e.replace(P3,"-$1").toLowerCase()),Wu=qu(e=>e.charAt(0).toUpperCase()+e.slice(1)),Xc=qu(e=>e?`on${Wu(e)}`:""),Oo=(e,t)=>!Object.is(e,t),zl=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},tw=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},au=e=>{const t=parseFloat(e);return isNaN(t)?e:t},I3=e=>{const t=zt(e)?Number(e):NaN;return isNaN(t)?e:t};let Fm;const Ku=()=>Fm||(Fm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function W(e){if(je(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=zt(r)?D3(r):W(r);if(o)for(const s in o)t[s]=o[s]}return t}else if(zt(e)||Pt(e))return e}const k3=/;(?![^(]*\))/g,O3=/:([^]+)/,A3=/\/\*[^]*?\*\//g;function D3(e){const t={};return e.replace(A3,"").split(k3).forEach(n=>{if(n){const r=n.split(O3);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function z(e){let t="";if(zt(e))t=e;else if(je(e))for(let n=0;n<e.length;n++){const r=z(e[n]);r&&(t+=r+" ")}else if(Pt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function R3(e){if(!e)return null;let{class:t,style:n}=e;return t&&!zt(t)&&(e.class=z(t)),n&&(e.style=W(n)),e}const N3="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",V3=Xf(N3);function nw(e){return!!e||e===""}function L3(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=ys(e[r],t[r]);return n}function ys(e,t){if(e===t)return!0;let n=Bm(e),r=Bm(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Er(e),r=Er(t),n||r)return e===t;if(n=je(e),r=je(t),n||r)return n&&r?L3(e,t):!1;if(n=Pt(e),r=Pt(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,s=Object.keys(t).length;if(o!==s)return!1;for(const i in e){const a=e.hasOwnProperty(i),l=t.hasOwnProperty(i);if(a&&!l||!a&&l||!ys(e[i],t[i]))return!1}}return String(e)===String(t)}function th(e,t){return e.findIndex(n=>ys(n,t))}const rw=e=>!!(e&&e.__v_isRef===!0),x=e=>zt(e)?e:e==null?"":je(e)||Pt(e)&&(e.toString===Z_||!Qe(e.toString))?rw(e)?x(e.value):JSON.stringify(e,ow,2):String(e),ow=(e,t)=>rw(t)?ow(e,t.value):Qs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o],s)=>(n[Jc(r,s)+" =>"]=o,n),{})}:yi(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Jc(n))}:Er(t)?Jc(t):Pt(t)&&!je(t)&&!ew(t)?String(t):t,Jc=(e,t="")=>{var n;return Er(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Un;class sw{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Un,!t&&Un&&(this.index=(Un.scopes||(Un.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Un;try{return Un=this,t()}finally{Un=n}}}on(){Un=this}off(){Un=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function iw(e){return new sw(e)}function aw(){return Un}function M3(e,t=!1){Un&&Un.cleanups.push(e)}let Nt;const Zc=new WeakSet;class lw{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Un&&Un.active&&Un.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Zc.has(this)&&(Zc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||cw(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,jm(this),dw(this);const t=Nt,n=Sr;Nt=this,Sr=!0;try{return this.fn()}finally{fw(this),Nt=t,Sr=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)oh(t);this.deps=this.depsTail=void 0,jm(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Zc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Fd(this)&&this.run()}get dirty(){return Fd(this)}}let uw=0,ia,aa;function cw(e,t=!1){if(e.flags|=8,t){e.next=aa,aa=e;return}e.next=ia,ia=e}function nh(){uw++}function rh(){if(--uw>0)return;if(aa){let t=aa;for(aa=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;ia;){let t=ia;for(ia=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function dw(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function fw(e){let t,n=e.depsTail,r=n;for(;r;){const o=r.prevDep;r.version===-1?(r===n&&(n=o),oh(r),B3(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=o}e.deps=t,e.depsTail=n}function Fd(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(hw(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function hw(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Pa))return;e.globalVersion=Pa;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Fd(e)){e.flags&=-3;return}const n=Nt,r=Sr;Nt=e,Sr=!0;try{dw(e);const o=e.fn(e._value);(t.version===0||Oo(o,e._value))&&(e._value=o,t.version++)}catch(o){throw t.version++,o}finally{Nt=n,Sr=r,fw(e),e.flags&=-3}}function oh(e,t=!1){const{dep:n,prevSub:r,nextSub:o}=e;if(r&&(r.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)oh(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function B3(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Sr=!0;const pw=[];function qo(){pw.push(Sr),Sr=!1}function Wo(){const e=pw.pop();Sr=e===void 0?!0:e}function jm(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Nt;Nt=void 0;try{t()}finally{Nt=n}}}let Pa=0;class F3{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class sh{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Nt||!Sr||Nt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Nt)n=this.activeLink=new F3(Nt,this),Nt.deps?(n.prevDep=Nt.depsTail,Nt.depsTail.nextDep=n,Nt.depsTail=n):Nt.deps=Nt.depsTail=n,mw(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Nt.depsTail,n.nextDep=void 0,Nt.depsTail.nextDep=n,Nt.depsTail=n,Nt.deps===n&&(Nt.deps=r)}return n}trigger(t){this.version++,Pa++,this.notify(t)}notify(t){nh();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{rh()}}}function mw(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)mw(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const lu=new WeakMap,hs=Symbol(""),jd=Symbol(""),Ia=Symbol("");function kn(e,t,n){if(Sr&&Nt){let r=lu.get(e);r||lu.set(e,r=new Map);let o=r.get(n);o||(r.set(n,o=new sh),o.map=r,o.key=n),o.track()}}function Jr(e,t,n,r,o,s){const i=lu.get(e);if(!i){Pa++;return}const a=l=>{l&&l.trigger()};if(nh(),t==="clear")i.forEach(a);else{const l=je(e),u=l&&eh(n);if(l&&n==="length"){const c=Number(r);i.forEach((f,h)=>{(h==="length"||h===Ia||!Er(h)&&h>=c)&&a(f)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),u&&a(i.get(Ia)),t){case"add":l?u&&a(i.get("length")):(a(i.get(hs)),Qs(e)&&a(i.get(jd)));break;case"delete":l||(a(i.get(hs)),Qs(e)&&a(i.get(jd)));break;case"set":Qs(e)&&a(i.get(hs));break}}rh()}function j3(e,t){const n=lu.get(e);return n&&n.get(t)}function Ms(e){const t=dt(e);return t===e?t:(kn(t,"iterate",Ia),fr(e)?t:t.map(On))}function Gu(e){return kn(e=dt(e),"iterate",Ia),e}const x3={__proto__:null,[Symbol.iterator](){return ed(this,Symbol.iterator,On)},concat(...e){return Ms(this).concat(...e.map(t=>je(t)?Ms(t):t))},entries(){return ed(this,"entries",e=>(e[1]=On(e[1]),e))},every(e,t){return Gr(this,"every",e,t,void 0,arguments)},filter(e,t){return Gr(this,"filter",e,t,n=>n.map(On),arguments)},find(e,t){return Gr(this,"find",e,t,On,arguments)},findIndex(e,t){return Gr(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Gr(this,"findLast",e,t,On,arguments)},findLastIndex(e,t){return Gr(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Gr(this,"forEach",e,t,void 0,arguments)},includes(...e){return td(this,"includes",e)},indexOf(...e){return td(this,"indexOf",e)},join(e){return Ms(this).join(e)},lastIndexOf(...e){return td(this,"lastIndexOf",e)},map(e,t){return Gr(this,"map",e,t,void 0,arguments)},pop(){return zi(this,"pop")},push(...e){return zi(this,"push",e)},reduce(e,...t){return xm(this,"reduce",e,t)},reduceRight(e,...t){return xm(this,"reduceRight",e,t)},shift(){return zi(this,"shift")},some(e,t){return Gr(this,"some",e,t,void 0,arguments)},splice(...e){return zi(this,"splice",e)},toReversed(){return Ms(this).toReversed()},toSorted(e){return Ms(this).toSorted(e)},toSpliced(...e){return Ms(this).toSpliced(...e)},unshift(...e){return zi(this,"unshift",e)},values(){return ed(this,"values",On)}};function ed(e,t,n){const r=Gu(e),o=r[t]();return r!==e&&!fr(e)&&(o._next=o.next,o.next=()=>{const s=o._next();return s.value&&(s.value=n(s.value)),s}),o}const U3=Array.prototype;function Gr(e,t,n,r,o,s){const i=Gu(e),a=i!==e&&!fr(e),l=i[t];if(l!==U3[t]){const f=l.apply(e,s);return a?On(f):f}let u=n;i!==e&&(a?u=function(f,h){return n.call(this,On(f),h,e)}:n.length>2&&(u=function(f,h){return n.call(this,f,h,e)}));const c=l.call(i,u,r);return a&&o?o(c):c}function xm(e,t,n,r){const o=Gu(e);let s=n;return o!==e&&(fr(e)?n.length>3&&(s=function(i,a,l){return n.call(this,i,a,l,e)}):s=function(i,a,l){return n.call(this,i,On(a),l,e)}),o[t](s,...r)}function td(e,t,n){const r=dt(e);kn(r,"iterate",Ia);const o=r[t](...n);return(o===-1||o===!1)&&lh(n[0])?(n[0]=dt(n[0]),r[t](...n)):o}function zi(e,t,n=[]){qo(),nh();const r=dt(e)[t].apply(e,n);return rh(),Wo(),r}const z3=Xf("__proto__,__v_isRef,__isVue"),gw=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Er));function H3(e){Er(e)||(e=String(e));const t=dt(this);return kn(t,"has",e),t.hasOwnProperty(e)}class vw{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const o=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(o?s?eC:bw:s?ww:_w).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const i=je(t);if(!o){let l;if(i&&(l=x3[n]))return l;if(n==="hasOwnProperty")return H3}const a=Reflect.get(t,n,Gt(t)?t:r);return(Er(n)?gw.has(n):z3(n))||(o||kn(t,"get",n),s)?a:Gt(a)?i&&eh(n)?a:a.value:Pt(a)?o?uu(a):qe(a):a}}class yw extends vw{constructor(t=!1){super(!1,t)}set(t,n,r,o){let s=t[n];if(!this._isShallow){const l=_s(s);if(!fr(r)&&!_s(r)&&(s=dt(s),r=dt(r)),!je(t)&&Gt(s)&&!Gt(r))return l?!1:(s.value=r,!0)}const i=je(t)&&eh(n)?Number(n)<t.length:yt(t,n),a=Reflect.set(t,n,r,Gt(t)?t:o);return t===dt(o)&&(i?Oo(r,s)&&Jr(t,"set",n,r):Jr(t,"add",n,r)),a}deleteProperty(t,n){const r=yt(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&r&&Jr(t,"delete",n,void 0),o}has(t,n){const r=Reflect.has(t,n);return(!Er(n)||!gw.has(n))&&kn(t,"has",n),r}ownKeys(t){return kn(t,"iterate",je(t)?"length":hs),Reflect.ownKeys(t)}}class q3 extends vw{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const W3=new yw,K3=new q3,G3=new yw(!0);const xd=e=>e,Tl=e=>Reflect.getPrototypeOf(e);function Y3(e,t,n){return function(...r){const o=this.__v_raw,s=dt(o),i=Qs(s),a=e==="entries"||e===Symbol.iterator&&i,l=e==="keys"&&i,u=o[e](...r),c=n?xd:t?Ud:On;return!t&&kn(s,"iterate",l?jd:hs),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:a?[c(f[0]),c(f[1])]:c(f),done:h}},[Symbol.iterator](){return this}}}}function Sl(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Q3(e,t){const n={get(o){const s=this.__v_raw,i=dt(s),a=dt(o);e||(Oo(o,a)&&kn(i,"get",o),kn(i,"get",a));const{has:l}=Tl(i),u=t?xd:e?Ud:On;if(l.call(i,o))return u(s.get(o));if(l.call(i,a))return u(s.get(a));s!==i&&s.get(o)},get size(){const o=this.__v_raw;return!e&&kn(dt(o),"iterate",hs),Reflect.get(o,"size",o)},has(o){const s=this.__v_raw,i=dt(s),a=dt(o);return e||(Oo(o,a)&&kn(i,"has",o),kn(i,"has",a)),o===a?s.has(o):s.has(o)||s.has(a)},forEach(o,s){const i=this,a=i.__v_raw,l=dt(a),u=t?xd:e?Ud:On;return!e&&kn(l,"iterate",hs),a.forEach((c,f)=>o.call(s,u(c),u(f),i))}};return rn(n,e?{add:Sl("add"),set:Sl("set"),delete:Sl("delete"),clear:Sl("clear")}:{add(o){!t&&!fr(o)&&!_s(o)&&(o=dt(o));const s=dt(this);return Tl(s).has.call(s,o)||(s.add(o),Jr(s,"add",o,o)),this},set(o,s){!t&&!fr(s)&&!_s(s)&&(s=dt(s));const i=dt(this),{has:a,get:l}=Tl(i);let u=a.call(i,o);u||(o=dt(o),u=a.call(i,o));const c=l.call(i,o);return i.set(o,s),u?Oo(s,c)&&Jr(i,"set",o,s):Jr(i,"add",o,s),this},delete(o){const s=dt(this),{has:i,get:a}=Tl(s);let l=i.call(s,o);l||(o=dt(o),l=i.call(s,o)),a&&a.call(s,o);const u=s.delete(o);return l&&Jr(s,"delete",o,void 0),u},clear(){const o=dt(this),s=o.size!==0,i=o.clear();return s&&Jr(o,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=Y3(o,e,t)}),n}function ih(e,t){const n=Q3(e,t);return(r,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(yt(n,o)&&o in r?n:r,o,s)}const X3={get:ih(!1,!1)},J3={get:ih(!1,!0)},Z3={get:ih(!0,!1)};const _w=new WeakMap,ww=new WeakMap,bw=new WeakMap,eC=new WeakMap;function tC(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function nC(e){return e.__v_skip||!Object.isExtensible(e)?0:tC(C3(e))}function qe(e){return _s(e)?e:ah(e,!1,W3,X3,_w)}function $w(e){return ah(e,!1,G3,J3,ww)}function uu(e){return ah(e,!0,K3,Z3,bw)}function ah(e,t,n,r,o){if(!Pt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const i=nC(e);if(i===0)return e;const a=new Proxy(e,i===2?r:n);return o.set(e,a),a}function Ao(e){return _s(e)?Ao(e.__v_raw):!!(e&&e.__v_isReactive)}function _s(e){return!!(e&&e.__v_isReadonly)}function fr(e){return!!(e&&e.__v_isShallow)}function lh(e){return e?!!e.__v_raw:!1}function dt(e){const t=e&&e.__v_raw;return t?dt(t):e}function uh(e){return!yt(e,"__v_skip")&&Object.isExtensible(e)&&tw(e,"__v_skip",!0),e}const On=e=>Pt(e)?qe(e):e,Ud=e=>Pt(e)?uu(e):e;function Gt(e){return e?e.__v_isRef===!0:!1}function H(e){return Tw(e,!1)}function rC(e){return Tw(e,!0)}function Tw(e,t){return Gt(e)?e:new oC(e,t)}class oC{constructor(t,n){this.dep=new sh,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:dt(t),this._value=n?t:On(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||fr(t)||_s(t);t=r?t:dt(t),Oo(t,n)&&(this._rawValue=t,this._value=r?t:On(t),this.dep.trigger())}}function Ae(e){return Gt(e)?e.value:e}const sC={get:(e,t,n)=>t==="__v_raw"?e:Ae(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return Gt(o)&&!Gt(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function Sw(e){return Ao(e)?e:new Proxy(e,sC)}function rt(e){const t=je(e)?new Array(e.length):{};for(const n in e)t[n]=Cw(e,n);return t}class iC{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return j3(dt(this._object),this._key)}}class aC{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function lo(e,t,n){return Gt(e)?e:Qe(e)?new aC(e):Pt(e)&&arguments.length>1?Cw(e,t,n):H(e)}function Cw(e,t,n){const r=e[t];return Gt(r)?r:new iC(e,t,n)}class lC{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new sh(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Pa-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Nt!==this)return cw(this,!0),!0}get value(){const t=this.dep.track();return hw(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function uC(e,t,n=!1){let r,o;return Qe(e)?r=e:(r=e.get,o=e.set),new lC(r,o,n)}const Cl={},cu=new WeakMap;let ss;function cC(e,t=!1,n=ss){if(n){let r=cu.get(n);r||cu.set(n,r=[]),r.push(e)}}function dC(e,t,n=Dt){const{immediate:r,deep:o,once:s,scheduler:i,augmentJob:a,call:l}=n,u=A=>o?A:fr(A)||o===!1||o===0?Zr(A,1):Zr(A);let c,f,h,m,w=!1,C=!1;if(Gt(e)?(f=()=>e.value,w=fr(e)):Ao(e)?(f=()=>u(e),w=!0):je(e)?(C=!0,w=e.some(A=>Ao(A)||fr(A)),f=()=>e.map(A=>{if(Gt(A))return A.value;if(Ao(A))return u(A);if(Qe(A))return l?l(A,2):A()})):Qe(e)?t?f=l?()=>l(e,2):e:f=()=>{if(h){qo();try{h()}finally{Wo()}}const A=ss;ss=c;try{return l?l(e,3,[m]):e(m)}finally{ss=A}}:f=Nr,t&&o){const A=f,L=o===!0?1/0:o;f=()=>Zr(A(),L)}const p=aw(),g=()=>{c.stop(),p&&p.active&&Zf(p.effects,c)};if(s&&t){const A=t;t=(...L)=>{A(...L),g()}}let b=C?new Array(e.length).fill(Cl):Cl;const O=A=>{if(!(!(c.flags&1)||!c.dirty&&!A))if(t){const L=c.run();if(o||w||(C?L.some((N,I)=>Oo(N,b[I])):Oo(L,b))){h&&h();const N=ss;ss=c;try{const I=[L,b===Cl?void 0:C&&b[0]===Cl?[]:b,m];l?l(t,3,I):t(...I),b=L}finally{ss=N}}}else c.run()};return a&&a(O),c=new lw(f),c.scheduler=i?()=>i(O,!1):O,m=A=>cC(A,!1,c),h=c.onStop=()=>{const A=cu.get(c);if(A){if(l)l(A,4);else for(const L of A)L();cu.delete(c)}},t?r?O(!0):b=c.run():i?i(O.bind(null,!0),!0):c.run(),g.pause=c.pause.bind(c),g.resume=c.resume.bind(c),g.stop=g,g}function Zr(e,t=1/0,n){if(t<=0||!Pt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Gt(e))Zr(e.value,t,n);else if(je(e))for(let r=0;r<e.length;r++)Zr(e[r],t,n);else if(yi(e)||Qs(e))e.forEach(r=>{Zr(r,t,n)});else if(ew(e)){for(const r in e)Zr(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Zr(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ka(e,t,n,r){try{return r?e(...r):e()}catch(o){Yu(o,t,n)}}function Pr(e,t,n,r){if(Qe(e)){const o=Ka(e,t,n,r);return o&&J_(o)&&o.catch(s=>{Yu(s,t,n)}),o}if(je(e)){const o=[];for(let s=0;s<e.length;s++)o.push(Pr(e[s],t,n,r));return o}}function Yu(e,t,n,r=!0){const o=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||Dt;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,l,u)===!1)return}a=a.parent}if(s){qo(),Ka(s,null,10,[e,l,u]),Wo();return}}fC(e,n,o,r,i)}function fC(e,t,n,r=!0,o=!1){if(o)throw e;console.error(e)}const zn=[];let Ar=-1;const Xs=[];let To=null,js=0;const Ew=Promise.resolve();let du=null;function Et(e){const t=du||Ew;return e?t.then(this?e.bind(this):e):t}function hC(e){let t=Ar+1,n=zn.length;for(;t<n;){const r=t+n>>>1,o=zn[r],s=ka(o);s<e||s===e&&o.flags&2?t=r+1:n=r}return t}function ch(e){if(!(e.flags&1)){const t=ka(e),n=zn[zn.length-1];!n||!(e.flags&2)&&t>=ka(n)?zn.push(e):zn.splice(hC(t),0,e),e.flags|=1,Pw()}}function Pw(){du||(du=Ew.then(kw))}function pC(e){je(e)?Xs.push(...e):To&&e.id===-1?To.splice(js+1,0,e):e.flags&1||(Xs.push(e),e.flags|=1),Pw()}function Um(e,t,n=Ar+1){for(;n<zn.length;n++){const r=zn[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;zn.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Iw(e){if(Xs.length){const t=[...new Set(Xs)].sort((n,r)=>ka(n)-ka(r));if(Xs.length=0,To){To.push(...t);return}for(To=t,js=0;js<To.length;js++){const n=To[js];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}To=null,js=0}}const ka=e=>e.id==null?e.flags&2?-1:1/0:e.id;function kw(e){try{for(Ar=0;Ar<zn.length;Ar++){const t=zn[Ar];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ka(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ar<zn.length;Ar++){const t=zn[Ar];t&&(t.flags&=-2)}Ar=-1,zn.length=0,Iw(),du=null,(zn.length||Xs.length)&&kw()}}let sn=null,Ow=null;function fu(e){const t=sn;return sn=e,Ow=e&&e.type.__scopeId||null,t}function de(e,t=sn,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&tg(-1);const s=fu(t);let i;try{i=e(...o)}finally{fu(s),r._d&&tg(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function ct(e,t){if(sn===null)return e;const n=Zu(sn),r=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[s,i,a,l=Dt]=t[o];s&&(Qe(s)&&(s={mounted:s,updated:s}),s.deep&&Zr(i),r.push({dir:s,instance:n,value:i,oldValue:void 0,arg:a,modifiers:l}))}return e}function Zo(e,t,n,r){const o=e.dirs,s=t&&t.dirs;for(let i=0;i<o.length;i++){const a=o[i];s&&(a.oldValue=s[i].value);let l=a.dir[r];l&&(qo(),Pr(l,n,8,[e.el,a,e,t]),Wo())}}const Aw=Symbol("_vte"),Dw=e=>e.__isTeleport,la=e=>e&&(e.disabled||e.disabled===""),zm=e=>e&&(e.defer||e.defer===""),Hm=e=>typeof SVGElement<"u"&&e instanceof SVGElement,qm=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,zd=(e,t)=>{const n=e&&e.to;return zt(n)?t?t(n):null:n},Rw={name:"Teleport",__isTeleport:!0,process(e,t,n,r,o,s,i,a,l,u){const{mc:c,pc:f,pbc:h,o:{insert:m,querySelector:w,createText:C,createComment:p}}=u,g=la(t.props);let{shapeFlag:b,children:O,dynamicChildren:A}=t;if(e==null){const L=t.el=C(""),N=t.anchor=C("");m(L,n,r),m(N,n,r);const I=(_,P)=>{b&16&&(o&&o.isCE&&(o.ce._teleportTarget=_),c(O,_,P,o,s,i,a,l))},S=()=>{const _=t.target=zd(t.props,w),P=Vw(_,t,C,m);_&&(i!=="svg"&&Hm(_)?i="svg":i!=="mathml"&&qm(_)&&(i="mathml"),g||(I(_,P),Hl(t,!1)))};g&&(I(n,N),Hl(t,!0)),zm(t.props)?jn(()=>{S(),t.el.__isMounted=!0},s):S()}else{if(zm(t.props)&&!e.el.__isMounted){jn(()=>{Rw.process(e,t,n,r,o,s,i,a,l,u),delete e.el.__isMounted},s);return}t.el=e.el,t.targetStart=e.targetStart;const L=t.anchor=e.anchor,N=t.target=e.target,I=t.targetAnchor=e.targetAnchor,S=la(e.props),_=S?n:N,P=S?L:I;if(i==="svg"||Hm(N)?i="svg":(i==="mathml"||qm(N))&&(i="mathml"),A?(h(e.dynamicChildren,A,_,o,s,i,a),ph(e,t,!0)):l||f(e,t,_,P,o,s,i,a,!1),g)S?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):El(t,n,L,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const k=t.target=zd(t.props,w);k&&El(t,k,null,u,0)}else S&&El(t,N,I,u,1);Hl(t,g)}},remove(e,t,n,{um:r,o:{remove:o}},s){const{shapeFlag:i,children:a,anchor:l,targetStart:u,targetAnchor:c,target:f,props:h}=e;if(f&&(o(u),o(c)),s&&o(l),i&16){const m=s||!la(h);for(let w=0;w<a.length;w++){const C=a[w];r(C,t,n,m,!!C.dynamicChildren)}}},move:El,hydrate:mC};function El(e,t,n,{o:{insert:r},m:o},s=2){s===0&&r(e.targetAnchor,t,n);const{el:i,anchor:a,shapeFlag:l,children:u,props:c}=e,f=s===2;if(f&&r(i,t,n),(!f||la(c))&&l&16)for(let h=0;h<u.length;h++)o(u[h],t,n,2);f&&r(a,t,n)}function mC(e,t,n,r,o,s,{o:{nextSibling:i,parentNode:a,querySelector:l,insert:u,createText:c}},f){const h=t.target=zd(t.props,l);if(h){const m=la(t.props),w=h._lpa||h.firstChild;if(t.shapeFlag&16)if(m)t.anchor=f(i(e),t,a(e),n,r,o,s),t.targetStart=w,t.targetAnchor=w&&i(w);else{t.anchor=i(e);let C=w;for(;C;){if(C&&C.nodeType===8){if(C.data==="teleport start anchor")t.targetStart=C;else if(C.data==="teleport anchor"){t.targetAnchor=C,h._lpa=t.targetAnchor&&i(t.targetAnchor);break}}C=i(C)}t.targetAnchor||Vw(h,t,c,u),f(w&&i(w),t,h,n,r,o,s)}Hl(t,m)}return t.anchor&&i(t.anchor)}const Nw=Rw;function Hl(e,t){const n=e.ctx;if(n&&n.ut){let r,o;for(t?(r=e.el,o=e.anchor):(r=e.targetStart,o=e.targetAnchor);r&&r!==o;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function Vw(e,t,n,r){const o=t.targetStart=n(""),s=t.targetAnchor=n("");return o[Aw]=s,e&&(r(o,e),r(s,e)),s}const So=Symbol("_leaveCb"),Pl=Symbol("_enterCb");function gC(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return tt(()=>{e.isMounted=!0}),Ga(()=>{e.isUnmounting=!0}),e}const ur=[Function,Array],Lw={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ur,onEnter:ur,onAfterEnter:ur,onEnterCancelled:ur,onBeforeLeave:ur,onLeave:ur,onAfterLeave:ur,onLeaveCancelled:ur,onBeforeAppear:ur,onAppear:ur,onAfterAppear:ur,onAppearCancelled:ur},Mw=e=>{const t=e.subTree;return t.component?Mw(t.component):t},vC={name:"BaseTransition",props:Lw,setup(e,{slots:t}){const n=Mr(),r=gC();return()=>{const o=t.default&&jw(t.default(),!0);if(!o||!o.length)return;const s=Bw(o),i=dt(e),{mode:a}=i;if(r.isLeaving)return nd(s);const l=Wm(s);if(!l)return nd(s);let u=Hd(l,i,r,n,f=>u=f);l.type!==Dn&&Oa(l,u);let c=n.subTree&&Wm(n.subTree);if(c&&c.type!==Dn&&!as(l,c)&&Mw(n).type!==Dn){let f=Hd(c,i,r,n);if(Oa(c,f),a==="out-in"&&l.type!==Dn)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,c=void 0},nd(s);a==="in-out"&&l.type!==Dn?f.delayLeave=(h,m,w)=>{const C=Fw(r,c);C[String(c.key)]=c,h[So]=()=>{m(),h[So]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{w(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return s}}};function Bw(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Dn){t=n;break}}return t}const yC=vC;function Fw(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Hd(e,t,n,r,o){const{appear:s,mode:i,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:h,onLeave:m,onAfterLeave:w,onLeaveCancelled:C,onBeforeAppear:p,onAppear:g,onAfterAppear:b,onAppearCancelled:O}=t,A=String(e.key),L=Fw(n,e),N=(_,P)=>{_&&Pr(_,r,9,P)},I=(_,P)=>{const k=P[1];N(_,P),je(_)?_.every(R=>R.length<=1)&&k():_.length<=1&&k()},S={mode:i,persisted:a,beforeEnter(_){let P=l;if(!n.isMounted)if(s)P=p||l;else return;_[So]&&_[So](!0);const k=L[A];k&&as(e,k)&&k.el[So]&&k.el[So](),N(P,[_])},enter(_){let P=u,k=c,R=f;if(!n.isMounted)if(s)P=g||u,k=b||c,R=O||f;else return;let D=!1;const oe=_[Pl]=J=>{D||(D=!0,J?N(R,[_]):N(k,[_]),S.delayedLeave&&S.delayedLeave(),_[Pl]=void 0)};P?I(P,[_,oe]):oe()},leave(_,P){const k=String(e.key);if(_[Pl]&&_[Pl](!0),n.isUnmounting)return P();N(h,[_]);let R=!1;const D=_[So]=oe=>{R||(R=!0,P(),oe?N(C,[_]):N(w,[_]),_[So]=void 0,L[k]===e&&delete L[k])};L[k]=e,m?I(m,[_,D]):D()},clone(_){const P=Hd(_,t,n,r,o);return o&&o(P),P}};return S}function nd(e){if(Qu(e))return e=Bo(e),e.children=null,e}function Wm(e){if(!Qu(e))return Dw(e.type)&&e.children?Bw(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Qe(n.default))return n.default()}}function Oa(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Oa(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function jw(e,t=!1,n){let r=[],o=0;for(let s=0;s<e.length;s++){let i=e[s];const a=n==null?i.key:String(n)+String(i.key!=null?i.key:s);i.type===le?(i.patchFlag&128&&o++,r=r.concat(jw(i.children,t,a))):(t||i.type!==Dn)&&r.push(a!=null?Bo(i,{key:a}):i)}if(o>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Le(e,t){return Qe(e)?rn({name:e.name},t,{setup:e}):e}function xw(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function hu(e,t,n,r,o=!1){if(je(e)){e.forEach((w,C)=>hu(w,t&&(je(t)?t[C]:t),n,r,o));return}if(Js(r)&&!o){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&hu(e,t,n,r.component.subTree);return}const s=r.shapeFlag&4?Zu(r.component):r.el,i=o?null:s,{i:a,r:l}=e,u=t&&t.r,c=a.refs===Dt?a.refs={}:a.refs,f=a.setupState,h=dt(f),m=f===Dt?()=>!1:w=>yt(h,w);if(u!=null&&u!==l&&(zt(u)?(c[u]=null,m(u)&&(f[u]=null)):Gt(u)&&(u.value=null)),Qe(l))Ka(l,a,12,[i,c]);else{const w=zt(l),C=Gt(l);if(w||C){const p=()=>{if(e.f){const g=w?m(l)?f[l]:c[l]:l.value;o?je(g)&&Zf(g,s):je(g)?g.includes(s)||g.push(s):w?(c[l]=[s],m(l)&&(f[l]=c[l])):(l.value=[s],e.k&&(c[e.k]=l.value))}else w?(c[l]=i,m(l)&&(f[l]=i)):C&&(l.value=i,e.k&&(c[e.k]=i))};i?(p.id=-1,jn(p,n)):p()}}}Ku().requestIdleCallback;Ku().cancelIdleCallback;const Js=e=>!!e.type.__asyncLoader,Qu=e=>e.type.__isKeepAlive;function _i(e,t){Uw(e,"a",t)}function wi(e,t){Uw(e,"da",t)}function Uw(e,t,n=fn){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Xu(t,r,n),n){let o=n.parent;for(;o&&o.parent;)Qu(o.parent.vnode)&&_C(r,t,n,o),o=o.parent}}function _C(e,t,n,r){const o=Xu(t,e,r,!0);_r(()=>{Zf(r[t],o)},n)}function Xu(e,t,n=fn,r=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...i)=>{qo();const a=Xa(n),l=Pr(t,n,e,i);return a(),Wo(),l});return r?o.unshift(s):o.push(s),s}}const uo=e=>(t,n=fn)=>{(!Na||e==="sp")&&Xu(e,(...r)=>t(...r),n)},dh=uo("bm"),tt=uo("m"),wC=uo("bu"),bC=uo("u"),Ga=uo("bum"),_r=uo("um"),$C=uo("sp"),TC=uo("rtg"),SC=uo("rtc");function CC(e,t=fn){Xu("ec",e,t)}const zw="components";function ue(e,t){return qw(zw,e,!0,t)||e}const Hw=Symbol.for("v-ndc");function Yn(e){return zt(e)?qw(zw,e,!1)||e:e||Hw}function qw(e,t,n=!0,r=!1){const o=sn||fn;if(o){const s=o.type;{const a=dE(s,!1);if(a&&(a===t||a===yr(t)||a===Wu(yr(t))))return s}const i=Km(o[e]||s[e],t)||Km(o.appContext[e],t);return!i&&r?s:i}}function Km(e,t){return e&&(e[t]||e[yr(t)]||e[Wu(yr(t))])}function Re(e,t,n,r){let o;const s=n,i=je(e);if(i||zt(e)){const a=i&&Ao(e);let l=!1;a&&(l=!fr(e),e=Gu(e)),o=new Array(e.length);for(let u=0,c=e.length;u<c;u++)o[u]=t(l?On(e[u]):e[u],u,void 0,s)}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,s)}else if(Pt(e))if(e[Symbol.iterator])o=Array.from(e,(a,l)=>t(a,l,void 0,s));else{const a=Object.keys(e);o=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];o[l]=t(e[c],c,l,s)}}else o=[];return o}function Aa(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(je(r))for(let o=0;o<r.length;o++)e[r[o].name]=r[o].fn;else r&&(e[r.name]=r.key?(...o)=>{const s=r.fn(...o);return s&&(s.key=r.key),s}:r.fn)}return e}function U(e,t,n={},r,o){if(sn.ce||sn.parent&&Js(sn.parent)&&sn.parent.ce)return t!=="default"&&(n.name=t),y(),ye(le,null,[X("slot",n,r&&r())],64);let s=e[t];s&&s._c&&(s._d=!1),y();const i=s&&Ww(s(n)),a=n.key||i&&i.key,l=ye(le,{key:(a&&!Er(a)?a:`_${t}`)+(!i&&r?"_fb":"")},i||(r?r():[]),i&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function Ww(e){return e.some(t=>Ra(t)?!(t.type===Dn||t.type===le&&!Ww(t.children)):!0)?e:null}const qd=e=>e?db(e)?Zu(e):qd(e.parent):null,ua=rn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>qd(e.parent),$root:e=>qd(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>fh(e),$forceUpdate:e=>e.f||(e.f=()=>{ch(e.update)}),$nextTick:e=>e.n||(e.n=Et.bind(e.proxy)),$watch:e=>GC.bind(e)}),rd=(e,t)=>e!==Dt&&!e.__isScriptSetup&&yt(e,t),EC={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:o,props:s,accessCache:i,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const m=i[t];if(m!==void 0)switch(m){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(rd(r,t))return i[t]=1,r[t];if(o!==Dt&&yt(o,t))return i[t]=2,o[t];if((u=e.propsOptions[0])&&yt(u,t))return i[t]=3,s[t];if(n!==Dt&&yt(n,t))return i[t]=4,n[t];Wd&&(i[t]=0)}}const c=ua[t];let f,h;if(c)return t==="$attrs"&&kn(e.attrs,"get",""),c(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==Dt&&yt(n,t))return i[t]=4,n[t];if(h=l.config.globalProperties,yt(h,t))return h[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;return rd(o,t)?(o[t]=n,!0):r!==Dt&&yt(r,t)?(r[t]=n,!0):yt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:s}},i){let a;return!!n[i]||e!==Dt&&yt(e,i)||rd(t,i)||(a=s[0])&&yt(a,i)||yt(r,i)||yt(ua,i)||yt(o.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:yt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Ya(){return PC().slots}function PC(){const e=Mr();return e.setupContext||(e.setupContext=hb(e))}function Gm(e){return je(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Wd=!0;function IC(e){const t=fh(e),n=e.proxy,r=e.ctx;Wd=!1,t.beforeCreate&&Ym(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:i,watch:a,provide:l,inject:u,created:c,beforeMount:f,mounted:h,beforeUpdate:m,updated:w,activated:C,deactivated:p,beforeDestroy:g,beforeUnmount:b,destroyed:O,unmounted:A,render:L,renderTracked:N,renderTriggered:I,errorCaptured:S,serverPrefetch:_,expose:P,inheritAttrs:k,components:R,directives:D,filters:oe}=t;if(u&&kC(u,r,null),i)for(const K in i){const re=i[K];Qe(re)&&(r[K]=re.bind(n))}if(o){const K=o.call(n,n);Pt(K)&&(e.data=qe(K))}if(Wd=!0,s)for(const K in s){const re=s[K],ie=Qe(re)?re.bind(n,n):Qe(re.get)?re.get.bind(n,n):Nr,Te=!Qe(re)&&Qe(re.set)?re.set.bind(n):Nr,Pe=F({get:ie,set:Te});Object.defineProperty(r,K,{enumerable:!0,configurable:!0,get:()=>Pe.value,set:ke=>Pe.value=ke})}if(a)for(const K in a)Kw(a[K],r,n,K);if(l){const K=Qe(l)?l.call(n):l;Reflect.ownKeys(K).forEach(re=>{hn(re,K[re])})}c&&Ym(c,e,"c");function Q(K,re){je(re)?re.forEach(ie=>K(ie.bind(n))):re&&K(re.bind(n))}if(Q(dh,f),Q(tt,h),Q(wC,m),Q(bC,w),Q(_i,C),Q(wi,p),Q(CC,S),Q(SC,N),Q(TC,I),Q(Ga,b),Q(_r,A),Q($C,_),je(P))if(P.length){const K=e.exposed||(e.exposed={});P.forEach(re=>{Object.defineProperty(K,re,{get:()=>n[re],set:ie=>n[re]=ie})})}else e.exposed||(e.exposed={});L&&e.render===Nr&&(e.render=L),k!=null&&(e.inheritAttrs=k),R&&(e.components=R),D&&(e.directives=D),_&&xw(e)}function kC(e,t,n=Nr){je(e)&&(e=Kd(e));for(const r in e){const o=e[r];let s;Pt(o)?"default"in o?s=Lt(o.from||r,o.default,!0):s=Lt(o.from||r):s=Lt(o),Gt(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:i=>s.value=i}):t[r]=s}}function Ym(e,t,n){Pr(je(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Kw(e,t,n,r){let o=r.includes(".")?sb(n,r):()=>n[r];if(zt(e)){const s=t[e];Qe(s)&&ve(o,s)}else if(Qe(e))ve(o,e.bind(n));else if(Pt(e))if(je(e))e.forEach(s=>Kw(s,t,n,r));else{const s=Qe(e.handler)?e.handler.bind(n):t[e.handler];Qe(s)&&ve(o,s,e)}}function fh(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:i}}=e.appContext,a=s.get(t);let l;return a?l=a:!o.length&&!n&&!r?l=t:(l={},o.length&&o.forEach(u=>pu(l,u,i,!0)),pu(l,t,i)),Pt(t)&&s.set(t,l),l}function pu(e,t,n,r=!1){const{mixins:o,extends:s}=t;s&&pu(e,s,n,!0),o&&o.forEach(i=>pu(e,i,n,!0));for(const i in t)if(!(r&&i==="expose")){const a=OC[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const OC={data:Qm,props:Xm,emits:Xm,methods:ta,computed:ta,beforeCreate:Fn,created:Fn,beforeMount:Fn,mounted:Fn,beforeUpdate:Fn,updated:Fn,beforeDestroy:Fn,beforeUnmount:Fn,destroyed:Fn,unmounted:Fn,activated:Fn,deactivated:Fn,errorCaptured:Fn,serverPrefetch:Fn,components:ta,directives:ta,watch:DC,provide:Qm,inject:AC};function Qm(e,t){return t?e?function(){return rn(Qe(e)?e.call(this,this):e,Qe(t)?t.call(this,this):t)}:t:e}function AC(e,t){return ta(Kd(e),Kd(t))}function Kd(e){if(je(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Fn(e,t){return e?[...new Set([].concat(e,t))]:t}function ta(e,t){return e?rn(Object.create(null),e,t):t}function Xm(e,t){return e?je(e)&&je(t)?[...new Set([...e,...t])]:rn(Object.create(null),Gm(e),Gm(t??{})):t}function DC(e,t){if(!e)return t;if(!t)return e;const n=rn(Object.create(null),e);for(const r in t)n[r]=Fn(e[r],t[r]);return n}function Gw(){return{app:null,config:{isNativeTag:T3,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let RC=0;function NC(e,t){return function(r,o=null){Qe(r)||(r=rn({},r)),o!=null&&!Pt(o)&&(o=null);const s=Gw(),i=new WeakSet,a=[];let l=!1;const u=s.app={_uid:RC++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:hE,get config(){return s.config},set config(c){},use(c,...f){return i.has(c)||(c&&Qe(c.install)?(i.add(c),c.install(u,...f)):Qe(c)&&(i.add(c),c(u,...f))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,f){return f?(s.components[c]=f,u):s.components[c]},directive(c,f){return f?(s.directives[c]=f,u):s.directives[c]},mount(c,f,h){if(!l){const m=u._ceVNode||X(r,o);return m.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),f&&t?t(m,c):e(m,c,h),l=!0,u._container=c,c.__vue_app__=u,Zu(m.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Pr(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,f){return s.provides[c]=f,u},runWithContext(c){const f=ps;ps=u;try{return c()}finally{ps=f}}};return u}}let ps=null;function hn(e,t){if(fn){let n=fn.provides;const r=fn.parent&&fn.parent.provides;r===n&&(n=fn.provides=Object.create(r)),n[e]=t}}function Lt(e,t,n=!1){const r=fn||sn;if(r||ps){const o=ps?ps._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Qe(t)?t.call(r&&r.proxy):t}}function VC(){return!!(fn||sn||ps)}const Yw={},Qw=()=>Object.create(Yw),Xw=e=>Object.getPrototypeOf(e)===Yw;function LC(e,t,n,r=!1){const o={},s=Qw();e.propsDefaults=Object.create(null),Jw(e,t,o,s);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);n?e.props=r?o:$w(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function MC(e,t,n,r){const{props:o,attrs:s,vnode:{patchFlag:i}}=e,a=dt(o),[l]=e.propsOptions;let u=!1;if((r||i>0)&&!(i&16)){if(i&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let h=c[f];if(Ju(e.emitsOptions,h))continue;const m=t[h];if(l)if(yt(s,h))m!==s[h]&&(s[h]=m,u=!0);else{const w=yr(h);o[w]=Gd(l,a,w,m,e,!1)}else m!==s[h]&&(s[h]=m,u=!0)}}}else{Jw(e,t,o,s)&&(u=!0);let c;for(const f in a)(!t||!yt(t,f)&&((c=Is(f))===f||!yt(t,c)))&&(l?n&&(n[f]!==void 0||n[c]!==void 0)&&(o[f]=Gd(l,a,f,void 0,e,!0)):delete o[f]);if(s!==a)for(const f in s)(!t||!yt(t,f))&&(delete s[f],u=!0)}u&&Jr(e.attrs,"set","")}function Jw(e,t,n,r){const[o,s]=e.propsOptions;let i=!1,a;if(t)for(let l in t){if(sa(l))continue;const u=t[l];let c;o&&yt(o,c=yr(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:Ju(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,i=!0)}if(s){const l=dt(n),u=a||Dt;for(let c=0;c<s.length;c++){const f=s[c];n[f]=Gd(o,l,f,u[f],e,!yt(u,f))}}return i}function Gd(e,t,n,r,o,s){const i=e[n];if(i!=null){const a=yt(i,"default");if(a&&r===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&Qe(l)){const{propsDefaults:u}=o;if(n in u)r=u[n];else{const c=Xa(o);r=u[n]=l.call(null,t),c()}}else r=l;o.ce&&o.ce._setProp(n,r)}i[0]&&(s&&!a?r=!1:i[1]&&(r===""||r===Is(n))&&(r=!0))}return r}const BC=new WeakMap;function Zw(e,t,n=!1){const r=n?BC:t.propsCache,o=r.get(e);if(o)return o;const s=e.props,i={},a=[];let l=!1;if(!Qe(e)){const c=f=>{l=!0;const[h,m]=Zw(f,t,!0);rn(i,h),m&&a.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!s&&!l)return Pt(e)&&r.set(e,Ys),Ys;if(je(s))for(let c=0;c<s.length;c++){const f=yr(s[c]);Jm(f)&&(i[f]=Dt)}else if(s)for(const c in s){const f=yr(c);if(Jm(f)){const h=s[c],m=i[f]=je(h)||Qe(h)?{type:h}:rn({},h),w=m.type;let C=!1,p=!0;if(je(w))for(let g=0;g<w.length;++g){const b=w[g],O=Qe(b)&&b.name;if(O==="Boolean"){C=!0;break}else O==="String"&&(p=!1)}else C=Qe(w)&&w.name==="Boolean";m[0]=C,m[1]=p,(C||yt(m,"default"))&&a.push(f)}}const u=[i,a];return Pt(e)&&r.set(e,u),u}function Jm(e){return e[0]!=="$"&&!sa(e)}const eb=e=>e[0]==="_"||e==="$stable",hh=e=>je(e)?e.map(Dr):[Dr(e)],FC=(e,t,n)=>{if(t._n)return t;const r=de((...o)=>hh(t(...o)),n);return r._c=!1,r},tb=(e,t,n)=>{const r=e._ctx;for(const o in e){if(eb(o))continue;const s=e[o];if(Qe(s))t[o]=FC(o,s,r);else if(s!=null){const i=hh(s);t[o]=()=>i}}},nb=(e,t)=>{const n=hh(t);e.slots.default=()=>n},rb=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},jC=(e,t,n)=>{const r=e.slots=Qw();if(e.vnode.shapeFlag&32){const o=t._;o?(rb(r,t,n),n&&tw(r,"_",o,!0)):tb(t,r)}else t&&nb(e,t)},xC=(e,t,n)=>{const{vnode:r,slots:o}=e;let s=!0,i=Dt;if(r.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:rb(o,t,n):(s=!t.$stable,tb(t,o)),i=t}else t&&(nb(e,t),i={default:1});if(s)for(const a in o)!eb(a)&&i[a]==null&&delete o[a]},jn=tE;function UC(e){return zC(e)}function zC(e,t){const n=Ku();n.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:i,createText:a,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:h,setScopeId:m=Nr,insertStaticContent:w}=e,C=(M,B,Y,ae=null,ne=null,he=null,Se=void 0,be=null,we=!!B.dynamicChildren)=>{if(M===B)return;M&&!as(M,B)&&(ae=q(M),ke(M,ne,he,!0),M=null),B.patchFlag===-2&&(we=!1,B.dynamicChildren=null);const{type:ge,ref:Ue,shapeFlag:De}=B;switch(ge){case Qa:p(M,B,Y,ae);break;case Dn:g(M,B,Y,ae);break;case ql:M==null&&b(B,Y,ae,Se);break;case le:R(M,B,Y,ae,ne,he,Se,be,we);break;default:De&1?L(M,B,Y,ae,ne,he,Se,be,we):De&6?D(M,B,Y,ae,ne,he,Se,be,we):(De&64||De&128)&&ge.process(M,B,Y,ae,ne,he,Se,be,we,_e)}Ue!=null&&ne&&hu(Ue,M&&M.ref,he,B||M,!B)},p=(M,B,Y,ae)=>{if(M==null)r(B.el=a(B.children),Y,ae);else{const ne=B.el=M.el;B.children!==M.children&&u(ne,B.children)}},g=(M,B,Y,ae)=>{M==null?r(B.el=l(B.children||""),Y,ae):B.el=M.el},b=(M,B,Y,ae)=>{[M.el,M.anchor]=w(M.children,B,Y,ae,M.el,M.anchor)},O=({el:M,anchor:B},Y,ae)=>{let ne;for(;M&&M!==B;)ne=h(M),r(M,Y,ae),M=ne;r(B,Y,ae)},A=({el:M,anchor:B})=>{let Y;for(;M&&M!==B;)Y=h(M),o(M),M=Y;o(B)},L=(M,B,Y,ae,ne,he,Se,be,we)=>{B.type==="svg"?Se="svg":B.type==="math"&&(Se="mathml"),M==null?N(B,Y,ae,ne,he,Se,be,we):_(M,B,ne,he,Se,be,we)},N=(M,B,Y,ae,ne,he,Se,be)=>{let we,ge;const{props:Ue,shapeFlag:De,transition:Be,dirs:Me}=M;if(we=M.el=i(M.type,he,Ue&&Ue.is,Ue),De&8?c(we,M.children):De&16&&S(M.children,we,null,ae,ne,od(M,he),Se,be),Me&&Zo(M,null,ae,"created"),I(we,M,M.scopeId,Se,ae),Ue){for(const mt in Ue)mt!=="value"&&!sa(mt)&&s(we,mt,null,Ue[mt],he,ae);"value"in Ue&&s(we,"value",null,Ue.value,he),(ge=Ue.onVnodeBeforeMount)&&Or(ge,ae,M)}Me&&Zo(M,null,ae,"beforeMount");const We=HC(ne,Be);We&&Be.beforeEnter(we),r(we,B,Y),((ge=Ue&&Ue.onVnodeMounted)||We||Me)&&jn(()=>{ge&&Or(ge,ae,M),We&&Be.enter(we),Me&&Zo(M,null,ae,"mounted")},ne)},I=(M,B,Y,ae,ne)=>{if(Y&&m(M,Y),ae)for(let he=0;he<ae.length;he++)m(M,ae[he]);if(ne){let he=ne.subTree;if(B===he||ab(he.type)&&(he.ssContent===B||he.ssFallback===B)){const Se=ne.vnode;I(M,Se,Se.scopeId,Se.slotScopeIds,ne.parent)}}},S=(M,B,Y,ae,ne,he,Se,be,we=0)=>{for(let ge=we;ge<M.length;ge++){const Ue=M[ge]=be?Co(M[ge]):Dr(M[ge]);C(null,Ue,B,Y,ae,ne,he,Se,be)}},_=(M,B,Y,ae,ne,he,Se)=>{const be=B.el=M.el;let{patchFlag:we,dynamicChildren:ge,dirs:Ue}=B;we|=M.patchFlag&16;const De=M.props||Dt,Be=B.props||Dt;let Me;if(Y&&es(Y,!1),(Me=Be.onVnodeBeforeUpdate)&&Or(Me,Y,B,M),Ue&&Zo(B,M,Y,"beforeUpdate"),Y&&es(Y,!0),(De.innerHTML&&Be.innerHTML==null||De.textContent&&Be.textContent==null)&&c(be,""),ge?P(M.dynamicChildren,ge,be,Y,ae,od(B,ne),he):Se||re(M,B,be,null,Y,ae,od(B,ne),he,!1),we>0){if(we&16)k(be,De,Be,Y,ne);else if(we&2&&De.class!==Be.class&&s(be,"class",null,Be.class,ne),we&4&&s(be,"style",De.style,Be.style,ne),we&8){const We=B.dynamicProps;for(let mt=0;mt<We.length;mt++){const ht=We[mt],$n=De[ht],cn=Be[ht];(cn!==$n||ht==="value")&&s(be,ht,$n,cn,ne,Y)}}we&1&&M.children!==B.children&&c(be,B.children)}else!Se&&ge==null&&k(be,De,Be,Y,ne);((Me=Be.onVnodeUpdated)||Ue)&&jn(()=>{Me&&Or(Me,Y,B,M),Ue&&Zo(B,M,Y,"updated")},ae)},P=(M,B,Y,ae,ne,he,Se)=>{for(let be=0;be<B.length;be++){const we=M[be],ge=B[be],Ue=we.el&&(we.type===le||!as(we,ge)||we.shapeFlag&70)?f(we.el):Y;C(we,ge,Ue,null,ae,ne,he,Se,!0)}},k=(M,B,Y,ae,ne)=>{if(B!==Y){if(B!==Dt)for(const he in B)!sa(he)&&!(he in Y)&&s(M,he,B[he],null,ne,ae);for(const he in Y){if(sa(he))continue;const Se=Y[he],be=B[he];Se!==be&&he!=="value"&&s(M,he,be,Se,ne,ae)}"value"in Y&&s(M,"value",B.value,Y.value,ne)}},R=(M,B,Y,ae,ne,he,Se,be,we)=>{const ge=B.el=M?M.el:a(""),Ue=B.anchor=M?M.anchor:a("");let{patchFlag:De,dynamicChildren:Be,slotScopeIds:Me}=B;Me&&(be=be?be.concat(Me):Me),M==null?(r(ge,Y,ae),r(Ue,Y,ae),S(B.children||[],Y,Ue,ne,he,Se,be,we)):De>0&&De&64&&Be&&M.dynamicChildren?(P(M.dynamicChildren,Be,Y,ne,he,Se,be),(B.key!=null||ne&&B===ne.subTree)&&ph(M,B,!0)):re(M,B,Y,Ue,ne,he,Se,be,we)},D=(M,B,Y,ae,ne,he,Se,be,we)=>{B.slotScopeIds=be,M==null?B.shapeFlag&512?ne.ctx.activate(B,Y,ae,Se,we):oe(B,Y,ae,ne,he,Se,we):J(M,B,we)},oe=(M,B,Y,ae,ne,he,Se)=>{const be=M.component=aE(M,ae,ne);if(Qu(M)&&(be.ctx.renderer=_e),lE(be,!1,Se),be.asyncDep){if(ne&&ne.registerDep(be,Q,Se),!M.el){const we=be.subTree=X(Dn);g(null,we,B,Y)}}else Q(be,M,B,Y,ne,he,Se)},J=(M,B,Y)=>{const ae=B.component=M.component;if(ZC(M,B,Y))if(ae.asyncDep&&!ae.asyncResolved){K(ae,B,Y);return}else ae.next=B,ae.update();else B.el=M.el,ae.vnode=B},Q=(M,B,Y,ae,ne,he,Se)=>{const be=()=>{if(M.isMounted){let{next:De,bu:Be,u:Me,parent:We,vnode:mt}=M;{const Tn=ob(M);if(Tn){De&&(De.el=mt.el,K(M,De,Se)),Tn.asyncDep.then(()=>{M.isUnmounted||be()});return}}let ht=De,$n;es(M,!1),De?(De.el=mt.el,K(M,De,Se)):De=mt,Be&&zl(Be),($n=De.props&&De.props.onVnodeBeforeUpdate)&&Or($n,We,De,mt),es(M,!0);const cn=sd(M),pn=M.subTree;M.subTree=cn,C(pn,cn,f(pn.el),q(pn),M,ne,he),De.el=cn.el,ht===null&&eE(M,cn.el),Me&&jn(Me,ne),($n=De.props&&De.props.onVnodeUpdated)&&jn(()=>Or($n,We,De,mt),ne)}else{let De;const{el:Be,props:Me}=B,{bm:We,m:mt,parent:ht,root:$n,type:cn}=M,pn=Js(B);if(es(M,!1),We&&zl(We),!pn&&(De=Me&&Me.onVnodeBeforeMount)&&Or(De,ht,B),es(M,!0),Be&&nt){const Tn=()=>{M.subTree=sd(M),nt(Be,M.subTree,M,ne,null)};pn&&cn.__asyncHydrate?cn.__asyncHydrate(Be,M,Tn):Tn()}else{$n.ce&&$n.ce._injectChildStyle(cn);const Tn=M.subTree=sd(M);C(null,Tn,Y,ae,M,ne,he),B.el=Tn.el}if(mt&&jn(mt,ne),!pn&&(De=Me&&Me.onVnodeMounted)){const Tn=B;jn(()=>Or(De,ht,Tn),ne)}(B.shapeFlag&256||ht&&Js(ht.vnode)&&ht.vnode.shapeFlag&256)&&M.a&&jn(M.a,ne),M.isMounted=!0,B=Y=ae=null}};M.scope.on();const we=M.effect=new lw(be);M.scope.off();const ge=M.update=we.run.bind(we),Ue=M.job=we.runIfDirty.bind(we);Ue.i=M,Ue.id=M.uid,we.scheduler=()=>ch(Ue),es(M,!0),ge()},K=(M,B,Y)=>{B.component=M;const ae=M.vnode.props;M.vnode=B,M.next=null,MC(M,B.props,ae,Y),xC(M,B.children,Y),qo(),Um(M),Wo()},re=(M,B,Y,ae,ne,he,Se,be,we=!1)=>{const ge=M&&M.children,Ue=M?M.shapeFlag:0,De=B.children,{patchFlag:Be,shapeFlag:Me}=B;if(Be>0){if(Be&128){Te(ge,De,Y,ae,ne,he,Se,be,we);return}else if(Be&256){ie(ge,De,Y,ae,ne,he,Se,be,we);return}}Me&8?(Ue&16&&pe(ge,ne,he),De!==ge&&c(Y,De)):Ue&16?Me&16?Te(ge,De,Y,ae,ne,he,Se,be,we):pe(ge,ne,he,!0):(Ue&8&&c(Y,""),Me&16&&S(De,Y,ae,ne,he,Se,be,we))},ie=(M,B,Y,ae,ne,he,Se,be,we)=>{M=M||Ys,B=B||Ys;const ge=M.length,Ue=B.length,De=Math.min(ge,Ue);let Be;for(Be=0;Be<De;Be++){const Me=B[Be]=we?Co(B[Be]):Dr(B[Be]);C(M[Be],Me,Y,null,ne,he,Se,be,we)}ge>Ue?pe(M,ne,he,!0,!1,De):S(B,Y,ae,ne,he,Se,be,we,De)},Te=(M,B,Y,ae,ne,he,Se,be,we)=>{let ge=0;const Ue=B.length;let De=M.length-1,Be=Ue-1;for(;ge<=De&&ge<=Be;){const Me=M[ge],We=B[ge]=we?Co(B[ge]):Dr(B[ge]);if(as(Me,We))C(Me,We,Y,null,ne,he,Se,be,we);else break;ge++}for(;ge<=De&&ge<=Be;){const Me=M[De],We=B[Be]=we?Co(B[Be]):Dr(B[Be]);if(as(Me,We))C(Me,We,Y,null,ne,he,Se,be,we);else break;De--,Be--}if(ge>De){if(ge<=Be){const Me=Be+1,We=Me<Ue?B[Me].el:ae;for(;ge<=Be;)C(null,B[ge]=we?Co(B[ge]):Dr(B[ge]),Y,We,ne,he,Se,be,we),ge++}}else if(ge>Be)for(;ge<=De;)ke(M[ge],ne,he,!0),ge++;else{const Me=ge,We=ge,mt=new Map;for(ge=We;ge<=Be;ge++){const Ln=B[ge]=we?Co(B[ge]):Dr(B[ge]);Ln.key!=null&&mt.set(Ln.key,ge)}let ht,$n=0;const cn=Be-We+1;let pn=!1,Tn=0;const po=new Array(cn);for(ge=0;ge<cn;ge++)po[ge]=0;for(ge=Me;ge<=De;ge++){const Ln=M[ge];if($n>=cn){ke(Ln,ne,he,!0);continue}let lr;if(Ln.key!=null)lr=mt.get(Ln.key);else for(ht=We;ht<=Be;ht++)if(po[ht-We]===0&&as(Ln,B[ht])){lr=ht;break}lr===void 0?ke(Ln,ne,he,!0):(po[lr-We]=ge+1,lr>=Tn?Tn=lr:pn=!0,C(Ln,B[lr],Y,null,ne,he,Se,be,we),$n++)}const As=pn?qC(po):Ys;for(ht=As.length-1,ge=cn-1;ge>=0;ge--){const Ln=We+ge,lr=B[Ln],Ds=Ln+1<Ue?B[Ln+1].el:ae;po[ge]===0?C(null,lr,Y,Ds,ne,he,Se,be,we):pn&&(ht<0||ge!==As[ht]?Pe(lr,Y,Ds,2):ht--)}}},Pe=(M,B,Y,ae,ne=null)=>{const{el:he,type:Se,transition:be,children:we,shapeFlag:ge}=M;if(ge&6){Pe(M.component.subTree,B,Y,ae);return}if(ge&128){M.suspense.move(B,Y,ae);return}if(ge&64){Se.move(M,B,Y,_e);return}if(Se===le){r(he,B,Y);for(let De=0;De<we.length;De++)Pe(we[De],B,Y,ae);r(M.anchor,B,Y);return}if(Se===ql){O(M,B,Y);return}if(ae!==2&&ge&1&&be)if(ae===0)be.beforeEnter(he),r(he,B,Y),jn(()=>be.enter(he),ne);else{const{leave:De,delayLeave:Be,afterLeave:Me}=be,We=()=>r(he,B,Y),mt=()=>{De(he,()=>{We(),Me&&Me()})};Be?Be(he,We,mt):mt()}else r(he,B,Y)},ke=(M,B,Y,ae=!1,ne=!1)=>{const{type:he,props:Se,ref:be,children:we,dynamicChildren:ge,shapeFlag:Ue,patchFlag:De,dirs:Be,cacheIndex:Me}=M;if(De===-2&&(ne=!1),be!=null&&hu(be,null,Y,M,!0),Me!=null&&(B.renderCache[Me]=void 0),Ue&256){B.ctx.deactivate(M);return}const We=Ue&1&&Be,mt=!Js(M);let ht;if(mt&&(ht=Se&&Se.onVnodeBeforeUnmount)&&Or(ht,B,M),Ue&6)ee(M.component,Y,ae);else{if(Ue&128){M.suspense.unmount(Y,ae);return}We&&Zo(M,null,B,"beforeUnmount"),Ue&64?M.type.remove(M,B,Y,_e,ae):ge&&!ge.hasOnce&&(he!==le||De>0&&De&64)?pe(ge,B,Y,!1,!0):(he===le&&De&384||!ne&&Ue&16)&&pe(we,B,Y),ae&&xe(M)}(mt&&(ht=Se&&Se.onVnodeUnmounted)||We)&&jn(()=>{ht&&Or(ht,B,M),We&&Zo(M,null,B,"unmounted")},Y)},xe=M=>{const{type:B,el:Y,anchor:ae,transition:ne}=M;if(B===le){vt(Y,ae);return}if(B===ql){A(M);return}const he=()=>{o(Y),ne&&!ne.persisted&&ne.afterLeave&&ne.afterLeave()};if(M.shapeFlag&1&&ne&&!ne.persisted){const{leave:Se,delayLeave:be}=ne,we=()=>Se(Y,he);be?be(M.el,he,we):we()}else he()},vt=(M,B)=>{let Y;for(;M!==B;)Y=h(M),o(M),M=Y;o(B)},ee=(M,B,Y)=>{const{bum:ae,scope:ne,job:he,subTree:Se,um:be,m:we,a:ge}=M;Zm(we),Zm(ge),ae&&zl(ae),ne.stop(),he&&(he.flags|=8,ke(Se,M,B,Y)),be&&jn(be,B),jn(()=>{M.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&M.asyncDep&&!M.asyncResolved&&M.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},pe=(M,B,Y,ae=!1,ne=!1,he=0)=>{for(let Se=he;Se<M.length;Se++)ke(M[Se],B,Y,ae,ne)},q=M=>{if(M.shapeFlag&6)return q(M.component.subTree);if(M.shapeFlag&128)return M.suspense.next();const B=h(M.anchor||M.el),Y=B&&B[Aw];return Y?h(Y):B};let te=!1;const se=(M,B,Y)=>{M==null?B._vnode&&ke(B._vnode,null,null,!0):C(B._vnode||null,M,B,null,null,null,Y),B._vnode=M,te||(te=!0,Um(),Iw(),te=!1)},_e={p:C,um:ke,m:Pe,r:xe,mt:oe,mc:S,pc:re,pbc:P,n:q,o:e};let Ke,nt;return{render:se,hydrate:Ke,createApp:NC(se,Ke)}}function od({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function es({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function HC(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ph(e,t,n=!1){const r=e.children,o=t.children;if(je(r)&&je(o))for(let s=0;s<r.length;s++){const i=r[s];let a=o[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[s]=Co(o[s]),a.el=i.el),!n&&a.patchFlag!==-2&&ph(i,a)),a.type===Qa&&(a.el=i.el)}}function qC(e){const t=e.slice(),n=[0];let r,o,s,i,a;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(o=n[n.length-1],e[o]<u){t[r]=o,n.push(r);continue}for(s=0,i=n.length-1;s<i;)a=s+i>>1,e[n[a]]<u?s=a+1:i=a;u<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,i=n[s-1];s-- >0;)n[s]=i,i=t[i];return n}function ob(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ob(t)}function Zm(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const WC=Symbol.for("v-scx"),KC=()=>Lt(WC);function ni(e,t){return mh(e,null,t)}function ve(e,t,n){return mh(e,t,n)}function mh(e,t,n=Dt){const{immediate:r,deep:o,flush:s,once:i}=n,a=rn({},n),l=t&&r||!t&&s!=="post";let u;if(Na){if(s==="sync"){const m=KC();u=m.__watcherHandles||(m.__watcherHandles=[])}else if(!l){const m=()=>{};return m.stop=Nr,m.resume=Nr,m.pause=Nr,m}}const c=fn;a.call=(m,w,C)=>Pr(m,c,w,C);let f=!1;s==="post"?a.scheduler=m=>{jn(m,c&&c.suspense)}:s!=="sync"&&(f=!0,a.scheduler=(m,w)=>{w?m():ch(m)}),a.augmentJob=m=>{t&&(m.flags|=4),f&&(m.flags|=2,c&&(m.id=c.uid,m.i=c))};const h=dC(e,t,a);return Na&&(u?u.push(h):l&&h()),h}function GC(e,t,n){const r=this.proxy,o=zt(e)?e.includes(".")?sb(r,e):()=>r[e]:e.bind(r,r);let s;Qe(t)?s=t:(s=t.handler,n=t);const i=Xa(this),a=mh(o,s.bind(r),n);return i(),a}function sb(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}const YC=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${yr(t)}Modifiers`]||e[`${Is(t)}Modifiers`];function QC(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Dt;let o=n;const s=t.startsWith("update:"),i=s&&YC(r,t.slice(7));i&&(i.trim&&(o=n.map(c=>zt(c)?c.trim():c)),i.number&&(o=n.map(au)));let a,l=r[a=Xc(t)]||r[a=Xc(yr(t))];!l&&s&&(l=r[a=Xc(Is(t))]),l&&Pr(l,e,6,o);const u=r[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Pr(u,e,6,o)}}function ib(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const s=e.emits;let i={},a=!1;if(!Qe(e)){const l=u=>{const c=ib(u,t,!0);c&&(a=!0,rn(i,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(Pt(e)&&r.set(e,null),null):(je(s)?s.forEach(l=>i[l]=null):rn(i,s),Pt(e)&&r.set(e,i),i)}function Ju(e,t){return!e||!Hu(t)?!1:(t=t.slice(2).replace(/Once$/,""),yt(e,t[0].toLowerCase()+t.slice(1))||yt(e,Is(t))||yt(e,t))}function sd(e){const{type:t,vnode:n,proxy:r,withProxy:o,propsOptions:[s],slots:i,attrs:a,emit:l,render:u,renderCache:c,props:f,data:h,setupState:m,ctx:w,inheritAttrs:C}=e,p=fu(e);let g,b;try{if(n.shapeFlag&4){const A=o||r,L=A;g=Dr(u.call(L,A,c,f,m,h,w)),b=a}else{const A=t;g=Dr(A.length>1?A(f,{attrs:a,slots:i,emit:l}):A(f,null)),b=t.props?a:XC(a)}}catch(A){ca.length=0,Yu(A,e,1),g=X(Dn)}let O=g;if(b&&C!==!1){const A=Object.keys(b),{shapeFlag:L}=O;A.length&&L&7&&(s&&A.some(Jf)&&(b=JC(b,s)),O=Bo(O,b,!1,!0))}return n.dirs&&(O=Bo(O,null,!1,!0),O.dirs=O.dirs?O.dirs.concat(n.dirs):n.dirs),n.transition&&Oa(O,n.transition),g=O,fu(p),g}const XC=e=>{let t;for(const n in e)(n==="class"||n==="style"||Hu(n))&&((t||(t={}))[n]=e[n]);return t},JC=(e,t)=>{const n={};for(const r in e)(!Jf(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function ZC(e,t,n){const{props:r,children:o,component:s}=e,{props:i,children:a,patchFlag:l}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?eg(r,i,u):!!i;if(l&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const h=c[f];if(i[h]!==r[h]&&!Ju(u,h))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:r===i?!1:r?i?eg(r,i,u):!0:!!i;return!1}function eg(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(t[s]!==e[s]&&!Ju(n,s))return!0}return!1}function eE({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const ab=e=>e.__isSuspense;function tE(e,t){t&&t.pendingBranch?je(e)?t.effects.push(...e):t.effects.push(e):pC(e)}const le=Symbol.for("v-fgt"),Qa=Symbol.for("v-txt"),Dn=Symbol.for("v-cmt"),ql=Symbol.for("v-stc"),ca=[];let rr=null;function y(e=!1){ca.push(rr=e?null:[])}function nE(){ca.pop(),rr=ca[ca.length-1]||null}let Da=1;function tg(e,t=!1){Da+=e,e<0&&rr&&t&&(rr.hasOnce=!0)}function lb(e){return e.dynamicChildren=Da>0?rr||Ys:null,nE(),Da>0&&rr&&rr.push(e),e}function T(e,t,n,r,o,s){return lb($(e,t,n,r,o,s,!0))}function ye(e,t,n,r,o){return lb(X(e,t,n,r,o,!0))}function Ra(e){return e?e.__v_isVNode===!0:!1}function as(e,t){return e.type===t.type&&e.key===t.key}const ub=({key:e})=>e??null,Wl=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?zt(e)||Gt(e)||Qe(e)?{i:sn,r:e,k:t,f:!!n}:e:null);function $(e,t=null,n=null,r=0,o=null,s=e===le?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ub(t),ref:t&&Wl(t),scopeId:Ow,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:sn};return a?(gh(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=zt(n)?8:16),Da>0&&!i&&rr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&rr.push(l),l}const X=rE;function rE(e,t=null,n=null,r=0,o=null,s=!1){if((!e||e===Hw)&&(e=Dn),Ra(e)){const a=Bo(e,t,!0);return n&&gh(a,n),Da>0&&!s&&rr&&(a.shapeFlag&6?rr[rr.indexOf(e)]=a:rr.push(a)),a.patchFlag=-2,a}if(fE(e)&&(e=e.__vccOpts),t){t=cb(t);let{class:a,style:l}=t;a&&!zt(a)&&(t.class=z(a)),Pt(l)&&(lh(l)&&!je(l)&&(l=rn({},l)),t.style=W(l))}const i=zt(e)?1:ab(e)?128:Dw(e)?64:Pt(e)?4:Qe(e)?2:0;return $(e,t,n,r,o,i,s,!0)}function cb(e){return e?lh(e)||Xw(e)?rn({},e):e:null}function Bo(e,t,n=!1,r=!1){const{props:o,ref:s,patchFlag:i,children:a,transition:l}=e,u=t?ws(o||{},t):o,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&ub(u),ref:t&&t.ref?n&&s?je(s)?s.concat(Wl(t)):[s,Wl(t)]:Wl(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==le?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Bo(e.ssContent),ssFallback:e.ssFallback&&Bo(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&Oa(c,l.clone(c)),c}function Ie(e=" ",t=0){return X(Qa,null,e,t)}function oE(e,t){const n=X(ql,null,e);return n.staticCount=t,n}function j(e="",t=!1){return t?(y(),ye(Dn,null,e)):X(Dn,null,e)}function Dr(e){return e==null||typeof e=="boolean"?X(Dn):je(e)?X(le,null,e.slice()):Ra(e)?Co(e):X(Qa,null,String(e))}function Co(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Bo(e)}function gh(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(je(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),gh(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!Xw(t)?t._ctx=sn:o===3&&sn&&(sn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Qe(t)?(t={default:t,_ctx:sn},n=32):(t=String(t),r&64?(n=16,t=[Ie(t)]):n=8);e.children=t,e.shapeFlag|=n}function ws(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=z([t.class,r.class]));else if(o==="style")t.style=W([t.style,r.style]);else if(Hu(o)){const s=t[o],i=r[o];i&&s!==i&&!(je(s)&&s.includes(i))&&(t[o]=s?[].concat(s,i):i)}else o!==""&&(t[o]=r[o])}return t}function Or(e,t,n,r=null){Pr(e,t,7,[n,r])}const sE=Gw();let iE=0;function aE(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||sE,s={uid:iE++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new sw(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Zw(r,o),emitsOptions:ib(r,o),emit:null,emitted:null,propsDefaults:Dt,inheritAttrs:r.inheritAttrs,ctx:Dt,data:Dt,props:Dt,attrs:Dt,slots:Dt,refs:Dt,setupState:Dt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=QC.bind(null,s),e.ce&&e.ce(s),s}let fn=null;const Mr=()=>fn||sn;let mu,Yd;{const e=Ku(),t=(n,r)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(r),s=>{o.length>1?o.forEach(i=>i(s)):o[0](s)}};mu=t("__VUE_INSTANCE_SETTERS__",n=>fn=n),Yd=t("__VUE_SSR_SETTERS__",n=>Na=n)}const Xa=e=>{const t=fn;return mu(e),e.scope.on(),()=>{e.scope.off(),mu(t)}},ng=()=>{fn&&fn.scope.off(),mu(null)};function db(e){return e.vnode.shapeFlag&4}let Na=!1;function lE(e,t=!1,n=!1){t&&Yd(t);const{props:r,children:o}=e.vnode,s=db(e);LC(e,r,s,t),jC(e,o,n);const i=s?uE(e,t):void 0;return t&&Yd(!1),i}function uE(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,EC);const{setup:r}=n;if(r){qo();const o=e.setupContext=r.length>1?hb(e):null,s=Xa(e),i=Ka(r,e,0,[e.props,o]),a=J_(i);if(Wo(),s(),(a||e.sp)&&!Js(e)&&xw(e),a){if(i.then(ng,ng),t)return i.then(l=>{rg(e,l,t)}).catch(l=>{Yu(l,e,0)});e.asyncDep=i}else rg(e,i,t)}else fb(e,t)}function rg(e,t,n){Qe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Pt(t)&&(e.setupState=Sw(t)),fb(e,n)}let og;function fb(e,t,n){const r=e.type;if(!e.render){if(!t&&og&&!r.render){const o=r.template||fh(e).template;if(o){const{isCustomElement:s,compilerOptions:i}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,u=rn(rn({isCustomElement:s,delimiters:a},i),l);r.render=og(o,u)}}e.render=r.render||Nr}{const o=Xa(e);qo();try{IC(e)}finally{Wo(),o()}}}const cE={get(e,t){return kn(e,"get",""),e[t]}};function hb(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,cE),slots:e.slots,emit:e.emit,expose:t}}function Zu(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Sw(uh(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ua)return ua[n](e)},has(t,n){return n in t||n in ua}})):e.proxy}function dE(e,t=!0){return Qe(e)?e.displayName||e.name:e.name||t&&e.__name}function fE(e){return Qe(e)&&"__vccOpts"in e}const F=(e,t)=>uC(e,t,Na);function Ct(e,t,n){const r=arguments.length;return r===2?Pt(t)&&!je(t)?Ra(t)?X(e,null,[t]):X(e,t):X(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ra(n)&&(n=[n]),X(e,t,n))}const hE="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qd;const sg=typeof window<"u"&&window.trustedTypes;if(sg)try{Qd=sg.createPolicy("vue",{createHTML:e=>e})}catch{}const pb=Qd?e=>Qd.createHTML(e):e=>e,pE="http://www.w3.org/2000/svg",mE="http://www.w3.org/1998/Math/MathML",Xr=typeof document<"u"?document:null,ig=Xr&&Xr.createElement("template"),gE={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t==="svg"?Xr.createElementNS(pE,e):t==="mathml"?Xr.createElementNS(mE,e):n?Xr.createElement(e,{is:n}):Xr.createElement(e);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>Xr.createTextNode(e),createComment:e=>Xr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Xr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,s){const i=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{ig.innerHTML=pb(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=ig.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},yo="transition",Hi="animation",Va=Symbol("_vtc"),mb={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},vE=rn({},Lw,mb),yE=e=>(e.displayName="Transition",e.props=vE,e),vh=yE((e,{slots:t})=>Ct(yC,_E(e),t)),ts=(e,t=[])=>{je(e)?e.forEach(n=>n(...t)):e&&e(...t)},ag=e=>e?je(e)?e.some(t=>t.length>1):e.length>1:!1;function _E(e){const t={};for(const R in e)R in mb||(t[R]=e[R]);if(e.css===!1)return t;const{name:n="v",type:r,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=i,appearToClass:c=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=e,w=wE(o),C=w&&w[0],p=w&&w[1],{onBeforeEnter:g,onEnter:b,onEnterCancelled:O,onLeave:A,onLeaveCancelled:L,onBeforeAppear:N=g,onAppear:I=b,onAppearCancelled:S=O}=t,_=(R,D,oe,J)=>{R._enterCancelled=J,ns(R,D?c:a),ns(R,D?u:i),oe&&oe()},P=(R,D)=>{R._isLeaving=!1,ns(R,f),ns(R,m),ns(R,h),D&&D()},k=R=>(D,oe)=>{const J=R?I:b,Q=()=>_(D,R,oe);ts(J,[D,Q]),lg(()=>{ns(D,R?l:s),Yr(D,R?c:a),ag(J)||ug(D,r,C,Q)})};return rn(t,{onBeforeEnter(R){ts(g,[R]),Yr(R,s),Yr(R,i)},onBeforeAppear(R){ts(N,[R]),Yr(R,l),Yr(R,u)},onEnter:k(!1),onAppear:k(!0),onLeave(R,D){R._isLeaving=!0;const oe=()=>P(R,D);Yr(R,f),R._enterCancelled?(Yr(R,h),fg()):(fg(),Yr(R,h)),lg(()=>{R._isLeaving&&(ns(R,f),Yr(R,m),ag(A)||ug(R,r,p,oe))}),ts(A,[R,oe])},onEnterCancelled(R){_(R,!1,void 0,!0),ts(O,[R])},onAppearCancelled(R){_(R,!0,void 0,!0),ts(S,[R])},onLeaveCancelled(R){P(R),ts(L,[R])}})}function wE(e){if(e==null)return null;if(Pt(e))return[id(e.enter),id(e.leave)];{const t=id(e);return[t,t]}}function id(e){return I3(e)}function Yr(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Va]||(e[Va]=new Set)).add(t)}function ns(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Va];n&&(n.delete(t),n.size||(e[Va]=void 0))}function lg(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let bE=0;function ug(e,t,n,r){const o=e._endId=++bE,s=()=>{o===e._endId&&r()};if(n!=null)return setTimeout(s,n);const{type:i,timeout:a,propCount:l}=$E(e,t);if(!i)return r();const u=i+"end";let c=0;const f=()=>{e.removeEventListener(u,h),s()},h=m=>{m.target===e&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},a+1),e.addEventListener(u,h)}function $E(e,t){const n=window.getComputedStyle(e),r=w=>(n[w]||"").split(", "),o=r(`${yo}Delay`),s=r(`${yo}Duration`),i=cg(o,s),a=r(`${Hi}Delay`),l=r(`${Hi}Duration`),u=cg(a,l);let c=null,f=0,h=0;t===yo?i>0&&(c=yo,f=i,h=s.length):t===Hi?u>0&&(c=Hi,f=u,h=l.length):(f=Math.max(i,u),c=f>0?i>u?yo:Hi:null,h=c?c===yo?s.length:l.length:0);const m=c===yo&&/\b(transform|all)(,|$)/.test(r(`${yo}Property`).toString());return{type:c,timeout:f,propCount:h,hasTransform:m}}function cg(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>dg(n)+dg(e[r])))}function dg(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function fg(){return document.body.offsetHeight}function TE(e,t,n){const r=e[Va];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const gu=Symbol("_vod"),gb=Symbol("_vsh"),jt={beforeMount(e,{value:t},{transition:n}){e[gu]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):qi(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),qi(e,!0),r.enter(e)):r.leave(e,()=>{qi(e,!1)}):qi(e,t))},beforeUnmount(e,{value:t}){qi(e,t)}};function qi(e,t){e.style.display=t?e[gu]:"none",e[gb]=!t}const SE=Symbol(""),CE=/(^|;)\s*display\s*:/;function EE(e,t,n){const r=e.style,o=zt(n);let s=!1;if(n&&!o){if(t)if(zt(t))for(const i of t.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&Kl(r,a,"")}else for(const i in t)n[i]==null&&Kl(r,i,"");for(const i in n)i==="display"&&(s=!0),Kl(r,i,n[i])}else if(o){if(t!==n){const i=r[SE];i&&(n+=";"+i),r.cssText=n,s=CE.test(n)}}else t&&e.removeAttribute("style");gu in e&&(e[gu]=s?r.display:"",e[gb]&&(r.display="none"))}const hg=/\s*!important$/;function Kl(e,t,n){if(je(n))n.forEach(r=>Kl(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=PE(e,t);hg.test(n)?e.setProperty(Is(r),n.replace(hg,""),"important"):e[r]=n}}const pg=["Webkit","Moz","ms"],ad={};function PE(e,t){const n=ad[t];if(n)return n;let r=yr(t);if(r!=="filter"&&r in e)return ad[t]=r;r=Wu(r);for(let o=0;o<pg.length;o++){const s=pg[o]+r;if(s in e)return ad[t]=s}return t}const mg="http://www.w3.org/1999/xlink";function gg(e,t,n,r,o,s=V3(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(mg,t.slice(6,t.length)):e.setAttributeNS(mg,t,n):n==null||s&&!nw(n)?e.removeAttribute(t):e.setAttribute(t,s?"":Er(n)?String(n):n)}function vg(e,t,n,r,o){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?pb(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=nw(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(o||t)}function eo(e,t,n,r){e.addEventListener(t,n,r)}function IE(e,t,n,r){e.removeEventListener(t,n,r)}const yg=Symbol("_vei");function kE(e,t,n,r,o=null){const s=e[yg]||(e[yg]={}),i=s[t];if(r&&i)i.value=r;else{const[a,l]=OE(t);if(r){const u=s[t]=RE(r,o);eo(e,a,u,l)}else i&&(IE(e,a,i,l),s[t]=void 0)}}const _g=/(?:Once|Passive|Capture)$/;function OE(e){let t;if(_g.test(e)){t={};let r;for(;r=e.match(_g);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Is(e.slice(2)),t]}let ld=0;const AE=Promise.resolve(),DE=()=>ld||(AE.then(()=>ld=0),ld=Date.now());function RE(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Pr(NE(r,n.value),t,5,[r])};return n.value=e,n.attached=DE(),n}function NE(e,t){if(je(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const wg=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,VE=(e,t,n,r,o,s)=>{const i=o==="svg";t==="class"?TE(e,r,i):t==="style"?EE(e,n,r):Hu(t)?Jf(t)||kE(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):LE(e,t,r,i))?(vg(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&gg(e,t,r,i,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!zt(r))?vg(e,yr(t),r,s,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),gg(e,t,r,i))};function LE(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&wg(t)&&Qe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return wg(t)&&zt(n)?!1:t in e}const Fo=e=>{const t=e.props["onUpdate:modelValue"]||!1;return je(t)?n=>zl(t,n):t};function ME(e){e.target.composing=!0}function bg(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const hr=Symbol("_assign"),to={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e[hr]=Fo(o);const s=r||o.props&&o.props.type==="number";eo(e,t?"change":"input",i=>{if(i.target.composing)return;let a=e.value;n&&(a=a.trim()),s&&(a=au(a)),e[hr](a)}),n&&eo(e,"change",()=>{e.value=e.value.trim()}),t||(eo(e,"compositionstart",ME),eo(e,"compositionend",bg),eo(e,"change",bg))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:o,number:s}},i){if(e[hr]=Fo(i),e.composing)return;const a=(s||e.type==="number")&&!/^0\d/.test(e.value)?au(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||o&&e.value.trim()===l)||(e.value=l))}},BE={deep:!0,created(e,t,n){e[hr]=Fo(n),eo(e,"change",()=>{const r=e._modelValue,o=ri(e),s=e.checked,i=e[hr];if(je(r)){const a=th(r,o),l=a!==-1;if(s&&!l)i(r.concat(o));else if(!s&&l){const u=[...r];u.splice(a,1),i(u)}}else if(yi(r)){const a=new Set(r);s?a.add(o):a.delete(o),i(a)}else i(vb(e,s))})},mounted:$g,beforeUpdate(e,t,n){e[hr]=Fo(n),$g(e,t,n)}};function $g(e,{value:t,oldValue:n},r){e._modelValue=t;let o;if(je(t))o=th(t,r.props.value)>-1;else if(yi(t))o=t.has(r.props.value);else{if(t===n)return;o=ys(t,vb(e,!0))}e.checked!==o&&(e.checked=o)}const FE={created(e,{value:t},n){e.checked=ys(t,n.props.value),e[hr]=Fo(n),eo(e,"change",()=>{e[hr](ri(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[hr]=Fo(r),t!==n&&(e.checked=ys(t,r.props.value))}},jE={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const o=yi(t);eo(e,"change",()=>{const s=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>n?au(ri(i)):ri(i));e[hr](e.multiple?o?new Set(s):s:s[0]),e._assigning=!0,Et(()=>{e._assigning=!1})}),e[hr]=Fo(r)},mounted(e,{value:t}){Tg(e,t)},beforeUpdate(e,t,n){e[hr]=Fo(n)},updated(e,{value:t}){e._assigning||Tg(e,t)}};function Tg(e,t){const n=e.multiple,r=je(t);if(!(n&&!r&&!yi(t))){for(let o=0,s=e.options.length;o<s;o++){const i=e.options[o],a=ri(i);if(n)if(r){const l=typeof a;l==="string"||l==="number"?i.selected=t.some(u=>String(u)===String(a)):i.selected=th(t,a)>-1}else i.selected=t.has(a);else if(ys(ri(i),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ri(e){return"_value"in e?e._value:e.value}function vb(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const yb={created(e,t,n){Il(e,t,n,null,"created")},mounted(e,t,n){Il(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){Il(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){Il(e,t,n,r,"updated")}};function xE(e,t){switch(e){case"SELECT":return jE;case"TEXTAREA":return to;default:switch(t){case"checkbox":return BE;case"radio":return FE;default:return to}}}function Il(e,t,n,r,o){const i=xE(e.tagName,n.props&&n.props.type)[o];i&&i(e,t,n,r)}const UE=["ctrl","shift","alt","meta"],zE={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>UE.some(n=>e[`${n}Key`]&&!t.includes(n))},Vt=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(o,...s)=>{for(let i=0;i<t.length;i++){const a=zE[t[i]];if(a&&a(o,t))return}return e(o,...s)})},HE=rn({patchProp:VE},gE);let Sg;function _b(){return Sg||(Sg=UC(HE))}const wb=(...e)=>{_b().render(...e)},bb=(...e)=>{const t=_b().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=WE(r);if(!o)return;const s=t._component;!Qe(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const i=n(o,!1,qE(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},t};function qE(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function WE(e){return zt(e)?document.querySelector(e):e}var KE=!1;/*!
 * pinia v2.2.6
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let $b;const ec=e=>$b=e,Tb=Symbol();function Xd(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var da;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(da||(da={}));function GE(){const e=iw(!0),t=e.run(()=>H({}));let n=[],r=[];const o=uh({install(s){ec(o),o._a=s,s.provide(Tb,o),s.config.globalProperties.$pinia=o,r.forEach(i=>n.push(i)),r=[]},use(s){return!this._a&&!KE?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const Sb=()=>{};function Cg(e,t,n,r=Sb){e.push(t);const o=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&aw()&&M3(o),o}function Bs(e,...t){e.slice().forEach(n=>{n(...t)})}const YE=e=>e(),Eg=Symbol(),ud=Symbol();function Jd(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,r)=>e.set(r,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];Xd(o)&&Xd(r)&&e.hasOwnProperty(n)&&!Gt(r)&&!Ao(r)?e[n]=Jd(o,r):e[n]=r}return e}const QE=Symbol();function XE(e){return!Xd(e)||!e.hasOwnProperty(QE)}const{assign:bo}=Object;function JE(e){return!!(Gt(e)&&e.effect)}function ZE(e,t,n,r){const{state:o,actions:s,getters:i}=t,a=n.state.value[e];let l;function u(){a||(n.state.value[e]=o?o():{});const c=rt(n.state.value[e]);return bo(c,s,Object.keys(i||{}).reduce((f,h)=>(f[h]=uh(F(()=>{ec(n);const m=n._s.get(e);return i[h].call(m,m)})),f),{}))}return l=Cb(e,u,t,n,r,!0),l}function Cb(e,t,n={},r,o,s){let i;const a=bo({actions:{}},n),l={deep:!0};let u,c,f=[],h=[],m;const w=r.state.value[e];!s&&!w&&(r.state.value[e]={}),H({});let C;function p(S){let _;u=c=!1,typeof S=="function"?(S(r.state.value[e]),_={type:da.patchFunction,storeId:e,events:m}):(Jd(r.state.value[e],S),_={type:da.patchObject,payload:S,storeId:e,events:m});const P=C=Symbol();Et().then(()=>{C===P&&(u=!0)}),c=!0,Bs(f,_,r.state.value[e])}const g=s?function(){const{state:_}=n,P=_?_():{};this.$patch(k=>{bo(k,P)})}:Sb;function b(){i.stop(),f=[],h=[],r._s.delete(e)}const O=(S,_="")=>{if(Eg in S)return S[ud]=_,S;const P=function(){ec(r);const k=Array.from(arguments),R=[],D=[];function oe(K){R.push(K)}function J(K){D.push(K)}Bs(h,{args:k,name:P[ud],store:L,after:oe,onError:J});let Q;try{Q=S.apply(this&&this.$id===e?this:L,k)}catch(K){throw Bs(D,K),K}return Q instanceof Promise?Q.then(K=>(Bs(R,K),K)).catch(K=>(Bs(D,K),Promise.reject(K))):(Bs(R,Q),Q)};return P[Eg]=!0,P[ud]=_,P},A={_p:r,$id:e,$onAction:Cg.bind(null,h),$patch:p,$reset:g,$subscribe(S,_={}){const P=Cg(f,S,_.detached,()=>k()),k=i.run(()=>ve(()=>r.state.value[e],R=>{(_.flush==="sync"?c:u)&&S({storeId:e,type:da.direct,events:m},R)},bo({},l,_)));return P},$dispose:b},L=qe(A);r._s.set(e,L);const I=(r._a&&r._a.runWithContext||YE)(()=>r._e.run(()=>(i=iw()).run(()=>t({action:O}))));for(const S in I){const _=I[S];if(Gt(_)&&!JE(_)||Ao(_))s||(w&&XE(_)&&(Gt(_)?_.value=w[S]:Jd(_,w[S])),r.state.value[e][S]=_);else if(typeof _=="function"){const P=O(_,S);I[S]=P,a.actions[S]=_}}return bo(L,I),bo(dt(L),I),Object.defineProperty(L,"$state",{get:()=>r.state.value[e],set:S=>{p(_=>{bo(_,S)})}}),r._p.forEach(S=>{bo(L,i.run(()=>S({store:L,app:r._a,pinia:r,options:a})))}),w&&s&&n.hydrate&&n.hydrate(L.$state,w),u=!0,c=!0,L}/*! #__NO_SIDE_EFFECTS__ */function Eb(e,t,n){let r,o;const s=typeof t=="function";typeof e=="string"?(r=e,o=s?n:t):(o=e,r=e.id);function i(a,l){const u=VC();return a=a||(u?Lt(Tb,null):null),a&&ec(a),a=$b,a._s.has(r)||(s?Cb(r,t,o,a):ZE(r,o,a)),a._s.get(r)}return i.$id=r,i}var Pg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},eP=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const s=e[n++];t[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){const s=e[n++],i=e[n++],a=e[n++],l=((o&7)<<18|(s&63)<<12|(i&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],i=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|i&63)}}return t.join("")},Ib={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const s=e[o],i=o+1<e.length,a=i?e[o+1]:0,l=o+2<e.length,u=l?e[o+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,m=u&63;l||(m=64,i||(h=64)),r.push(n[c],n[f],n[h],n[m])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Pb(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):eP(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const s=n[e.charAt(o++)],a=o<e.length?n[e.charAt(o)]:0;++o;const u=o<e.length?n[e.charAt(o)]:64;++o;const f=o<e.length?n[e.charAt(o)]:64;if(++o,s==null||a==null||u==null||f==null)throw new tP;const h=s<<2|a>>4;if(r.push(h),u!==64){const m=a<<4&240|u>>2;if(r.push(m),f!==64){const w=u<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class tP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nP=function(e){const t=Pb(e);return Ib.encodeByteArray(t,!0)},vu=function(e){return nP(e).replace(/\./g,"")},rP=function(e){try{return Ib.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=()=>oP().__FIREBASE_DEFAULTS__,iP=()=>{if(typeof process>"u"||typeof Pg>"u")return;const e=Pg.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},aP=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&rP(e[1]);return t&&JSON.parse(t)},yh=()=>{try{return sP()||iP()||aP()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},lP=e=>{var t,n;return(n=(t=yh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},kb=e=>{const t=lP(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ob=()=>{var e;return(e=yh())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[vu(JSON.stringify(n)),vu(JSON.stringify(i)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dP(){var e;const t=(e=yh())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fP(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function hP(){return!dP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Db(){try{return typeof indexedDB=="object"}catch{return!1}}function Rb(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var s;t(((s=o.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}function pP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP="FirebaseError";class co extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=mP,Object.setPrototypeOf(this,co.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tc.prototype.create)}}class tc{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,s=this.errors[t],i=s?gP(s,r):"Error",a=`${this.serviceName}: ${i} (${o}).`;return new co(o,a,r)}}function gP(e,t){return e.replace(vP,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const vP=/\{\$([^}]+)}/g;function yu(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const s=e[o],i=t[o];if(Ig(s)&&Ig(i)){if(!yu(s,i))return!1}else if(s!==i)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Ig(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=1e3,_P=2,wP=4*60*60*1e3,bP=.5;function kg(e,t=yP,n=_P){const r=t*Math.pow(n,e),o=Math.round(bP*r*(Math.random()-.5)*2);return Math.min(wP,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(e){return e&&e._delegate?e._delegate:e}class Br{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new uP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(SP(t))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:o});r.resolve(s)}catch{}}}}clearInstance(t=is){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=is){return this.instances.has(t)}getOptions(t=is){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&i.resolve(o)}return o}onInit(t,n){var r;const o=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(o,s);const i=this.instances.get(o);return i&&t(i,o),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TP(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=is){return this.component?this.component.multipleInstances?t:is:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TP(e){return e===is?void 0:e}function SP(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new $P(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ut||(ut={}));const EP={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},PP=ut.INFO,IP={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},kP=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),o=IP[t];if(o)console[o](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _h{constructor(t){this.name=t,this._logLevel=PP,this._logHandler=kP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?EP[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...t),this._logHandler(this,ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...t),this._logHandler(this,ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...t),this._logHandler(this,ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...t),this._logHandler(this,ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...t),this._logHandler(this,ut.ERROR,...t)}}const OP=(e,t)=>t.some(n=>e instanceof n);let Og,Ag;function AP(){return Og||(Og=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DP(){return Ag||(Ag=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nb=new WeakMap,Zd=new WeakMap,Vb=new WeakMap,cd=new WeakMap,wh=new WeakMap;function RP(e){const t=new Promise((n,r)=>{const o=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{n(Do(e.result)),o()},i=()=>{r(e.error),o()};e.addEventListener("success",s),e.addEventListener("error",i)});return t.then(n=>{n instanceof IDBCursor&&Nb.set(n,e)}).catch(()=>{}),wh.set(t,e),t}function NP(e){if(Zd.has(e))return;const t=new Promise((n,r)=>{const o=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{n(),o()},i=()=>{r(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});Zd.set(e,t)}let ef={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Zd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Vb.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Do(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function VP(e){ef=e(ef)}function LP(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(dd(this),t,...n);return Vb.set(r,t.sort?t.sort():[t]),Do(r)}:DP().includes(e)?function(...t){return e.apply(dd(this),t),Do(Nb.get(this))}:function(...t){return Do(e.apply(dd(this),t))}}function MP(e){return typeof e=="function"?LP(e):(e instanceof IDBTransaction&&NP(e),OP(e,AP())?new Proxy(e,ef):e)}function Do(e){if(e instanceof IDBRequest)return RP(e);if(cd.has(e))return cd.get(e);const t=MP(e);return t!==e&&(cd.set(e,t),wh.set(t,e)),t}const dd=e=>wh.get(e);function Lb(e,t,{blocked:n,upgrade:r,blocking:o,terminated:s}={}){const i=indexedDB.open(e,t),a=Do(i);return r&&i.addEventListener("upgradeneeded",l=>{r(Do(i.result),l.oldVersion,l.newVersion,Do(i.transaction),l)}),n&&i.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),o&&l.addEventListener("versionchange",u=>o(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const BP=["get","getKey","getAll","getAllKeys","count"],FP=["put","add","delete","clear"],fd=new Map;function Dg(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(fd.get(t))return fd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=FP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||BP.includes(n)))return;const s=async function(i,...a){const l=this.transaction(i,o?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),o&&l.done]))[0]};return fd.set(t,s),s}VP(e=>({...e,get:(t,n,r)=>Dg(t,n)||e.get(t,n,r),has:(t,n)=>!!Dg(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xP(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const tf="@firebase/app",Rg="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=new _h("@firebase/app"),UP="@firebase/app-compat",zP="@firebase/analytics-compat",HP="@firebase/analytics",qP="@firebase/app-check-compat",WP="@firebase/app-check",KP="@firebase/auth",GP="@firebase/auth-compat",YP="@firebase/database",QP="@firebase/data-connect",XP="@firebase/database-compat",JP="@firebase/functions",ZP="@firebase/functions-compat",eI="@firebase/installations",tI="@firebase/installations-compat",nI="@firebase/messaging",rI="@firebase/messaging-compat",oI="@firebase/performance",sI="@firebase/performance-compat",iI="@firebase/remote-config",aI="@firebase/remote-config-compat",lI="@firebase/storage",uI="@firebase/storage-compat",cI="@firebase/firestore",dI="@firebase/vertexai",fI="@firebase/firestore-compat",hI="firebase",pI="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf="[DEFAULT]",mI={[tf]:"fire-core",[UP]:"fire-core-compat",[HP]:"fire-analytics",[zP]:"fire-analytics-compat",[WP]:"fire-app-check",[qP]:"fire-app-check-compat",[KP]:"fire-auth",[GP]:"fire-auth-compat",[YP]:"fire-rtdb",[QP]:"fire-data-connect",[XP]:"fire-rtdb-compat",[JP]:"fire-fn",[ZP]:"fire-fn-compat",[eI]:"fire-iid",[tI]:"fire-iid-compat",[nI]:"fire-fcm",[rI]:"fire-fcm-compat",[oI]:"fire-perf",[sI]:"fire-perf-compat",[iI]:"fire-rc",[aI]:"fire-rc-compat",[lI]:"fire-gcs",[uI]:"fire-gcs-compat",[cI]:"fire-fst",[fI]:"fire-fst-compat",[dI]:"fire-vertex","fire-js":"fire-js",[hI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=new Map,gI=new Map,rf=new Map;function Ng(e,t){try{e.container.addComponent(t)}catch(n){oo.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function so(e){const t=e.name;if(rf.has(t))return oo.debug(`There were multiple attempts to register component ${t}.`),!1;rf.set(t,e);for(const n of _u.values())Ng(n,e);for(const n of gI.values())Ng(n,e);return!0}function bi(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ro=new tc("app","Firebase",vI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ro.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=pI;function Bb(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:nf,automaticDataCollectionEnabled:!1},t),o=r.name;if(typeof o!="string"||!o)throw Ro.create("bad-app-name",{appName:String(o)});if(n||(n=Ob()),!n)throw Ro.create("no-options");const s=_u.get(o);if(s){if(yu(n,s.options)&&yu(r,s.config))return s;throw Ro.create("duplicate-app",{appName:o})}const i=new CP(o);for(const l of rf.values())i.addComponent(l);const a=new yI(n,r,i);return _u.set(o,a),a}function bh(e=nf){const t=_u.get(e);if(!t&&e===nf&&Ob())return Bb();if(!t)throw Ro.create("no-app",{appName:e});return t}function pr(e,t,n){var r;let o=(r=mI[e])!==null&&r!==void 0?r:e;n&&(o+=`-${n}`);const s=o.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const a=[`Unable to register library "${o}" with version "${t}":`];s&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),oo.warn(a.join(" "));return}so(new Br(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="firebase-heartbeat-database",wI=1,La="firebase-heartbeat-store";let hd=null;function Fb(){return hd||(hd=Lb(_I,wI,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(La)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ro.create("idb-open",{originalErrorMessage:e.message})})),hd}async function bI(e){try{const n=(await Fb()).transaction(La),r=await n.objectStore(La).get(jb(e));return await n.done,r}catch(t){if(t instanceof co)oo.warn(t.message);else{const n=Ro.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});oo.warn(n.message)}}}async function Vg(e,t){try{const r=(await Fb()).transaction(La,"readwrite");await r.objectStore(La).put(t,jb(e)),await r.done}catch(n){if(n instanceof co)oo.warn(n.message);else{const r=Ro.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oo.warn(r.message)}}}function jb(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=1024,TI=30*24*60*60*1e3;class SI{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new EI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Lg();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const a=new Date(i.date).valueOf();return Date.now()-a<=TI}),this._storage.overwrite(this._heartbeatsCache))}catch(r){oo.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Lg(),{heartbeatsToSend:r,unsentEntries:o}=CI(this._heartbeatsCache.heartbeats),s=vu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return oo.warn(n),""}}}function Lg(){return new Date().toISOString().substring(0,10)}function CI(e,t=$I){const n=[];let r=e.slice();for(const o of e){const s=n.find(i=>i.agent===o.agent);if(s){if(s.dates.push(o.date),Mg(n)>t){s.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Mg(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class EI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Db()?Rb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Vg(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Vg(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Mg(e){return vu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(e){so(new Br("platform-logger",t=>new jP(t),"PRIVATE")),so(new Br("heartbeat",t=>new SI(t),"PRIVATE")),pr(tf,Rg,e),pr(tf,Rg,"esm2017"),pr("fire-js","")}PI("");var II="firebase",kI="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pr(II,kI,"app");const xb="@firebase/installations",$h="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=1e4,zb=`w:${$h}`,Hb="FIS_v2",OI="https://firebaseinstallations.googleapis.com/v1",AI=60*60*1e3,DI="installations",RI="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},bs=new tc(DI,RI,NI);function qb(e){return e instanceof co&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb({projectId:e}){return`${OI}/projects/${e}/installations`}function Kb(e){return{token:e.token,requestStatus:2,expiresIn:LI(e.expiresIn),creationTime:Date.now()}}async function Gb(e,t){const r=(await t.json()).error;return bs.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Yb({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function VI(e,{refreshToken:t}){const n=Yb(e);return n.append("Authorization",MI(t)),n}async function Qb(e){const t=await e();return t.status>=500&&t.status<600?e():t}function LI(e){return Number(e.replace("s","000"))}function MI(e){return`${Hb} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=Wb(e),o=Yb(e),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&o.append("x-firebase-client",u)}const i={fid:n,authVersion:Hb,appId:e.appId,sdkVersion:zb},a={method:"POST",headers:o,body:JSON.stringify(i)},l=await Qb(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:Kb(u.authToken)}}else throw await Gb("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=/^[cdef][\w-]{21}$/,of="";function xI(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=UI(e);return jI.test(n)?n:of}catch{return of}}function UI(e){return FI(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=new Map;function Zb(e,t){const n=nc(e);e2(n,t),zI(n,t)}function e2(e,t){const n=Jb.get(e);if(n)for(const r of n)r(t)}function zI(e,t){const n=HI();n&&n.postMessage({key:e,fid:t}),qI()}let cs=null;function HI(){return!cs&&"BroadcastChannel"in self&&(cs=new BroadcastChannel("[Firebase] FID Change"),cs.onmessage=e=>{e2(e.data.key,e.data.fid)}),cs}function qI(){Jb.size===0&&cs&&(cs.close(),cs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="firebase-installations-database",KI=1,$s="firebase-installations-store";let pd=null;function Th(){return pd||(pd=Lb(WI,KI,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore($s)}}})),pd}async function wu(e,t){const n=nc(e),o=(await Th()).transaction($s,"readwrite"),s=o.objectStore($s),i=await s.get(n);return await s.put(t,n),await o.done,(!i||i.fid!==t.fid)&&Zb(e,t.fid),t}async function t2(e){const t=nc(e),r=(await Th()).transaction($s,"readwrite");await r.objectStore($s).delete(t),await r.done}async function rc(e,t){const n=nc(e),o=(await Th()).transaction($s,"readwrite"),s=o.objectStore($s),i=await s.get(n),a=t(i);return a===void 0?await s.delete(n):await s.put(a,n),await o.done,a&&(!i||i.fid!==a.fid)&&Zb(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(e){let t;const n=await rc(e.appConfig,r=>{const o=GI(r),s=YI(e,o);return t=s.registrationPromise,s.installationEntry});return n.fid===of?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function GI(e){const t=e||{fid:xI(),registrationStatus:0};return n2(t)}function YI(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(bs.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=QI(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:XI(e)}:{installationEntry:t}}async function QI(e,t){try{const n=await BI(e,t);return wu(e.appConfig,n)}catch(n){throw qb(n)&&n.customData.serverCode===409?await t2(e.appConfig):await wu(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function XI(e){let t=await Bg(e.appConfig);for(;t.registrationStatus===1;)await Xb(100),t=await Bg(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Sh(e);return r||n}return t}function Bg(e){return rc(e,t=>{if(!t)throw bs.create("installation-not-found");return n2(t)})}function n2(e){return JI(e)?{fid:e.fid,registrationStatus:0}:e}function JI(e){return e.registrationStatus===1&&e.registrationTime+Ub<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI({appConfig:e,heartbeatServiceProvider:t},n){const r=e6(e,n),o=VI(e,n),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&o.append("x-firebase-client",u)}const i={installation:{sdkVersion:zb,appId:e.appId}},a={method:"POST",headers:o,body:JSON.stringify(i)},l=await Qb(()=>fetch(r,a));if(l.ok){const u=await l.json();return Kb(u)}else throw await Gb("Generate Auth Token",l)}function e6(e,{fid:t}){return`${Wb(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(e,t=!1){let n;const r=await rc(e.appConfig,s=>{if(!r2(s))throw bs.create("not-registered");const i=s.authToken;if(!t&&r6(i))return s;if(i.requestStatus===1)return n=t6(e,t),s;{if(!navigator.onLine)throw bs.create("app-offline");const a=s6(s);return n=n6(e,a),a}});return n?await n:r.authToken}async function t6(e,t){let n=await Fg(e.appConfig);for(;n.authToken.requestStatus===1;)await Xb(100),n=await Fg(e.appConfig);const r=n.authToken;return r.requestStatus===0?Ch(e,t):r}function Fg(e){return rc(e,t=>{if(!r2(t))throw bs.create("not-registered");const n=t.authToken;return i6(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function n6(e,t){try{const n=await ZI(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await wu(e.appConfig,r),n}catch(n){if(qb(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await t2(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await wu(e.appConfig,r)}throw n}}function r2(e){return e!==void 0&&e.registrationStatus===2}function r6(e){return e.requestStatus===2&&!o6(e)}function o6(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+AI}function s6(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function i6(e){return e.requestStatus===1&&e.requestTime+Ub<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a6(e){const t=e,{installationEntry:n,registrationPromise:r}=await Sh(t);return r?r.catch(console.error):Ch(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(e,t=!1){const n=e;return await u6(n),(await Ch(n,t)).token}async function u6(e){const{registrationPromise:t}=await Sh(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(e){if(!e||!e.options)throw md("App Configuration");if(!e.name)throw md("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw md(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function md(e){return bs.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="installations",d6="installations-internal",f6=e=>{const t=e.getProvider("app").getImmediate(),n=c6(t),r=bi(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},h6=e=>{const t=e.getProvider("app").getImmediate(),n=bi(t,o2).getImmediate();return{getId:()=>a6(n),getToken:o=>l6(n,o)}};function p6(){so(new Br(o2,f6,"PUBLIC")),so(new Br(d6,h6,"PRIVATE"))}p6();pr(xb,$h);pr(xb,$h,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu="analytics",m6="firebase_id",g6="origin",v6=60*1e3,y6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Eh="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn=new _h("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ir=new tc("analytics","Analytics",_6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(e){if(!e.startsWith(Eh)){const t=ir.create("invalid-gtag-resource",{gtagURL:e});return Qn.warn(t.message),""}return e}function s2(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function b6(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function $6(e,t){const n=b6("firebase-js-sdk-policy",{createScriptURL:w6}),r=document.createElement("script"),o=`${Eh}?l=${e}&id=${t}`;r.src=n?n==null?void 0:n.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function T6(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function S6(e,t,n,r,o,s){const i=r[o];try{if(i)await t[i];else{const l=(await s2(n)).find(u=>u.measurementId===o);l&&await t[l.appId]}}catch(a){Qn.error(a)}e("config",o,s)}async function C6(e,t,n,r,o){try{let s=[];if(o&&o.send_to){let i=o.send_to;Array.isArray(i)||(i=[i]);const a=await s2(n);for(const l of i){const u=a.find(f=>f.measurementId===l),c=u&&t[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(t)),await Promise.all(s),e("event",r,o||{})}catch(s){Qn.error(s)}}function E6(e,t,n,r){async function o(s,...i){try{if(s==="event"){const[a,l]=i;await C6(e,t,n,a,l)}else if(s==="config"){const[a,l]=i;await S6(e,t,n,r,a,l)}else if(s==="consent"){const[a,l]=i;e("consent",a,l)}else if(s==="get"){const[a,l,u]=i;e("get",a,l,u)}else if(s==="set"){const[a]=i;e("set",a)}else e(s,...i)}catch(a){Qn.error(a)}}return o}function P6(e,t,n,r,o){let s=function(...i){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(s=window[o]),window[o]=E6(s,e,t,n),{gtagCore:s,wrappedGtag:window[o]}}function I6(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Eh)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=30,O6=1e3;class A6{constructor(t={},n=O6){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const i2=new A6;function D6(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function R6(e){var t;const{appId:n,apiKey:r}=e,o={method:"GET",headers:D6(r)},s=y6.replace("{app-id}",n),i=await fetch(s,o);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();!((t=l.error)===null||t===void 0)&&t.message&&(a=l.error.message)}catch{}throw ir.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function N6(e,t=i2,n){const{appId:r,apiKey:o,measurementId:s}=e.options;if(!r)throw ir.create("no-app-id");if(!o){if(s)return{measurementId:s,appId:r};throw ir.create("no-api-key")}const i=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new M6;return setTimeout(async()=>{a.abort()},v6),a2({appId:r,apiKey:o,measurementId:s},i,a,t)}async function a2(e,{throttleEndTimeMillis:t,backoffCount:n},r,o=i2){var s;const{appId:i,measurementId:a}=e;try{await V6(r,t)}catch(l){if(a)return Qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:a};throw l}try{const l=await R6(e);return o.deleteThrottleMetadata(i),l}catch(l){const u=l;if(!L6(u)){if(o.deleteThrottleMetadata(i),a)return Qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:i,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?kg(n,o.intervalMillis,k6):kg(n,o.intervalMillis),f={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return o.setThrottleMetadata(i,f),Qn.debug(`Calling attemptFetch again in ${c} millis`),a2(e,f,r,o)}}function V6(e,t){return new Promise((n,r)=>{const o=Math.max(t-Date.now(),0),s=setTimeout(n,o);e.addEventListener(()=>{clearTimeout(s),r(ir.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function L6(e){if(!(e instanceof co)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class M6{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function B6(e,t,n,r,o){if(o&&o.global){e("event",n,r);return}else{const s=await t,i=Object.assign(Object.assign({},r),{send_to:s});e("event",n,i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F6(){if(Db())try{await Rb()}catch(e){return Qn.warn(ir.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Qn.warn(ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function j6(e,t,n,r,o,s,i){var a;const l=N6(e);l.then(m=>{n[m.measurementId]=m.appId,e.options.measurementId&&m.measurementId!==e.options.measurementId&&Qn.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Qn.error(m)),t.push(l);const u=F6().then(m=>{if(m)return r.getId()}),[c,f]=await Promise.all([l,u]);I6(s)||$6(s,c.measurementId),o("js",new Date);const h=(a=i==null?void 0:i.config)!==null&&a!==void 0?a:{};return h[g6]="firebase",h.update=!0,f!=null&&(h[m6]=f),o("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(t){this.app=t}_delete(){return delete fa[this.app.options.appId],Promise.resolve()}}let fa={},jg=[];const xg={};let gd="dataLayer",U6="gtag",Ug,l2,zg=!1;function z6(){const e=[];if(fP()&&e.push("This is a browser extension environment."),pP()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,o)=>`(${o+1}) ${r}`).join(" "),n=ir.create("invalid-analytics-context",{errorInfo:t});Qn.warn(n.message)}}function H6(e,t,n){z6();const r=e.options.appId;if(!r)throw ir.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ir.create("no-api-key");if(fa[r]!=null)throw ir.create("already-exists",{id:r});if(!zg){T6(gd);const{wrappedGtag:s,gtagCore:i}=P6(fa,jg,xg,gd,U6);l2=s,Ug=i,zg=!0}return fa[r]=j6(e,jg,xg,t,Ug,gd,n),new x6(e)}function q6(e=bh()){e=Xn(e);const t=bi(e,bu);return t.isInitialized()?t.getImmediate():W6(e)}function W6(e,t={}){const n=bi(e,bu);if(n.isInitialized()){const o=n.getImmediate();if(yu(t,n.getOptions()))return o;throw ir.create("already-initialized")}return n.initialize({options:t})}function K6(e,t,n,r){e=Xn(e),B6(l2,fa[e.app.options.appId],t,n,r).catch(o=>Qn.error(o))}const Hg="@firebase/analytics",qg="0.10.10";function G6(){so(new Br(bu,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return H6(r,o,n)},"PUBLIC")),so(new Br("analytics-internal",e,"PRIVATE")),pr(Hg,qg),pr(Hg,qg,"esm2017");function e(t){try{const n=t.getProvider(bu).getImmediate();return{logEvent:(r,o,s)=>K6(n,r,o,s)}}catch(n){throw ir.create("interop-component-reg-failed",{reason:n})}}}G6();var Wg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ms,u2;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,S){function _(){}_.prototype=S.prototype,I.D=S.prototype,I.prototype=new _,I.prototype.constructor=I,I.C=function(P,k,R){for(var D=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)D[oe-2]=arguments[oe];return S.prototype[k].apply(P,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,S,_){_||(_=0);var P=Array(16);if(typeof S=="string")for(var k=0;16>k;++k)P[k]=S.charCodeAt(_++)|S.charCodeAt(_++)<<8|S.charCodeAt(_++)<<16|S.charCodeAt(_++)<<24;else for(k=0;16>k;++k)P[k]=S[_++]|S[_++]<<8|S[_++]<<16|S[_++]<<24;S=I.g[0],_=I.g[1],k=I.g[2];var R=I.g[3],D=S+(R^_&(k^R))+P[0]+3614090360&4294967295;S=_+(D<<7&4294967295|D>>>25),D=R+(k^S&(_^k))+P[1]+3905402710&4294967295,R=S+(D<<12&4294967295|D>>>20),D=k+(_^R&(S^_))+P[2]+606105819&4294967295,k=R+(D<<17&4294967295|D>>>15),D=_+(S^k&(R^S))+P[3]+3250441966&4294967295,_=k+(D<<22&4294967295|D>>>10),D=S+(R^_&(k^R))+P[4]+4118548399&4294967295,S=_+(D<<7&4294967295|D>>>25),D=R+(k^S&(_^k))+P[5]+1200080426&4294967295,R=S+(D<<12&4294967295|D>>>20),D=k+(_^R&(S^_))+P[6]+2821735955&4294967295,k=R+(D<<17&4294967295|D>>>15),D=_+(S^k&(R^S))+P[7]+4249261313&4294967295,_=k+(D<<22&4294967295|D>>>10),D=S+(R^_&(k^R))+P[8]+1770035416&4294967295,S=_+(D<<7&4294967295|D>>>25),D=R+(k^S&(_^k))+P[9]+2336552879&4294967295,R=S+(D<<12&4294967295|D>>>20),D=k+(_^R&(S^_))+P[10]+4294925233&4294967295,k=R+(D<<17&4294967295|D>>>15),D=_+(S^k&(R^S))+P[11]+2304563134&4294967295,_=k+(D<<22&4294967295|D>>>10),D=S+(R^_&(k^R))+P[12]+1804603682&4294967295,S=_+(D<<7&4294967295|D>>>25),D=R+(k^S&(_^k))+P[13]+4254626195&4294967295,R=S+(D<<12&4294967295|D>>>20),D=k+(_^R&(S^_))+P[14]+2792965006&4294967295,k=R+(D<<17&4294967295|D>>>15),D=_+(S^k&(R^S))+P[15]+1236535329&4294967295,_=k+(D<<22&4294967295|D>>>10),D=S+(k^R&(_^k))+P[1]+4129170786&4294967295,S=_+(D<<5&4294967295|D>>>27),D=R+(_^k&(S^_))+P[6]+3225465664&4294967295,R=S+(D<<9&4294967295|D>>>23),D=k+(S^_&(R^S))+P[11]+643717713&4294967295,k=R+(D<<14&4294967295|D>>>18),D=_+(R^S&(k^R))+P[0]+3921069994&4294967295,_=k+(D<<20&4294967295|D>>>12),D=S+(k^R&(_^k))+P[5]+3593408605&4294967295,S=_+(D<<5&4294967295|D>>>27),D=R+(_^k&(S^_))+P[10]+38016083&4294967295,R=S+(D<<9&4294967295|D>>>23),D=k+(S^_&(R^S))+P[15]+3634488961&4294967295,k=R+(D<<14&4294967295|D>>>18),D=_+(R^S&(k^R))+P[4]+3889429448&4294967295,_=k+(D<<20&4294967295|D>>>12),D=S+(k^R&(_^k))+P[9]+568446438&4294967295,S=_+(D<<5&4294967295|D>>>27),D=R+(_^k&(S^_))+P[14]+3275163606&4294967295,R=S+(D<<9&4294967295|D>>>23),D=k+(S^_&(R^S))+P[3]+4107603335&4294967295,k=R+(D<<14&4294967295|D>>>18),D=_+(R^S&(k^R))+P[8]+1163531501&4294967295,_=k+(D<<20&4294967295|D>>>12),D=S+(k^R&(_^k))+P[13]+2850285829&4294967295,S=_+(D<<5&4294967295|D>>>27),D=R+(_^k&(S^_))+P[2]+4243563512&4294967295,R=S+(D<<9&4294967295|D>>>23),D=k+(S^_&(R^S))+P[7]+1735328473&4294967295,k=R+(D<<14&4294967295|D>>>18),D=_+(R^S&(k^R))+P[12]+2368359562&4294967295,_=k+(D<<20&4294967295|D>>>12),D=S+(_^k^R)+P[5]+4294588738&4294967295,S=_+(D<<4&4294967295|D>>>28),D=R+(S^_^k)+P[8]+2272392833&4294967295,R=S+(D<<11&4294967295|D>>>21),D=k+(R^S^_)+P[11]+1839030562&4294967295,k=R+(D<<16&4294967295|D>>>16),D=_+(k^R^S)+P[14]+4259657740&4294967295,_=k+(D<<23&4294967295|D>>>9),D=S+(_^k^R)+P[1]+2763975236&4294967295,S=_+(D<<4&4294967295|D>>>28),D=R+(S^_^k)+P[4]+1272893353&4294967295,R=S+(D<<11&4294967295|D>>>21),D=k+(R^S^_)+P[7]+4139469664&4294967295,k=R+(D<<16&4294967295|D>>>16),D=_+(k^R^S)+P[10]+3200236656&4294967295,_=k+(D<<23&4294967295|D>>>9),D=S+(_^k^R)+P[13]+681279174&4294967295,S=_+(D<<4&4294967295|D>>>28),D=R+(S^_^k)+P[0]+3936430074&4294967295,R=S+(D<<11&4294967295|D>>>21),D=k+(R^S^_)+P[3]+3572445317&4294967295,k=R+(D<<16&4294967295|D>>>16),D=_+(k^R^S)+P[6]+76029189&4294967295,_=k+(D<<23&4294967295|D>>>9),D=S+(_^k^R)+P[9]+3654602809&4294967295,S=_+(D<<4&4294967295|D>>>28),D=R+(S^_^k)+P[12]+3873151461&4294967295,R=S+(D<<11&4294967295|D>>>21),D=k+(R^S^_)+P[15]+530742520&4294967295,k=R+(D<<16&4294967295|D>>>16),D=_+(k^R^S)+P[2]+3299628645&4294967295,_=k+(D<<23&4294967295|D>>>9),D=S+(k^(_|~R))+P[0]+4096336452&4294967295,S=_+(D<<6&4294967295|D>>>26),D=R+(_^(S|~k))+P[7]+1126891415&4294967295,R=S+(D<<10&4294967295|D>>>22),D=k+(S^(R|~_))+P[14]+2878612391&4294967295,k=R+(D<<15&4294967295|D>>>17),D=_+(R^(k|~S))+P[5]+4237533241&4294967295,_=k+(D<<21&4294967295|D>>>11),D=S+(k^(_|~R))+P[12]+1700485571&4294967295,S=_+(D<<6&4294967295|D>>>26),D=R+(_^(S|~k))+P[3]+2399980690&4294967295,R=S+(D<<10&4294967295|D>>>22),D=k+(S^(R|~_))+P[10]+4293915773&4294967295,k=R+(D<<15&4294967295|D>>>17),D=_+(R^(k|~S))+P[1]+2240044497&4294967295,_=k+(D<<21&4294967295|D>>>11),D=S+(k^(_|~R))+P[8]+1873313359&4294967295,S=_+(D<<6&4294967295|D>>>26),D=R+(_^(S|~k))+P[15]+4264355552&4294967295,R=S+(D<<10&4294967295|D>>>22),D=k+(S^(R|~_))+P[6]+2734768916&4294967295,k=R+(D<<15&4294967295|D>>>17),D=_+(R^(k|~S))+P[13]+1309151649&4294967295,_=k+(D<<21&4294967295|D>>>11),D=S+(k^(_|~R))+P[4]+4149444226&4294967295,S=_+(D<<6&4294967295|D>>>26),D=R+(_^(S|~k))+P[11]+3174756917&4294967295,R=S+(D<<10&4294967295|D>>>22),D=k+(S^(R|~_))+P[2]+718787259&4294967295,k=R+(D<<15&4294967295|D>>>17),D=_+(R^(k|~S))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+R&4294967295}r.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var _=S-this.blockSize,P=this.B,k=this.h,R=0;R<S;){if(k==0)for(;R<=_;)o(this,I,R),R+=this.blockSize;if(typeof I=="string"){for(;R<S;)if(P[k++]=I.charCodeAt(R++),k==this.blockSize){o(this,P),k=0;break}}else for(;R<S;)if(P[k++]=I[R++],k==this.blockSize){o(this,P),k=0;break}}this.h=k,this.o+=S},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var _=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=_&255,_/=256;for(this.u(I),I=Array(16),S=_=0;4>S;++S)for(var P=0;32>P;P+=8)I[_++]=this.g[S]>>>P&255;return I};function s(I,S){var _=a;return Object.prototype.hasOwnProperty.call(_,I)?_[I]:_[I]=S(I)}function i(I,S){this.h=S;for(var _=[],P=!0,k=I.length-1;0<=k;k--){var R=I[k]|0;P&&R==S||(_[k]=R,P=!1)}this.g=_}var a={};function l(I){return-128<=I&&128>I?s(I,function(S){return new i([S|0],0>S?-1:0)}):new i([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return p(u(-I));for(var S=[],_=1,P=0;I>=_;P++)S[P]=I/_|0,_*=4294967296;return new i(S,0)}function c(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return p(c(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=u(Math.pow(S,8)),P=f,k=0;k<I.length;k+=8){var R=Math.min(8,I.length-k),D=parseInt(I.substring(k,k+R),S);8>R?(R=u(Math.pow(S,R)),P=P.j(R).add(u(D))):(P=P.j(_),P=P.add(u(D)))}return P}var f=l(0),h=l(1),m=l(16777216);e=i.prototype,e.m=function(){if(C(this))return-p(this).m();for(var I=0,S=1,_=0;_<this.g.length;_++){var P=this.i(_);I+=(0<=P?P:4294967296+P)*S,S*=4294967296}return I},e.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(w(this))return"0";if(C(this))return"-"+p(this).toString(I);for(var S=u(Math.pow(I,6)),_=this,P="";;){var k=A(_,S).g;_=g(_,k.j(S));var R=((0<_.g.length?_.g[0]:_.h)>>>0).toString(I);if(_=k,w(_))return R+P;for(;6>R.length;)R="0"+R;P=R+P}},e.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function w(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function C(I){return I.h==-1}e.l=function(I){return I=g(this,I),C(I)?-1:w(I)?0:1};function p(I){for(var S=I.g.length,_=[],P=0;P<S;P++)_[P]=~I.g[P];return new i(_,~I.h).add(h)}e.abs=function(){return C(this)?p(this):this},e.add=function(I){for(var S=Math.max(this.g.length,I.g.length),_=[],P=0,k=0;k<=S;k++){var R=P+(this.i(k)&65535)+(I.i(k)&65535),D=(R>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);P=D>>>16,R&=65535,D&=65535,_[k]=D<<16|R}return new i(_,_[_.length-1]&-2147483648?-1:0)};function g(I,S){return I.add(p(S))}e.j=function(I){if(w(this)||w(I))return f;if(C(this))return C(I)?p(this).j(p(I)):p(p(this).j(I));if(C(I))return p(this.j(p(I)));if(0>this.l(m)&&0>I.l(m))return u(this.m()*I.m());for(var S=this.g.length+I.g.length,_=[],P=0;P<2*S;P++)_[P]=0;for(P=0;P<this.g.length;P++)for(var k=0;k<I.g.length;k++){var R=this.i(P)>>>16,D=this.i(P)&65535,oe=I.i(k)>>>16,J=I.i(k)&65535;_[2*P+2*k]+=D*J,b(_,2*P+2*k),_[2*P+2*k+1]+=R*J,b(_,2*P+2*k+1),_[2*P+2*k+1]+=D*oe,b(_,2*P+2*k+1),_[2*P+2*k+2]+=R*oe,b(_,2*P+2*k+2)}for(P=0;P<S;P++)_[P]=_[2*P+1]<<16|_[2*P];for(P=S;P<2*S;P++)_[P]=0;return new i(_,0)};function b(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function O(I,S){this.g=I,this.h=S}function A(I,S){if(w(S))throw Error("division by zero");if(w(I))return new O(f,f);if(C(I))return S=A(p(I),S),new O(p(S.g),p(S.h));if(C(S))return S=A(I,p(S)),new O(p(S.g),S.h);if(30<I.g.length){if(C(I)||C(S))throw Error("slowDivide_ only works with positive integers.");for(var _=h,P=S;0>=P.l(I);)_=L(_),P=L(P);var k=N(_,1),R=N(P,1);for(P=N(P,2),_=N(_,2);!w(P);){var D=R.add(P);0>=D.l(I)&&(k=k.add(_),R=D),P=N(P,1),_=N(_,1)}return S=g(I,k.j(S)),new O(k,S)}for(k=f;0<=I.l(S);){for(_=Math.max(1,Math.floor(I.m()/S.m())),P=Math.ceil(Math.log(_)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),R=u(_),D=R.j(S);C(D)||0<D.l(I);)_-=P,R=u(_),D=R.j(S);w(R)&&(R=h),k=k.add(R),I=g(I,D)}return new O(k,I)}e.A=function(I){return A(this,I).h},e.and=function(I){for(var S=Math.max(this.g.length,I.g.length),_=[],P=0;P<S;P++)_[P]=this.i(P)&I.i(P);return new i(_,this.h&I.h)},e.or=function(I){for(var S=Math.max(this.g.length,I.g.length),_=[],P=0;P<S;P++)_[P]=this.i(P)|I.i(P);return new i(_,this.h|I.h)},e.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),_=[],P=0;P<S;P++)_[P]=this.i(P)^I.i(P);return new i(_,this.h^I.h)};function L(I){for(var S=I.g.length+1,_=[],P=0;P<S;P++)_[P]=I.i(P)<<1|I.i(P-1)>>>31;return new i(_,I.h)}function N(I,S){var _=S>>5;S%=32;for(var P=I.g.length-_,k=[],R=0;R<P;R++)k[R]=0<S?I.i(R+_)>>>S|I.i(R+_+1)<<32-S:I.i(R+_);return new i(k,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,u2=r,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=u,i.fromString=c,ms=i}).apply(typeof Wg<"u"?Wg:typeof self<"u"?self:typeof window<"u"?window:{});var kl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var c2,na,d2,Gl,sf,f2,h2,p2;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,E){return d==Array.prototype||d==Object.prototype||(d[v]=E.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof kl=="object"&&kl];for(var v=0;v<d.length;++v){var E=d[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function o(d,v){if(v)e:{var E=r;d=d.split(".");for(var V=0;V<d.length-1;V++){var G=d[V];if(!(G in E))break e;E=E[G]}d=d[d.length-1],V=E[d],v=v(V),v!=V&&v!=null&&t(E,d,{configurable:!0,writable:!0,value:v})}}function s(d,v){d instanceof String&&(d+="");var E=0,V=!1,G={next:function(){if(!V&&E<d.length){var Z=E++;return{value:v(Z,d[Z]),done:!1}}return V=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}o("Array.prototype.values",function(d){return d||function(){return s(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function l(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function u(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function c(d,v,E){return d.call.apply(d.bind,arguments)}function f(d,v,E){if(!d)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,V),d.apply(v,G)}}return function(){return d.apply(v,arguments)}}function h(d,v,E){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,h.apply(null,arguments)}function m(d,v){var E=Array.prototype.slice.call(arguments,1);return function(){var V=E.slice();return V.push.apply(V,arguments),d.apply(this,V)}}function w(d,v){function E(){}E.prototype=v.prototype,d.aa=v.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(V,G,Z){for(var $e=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)$e[kt-2]=arguments[kt];return v.prototype[G].apply(V,$e)}}function C(d){const v=d.length;if(0<v){const E=Array(v);for(let V=0;V<v;V++)E[V]=d[V];return E}return[]}function p(d,v){for(let E=1;E<arguments.length;E++){const V=arguments[E];if(l(V)){const G=d.length||0,Z=V.length||0;d.length=G+Z;for(let $e=0;$e<Z;$e++)d[G+$e]=V[$e]}else d.push(V)}}class g{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function b(d){return/^[\s\xa0]*$/.test(d)}function O(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function A(d){return A[" "](d),d}A[" "]=function(){};var L=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function N(d,v,E){for(const V in d)v.call(E,d[V],V,d)}function I(d,v){for(const E in d)v.call(void 0,d[E],E,d)}function S(d){const v={};for(const E in d)v[E]=d[E];return v}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(d,v){let E,V;for(let G=1;G<arguments.length;G++){V=arguments[G];for(E in V)d[E]=V[E];for(let Z=0;Z<_.length;Z++)E=_[Z],Object.prototype.hasOwnProperty.call(V,E)&&(d[E]=V[E])}}function k(d){var v=1;d=d.split(":");const E=[];for(;0<v&&d.length;)E.push(d.shift()),v--;return d.length&&E.push(d.join(":")),E}function R(d){a.setTimeout(()=>{throw d},0)}function D(){var d=ie;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class oe{constructor(){this.h=this.g=null}add(v,E){const V=J.get();V.set(v,E),this.h?this.h.next=V:this.g=V,this.h=V}}var J=new g(()=>new Q,d=>d.reset());class Q{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let K,re=!1,ie=new oe,Te=()=>{const d=a.Promise.resolve(void 0);K=()=>{d.then(Pe)}};var Pe=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(E){R(E)}var v=J;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}re=!1};function ke(){this.s=this.s,this.C=this.C}ke.prototype.s=!1,ke.prototype.ma=function(){this.s||(this.s=!0,this.N())},ke.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function xe(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}xe.prototype.h=function(){this.defaultPrevented=!0};var vt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};a.addEventListener("test",E,v),a.removeEventListener("test",E,v)}catch{}return d}();function ee(d,v){if(xe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,V=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(L){e:{try{A(v.nodeName);var G=!0;break e}catch{}G=!1}G||(v=null)}}else E=="mouseover"?v=d.fromElement:E=="mouseout"&&(v=d.toElement);this.relatedTarget=v,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:pe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ee.aa.h.call(this)}}w(ee,xe);var pe={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var q="closure_listenable_"+(1e6*Math.random()|0),te=0;function se(d,v,E,V,G){this.listener=d,this.proxy=null,this.src=v,this.type=E,this.capture=!!V,this.ha=G,this.key=++te,this.da=this.fa=!1}function _e(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ke(d){this.src=d,this.g={},this.h=0}Ke.prototype.add=function(d,v,E,V,G){var Z=d.toString();d=this.g[Z],d||(d=this.g[Z]=[],this.h++);var $e=M(d,v,V,G);return-1<$e?(v=d[$e],E||(v.fa=!1)):(v=new se(v,this.src,Z,!!V,G),v.fa=E,d.push(v)),v};function nt(d,v){var E=v.type;if(E in d.g){var V=d.g[E],G=Array.prototype.indexOf.call(V,v,void 0),Z;(Z=0<=G)&&Array.prototype.splice.call(V,G,1),Z&&(_e(v),d.g[E].length==0&&(delete d.g[E],d.h--))}}function M(d,v,E,V){for(var G=0;G<d.length;++G){var Z=d[G];if(!Z.da&&Z.listener==v&&Z.capture==!!E&&Z.ha==V)return G}return-1}var B="closure_lm_"+(1e6*Math.random()|0),Y={};function ae(d,v,E,V,G){if(Array.isArray(v)){for(var Z=0;Z<v.length;Z++)ae(d,v[Z],E,V,G);return null}return E=Be(E),d&&d[q]?d.K(v,E,u(V)?!!V.capture:!!V,G):ne(d,v,E,!1,V,G)}function ne(d,v,E,V,G,Z){if(!v)throw Error("Invalid event type");var $e=u(G)?!!G.capture:!!G,kt=Ue(d);if(kt||(d[B]=kt=new Ke(d)),E=kt.add(v,E,V,$e,Z),E.proxy)return E;if(V=he(),E.proxy=V,V.src=d,V.listener=E,d.addEventListener)vt||(G=$e),G===void 0&&(G=!1),d.addEventListener(v.toString(),V,G);else if(d.attachEvent)d.attachEvent(we(v.toString()),V);else if(d.addListener&&d.removeListener)d.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return E}function he(){function d(E){return v.call(d.src,d.listener,E)}const v=ge;return d}function Se(d,v,E,V,G){if(Array.isArray(v))for(var Z=0;Z<v.length;Z++)Se(d,v[Z],E,V,G);else V=u(V)?!!V.capture:!!V,E=Be(E),d&&d[q]?(d=d.i,v=String(v).toString(),v in d.g&&(Z=d.g[v],E=M(Z,E,V,G),-1<E&&(_e(Z[E]),Array.prototype.splice.call(Z,E,1),Z.length==0&&(delete d.g[v],d.h--)))):d&&(d=Ue(d))&&(v=d.g[v.toString()],d=-1,v&&(d=M(v,E,V,G)),(E=-1<d?v[d]:null)&&be(E))}function be(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[q])nt(v.i,d);else{var E=d.type,V=d.proxy;v.removeEventListener?v.removeEventListener(E,V,d.capture):v.detachEvent?v.detachEvent(we(E),V):v.addListener&&v.removeListener&&v.removeListener(V),(E=Ue(v))?(nt(E,d),E.h==0&&(E.src=null,v[B]=null)):_e(d)}}}function we(d){return d in Y?Y[d]:Y[d]="on"+d}function ge(d,v){if(d.da)d=!0;else{v=new ee(v,this);var E=d.listener,V=d.ha||d.src;d.fa&&be(d),d=E.call(V,v)}return d}function Ue(d){return d=d[B],d instanceof Ke?d:null}var De="__closure_events_fn_"+(1e9*Math.random()>>>0);function Be(d){return typeof d=="function"?d:(d[De]||(d[De]=function(v){return d.handleEvent(v)}),d[De])}function Me(){ke.call(this),this.i=new Ke(this),this.M=this,this.F=null}w(Me,ke),Me.prototype[q]=!0,Me.prototype.removeEventListener=function(d,v,E,V){Se(this,d,v,E,V)};function We(d,v){var E,V=d.F;if(V)for(E=[];V;V=V.F)E.push(V);if(d=d.M,V=v.type||v,typeof v=="string")v=new xe(v,d);else if(v instanceof xe)v.target=v.target||d;else{var G=v;v=new xe(V,d),P(v,G)}if(G=!0,E)for(var Z=E.length-1;0<=Z;Z--){var $e=v.g=E[Z];G=mt($e,V,!0,v)&&G}if($e=v.g=d,G=mt($e,V,!0,v)&&G,G=mt($e,V,!1,v)&&G,E)for(Z=0;Z<E.length;Z++)$e=v.g=E[Z],G=mt($e,V,!1,v)&&G}Me.prototype.N=function(){if(Me.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var E=d.g[v],V=0;V<E.length;V++)_e(E[V]);delete d.g[v],d.h--}}this.F=null},Me.prototype.K=function(d,v,E,V){return this.i.add(String(d),v,!1,E,V)},Me.prototype.L=function(d,v,E,V){return this.i.add(String(d),v,!0,E,V)};function mt(d,v,E,V){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var G=!0,Z=0;Z<v.length;++Z){var $e=v[Z];if($e&&!$e.da&&$e.capture==E){var kt=$e.listener,mn=$e.ha||$e.src;$e.fa&&nt(d.i,$e),G=kt.call(mn,V)!==!1&&G}}return G&&!V.defaultPrevented}function ht(d,v,E){if(typeof d=="function")E&&(d=h(d,E));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:a.setTimeout(d,v||0)}function $n(d){d.g=ht(()=>{d.g=null,d.i&&(d.i=!1,$n(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class cn extends ke{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:$n(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pn(d){ke.call(this),this.h=d,this.g={}}w(pn,ke);var Tn=[];function po(d){N(d.g,function(v,E){this.g.hasOwnProperty(E)&&be(v)},d),d.g={}}pn.prototype.N=function(){pn.aa.N.call(this),po(this)},pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var As=a.JSON.stringify,Ln=a.JSON.parse,lr=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Ds(){}Ds.prototype.h=null;function Kp(d){return d.h||(d.h=d.i())}function Gp(){}var Ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mc(){xe.call(this,"d")}w(Mc,xe);function Bc(){xe.call(this,"c")}w(Bc,xe);var Yo={},Yp=null;function ll(){return Yp=Yp||new Me}Yo.La="serverreachability";function Qp(d){xe.call(this,Yo.La,d)}w(Qp,xe);function Di(d){const v=ll();We(v,new Qp(v))}Yo.STAT_EVENT="statevent";function Xp(d,v){xe.call(this,Yo.STAT_EVENT,d),this.stat=v}w(Xp,xe);function Mn(d){const v=ll();We(v,new Xp(v,d))}Yo.Ma="timingevent";function Jp(d,v){xe.call(this,Yo.Ma,d),this.size=v}w(Jp,xe);function Ri(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},v)}function Ni(){this.g=!0}Ni.prototype.xa=function(){this.g=!1};function e3(d,v,E,V,G,Z){d.info(function(){if(d.g)if(Z)for(var $e="",kt=Z.split("&"),mn=0;mn<kt.length;mn++){var pt=kt[mn].split("=");if(1<pt.length){var Sn=pt[0];pt=pt[1];var Cn=Sn.split("_");$e=2<=Cn.length&&Cn[1]=="type"?$e+(Sn+"="+pt+"&"):$e+(Sn+"=redacted&")}}else $e=null;else $e=Z;return"XMLHTTP REQ ("+V+") [attempt "+G+"]: "+v+`
`+E+`
`+$e})}function t3(d,v,E,V,G,Z,$e){d.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+G+"]: "+v+`
`+E+`
`+Z+" "+$e})}function Rs(d,v,E,V){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+r3(d,E)+(V?" "+V:"")})}function n3(d,v){d.info(function(){return"TIMEOUT: "+v})}Ni.prototype.info=function(){};function r3(d,v){if(!d.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var V=E[d];if(!(2>V.length)){var G=V[1];if(Array.isArray(G)&&!(1>G.length)){var Z=G[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var $e=1;$e<G.length;$e++)G[$e]=""}}}}return As(E)}catch{return v}}var ul={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zp={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fc;function cl(){}w(cl,Ds),cl.prototype.g=function(){return new XMLHttpRequest},cl.prototype.i=function(){return{}},Fc=new cl;function mo(d,v,E,V){this.j=d,this.i=v,this.l=E,this.R=V||1,this.U=new pn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new em}function em(){this.i=null,this.g="",this.h=!1}var tm={},jc={};function xc(d,v,E){d.L=1,d.v=pl(Wr(v)),d.m=E,d.P=!0,nm(d,null)}function nm(d,v){d.F=Date.now(),dl(d),d.A=Wr(d.v);var E=d.A,V=d.R;Array.isArray(V)||(V=[String(V)]),gm(E.i,"t",V),d.C=0,E=d.j.J,d.h=new em,d.g=Nm(d.j,E?v:null,!d.m),0<d.O&&(d.M=new cn(h(d.Y,d,d.g),d.O)),v=d.U,E=d.g,V=d.ca;var G="readystatechange";Array.isArray(G)||(G&&(Tn[0]=G.toString()),G=Tn);for(var Z=0;Z<G.length;Z++){var $e=ae(E,G[Z],V||v.handleEvent,!1,v.h||v);if(!$e)break;v.g[$e.key]=$e}v=d.H?S(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),Di(),e3(d.i,d.u,d.A,d.l,d.R,d.m)}mo.prototype.ca=function(d){d=d.target;const v=this.M;v&&Kr(d)==3?v.j():this.Y(d)},mo.prototype.Y=function(d){try{if(d==this.g)e:{const Cn=Kr(this.g);var v=this.g.Ba();const Ls=this.g.Z();if(!(3>Cn)&&(Cn!=3||this.g&&(this.h.h||this.g.oa()||Tm(this.g)))){this.J||Cn!=4||v==7||(v==8||0>=Ls?Di(3):Di(2)),Uc(this);var E=this.g.Z();this.X=E;t:if(rm(this)){var V=Tm(this.g);d="";var G=V.length,Z=Kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qo(this),Vi(this);var $e="";break t}this.h.i=new a.TextDecoder}for(v=0;v<G;v++)this.h.h=!0,d+=this.h.i.decode(V[v],{stream:!(Z&&v==G-1)});V.length=0,this.h.g+=d,this.C=0,$e=this.h.g}else $e=this.g.oa();if(this.o=E==200,t3(this.i,this.u,this.A,this.l,this.R,Cn,E),this.o){if(this.T&&!this.K){t:{if(this.g){var kt,mn=this.g;if((kt=mn.g?mn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(kt)){var pt=kt;break t}}pt=null}if(E=pt)Rs(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zc(this,E);else{this.o=!1,this.s=3,Mn(12),Qo(this),Vi(this);break e}}if(this.P){E=!0;let wr;for(;!this.J&&this.C<$e.length;)if(wr=o3(this,$e),wr==jc){Cn==4&&(this.s=4,Mn(14),E=!1),Rs(this.i,this.l,null,"[Incomplete Response]");break}else if(wr==tm){this.s=4,Mn(15),Rs(this.i,this.l,$e,"[Invalid Chunk]"),E=!1;break}else Rs(this.i,this.l,wr,null),zc(this,wr);if(rm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Cn!=4||$e.length!=0||this.h.h||(this.s=1,Mn(16),E=!1),this.o=this.o&&E,!E)Rs(this.i,this.l,$e,"[Invalid Chunked Response]"),Qo(this),Vi(this);else if(0<$e.length&&!this.W){this.W=!0;var Sn=this.j;Sn.g==this&&Sn.ba&&!Sn.M&&(Sn.j.info("Great, no buffering proxy detected. Bytes received: "+$e.length),Yc(Sn),Sn.M=!0,Mn(11))}}else Rs(this.i,this.l,$e,null),zc(this,$e);Cn==4&&Qo(this),this.o&&!this.J&&(Cn==4?Om(this.j,this):(this.o=!1,dl(this)))}else b3(this.g),E==400&&0<$e.indexOf("Unknown SID")?(this.s=3,Mn(12)):(this.s=0,Mn(13)),Qo(this),Vi(this)}}}catch{}finally{}};function rm(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function o3(d,v){var E=d.C,V=v.indexOf(`
`,E);return V==-1?jc:(E=Number(v.substring(E,V)),isNaN(E)?tm:(V+=1,V+E>v.length?jc:(v=v.slice(V,V+E),d.C=V+E,v)))}mo.prototype.cancel=function(){this.J=!0,Qo(this)};function dl(d){d.S=Date.now()+d.I,om(d,d.I)}function om(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ri(h(d.ba,d),v)}function Uc(d){d.B&&(a.clearTimeout(d.B),d.B=null)}mo.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(n3(this.i,this.A),this.L!=2&&(Di(),Mn(17)),Qo(this),this.s=2,Vi(this)):om(this,this.S-d)};function Vi(d){d.j.G==0||d.J||Om(d.j,d)}function Qo(d){Uc(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,po(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function zc(d,v){try{var E=d.j;if(E.G!=0&&(E.g==d||Hc(E.h,d))){if(!d.K&&Hc(E.h,d)&&E.G==3){try{var V=E.Da.g.parse(v)}catch{V=null}if(Array.isArray(V)&&V.length==3){var G=V;if(G[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)wl(E),yl(E);else break e;Gc(E),Mn(18)}}else E.za=G[1],0<E.za-E.T&&37500>G[2]&&E.F&&E.v==0&&!E.C&&(E.C=Ri(h(E.Za,E),6e3));if(1>=am(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Jo(E,11)}else if((d.K||E.g==d)&&wl(E),!b(v))for(G=E.Da.g.parse(v),v=0;v<G.length;v++){let pt=G[v];if(E.T=pt[0],pt=pt[1],E.G==2)if(pt[0]=="c"){E.K=pt[1],E.ia=pt[2];const Sn=pt[3];Sn!=null&&(E.la=Sn,E.j.info("VER="+E.la));const Cn=pt[4];Cn!=null&&(E.Aa=Cn,E.j.info("SVER="+E.Aa));const Ls=pt[5];Ls!=null&&typeof Ls=="number"&&0<Ls&&(V=1.5*Ls,E.L=V,E.j.info("backChannelRequestTimeoutMs_="+V)),V=E;const wr=d.g;if(wr){const $l=wr.g?wr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($l){var Z=V.h;Z.g||$l.indexOf("spdy")==-1&&$l.indexOf("quic")==-1&&$l.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(qc(Z,Z.h),Z.h=null))}if(V.D){const Qc=wr.g?wr.g.getResponseHeader("X-HTTP-Session-Id"):null;Qc&&(V.ya=Qc,Mt(V.I,V.D,Qc))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),V=E;var $e=d;if(V.qa=Rm(V,V.J?V.ia:null,V.W),$e.K){lm(V.h,$e);var kt=$e,mn=V.L;mn&&(kt.I=mn),kt.B&&(Uc(kt),dl(kt)),V.g=$e}else Im(V);0<E.i.length&&_l(E)}else pt[0]!="stop"&&pt[0]!="close"||Jo(E,7);else E.G==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?Jo(E,7):Kc(E):pt[0]!="noop"&&E.l&&E.l.ta(pt),E.v=0)}}Di(4)}catch{}}var s3=class{constructor(d,v){this.g=d,this.map=v}};function sm(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function im(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function am(d){return d.h?1:d.g?d.g.size:0}function Hc(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function qc(d,v){d.g?d.g.add(v):d.h=v}function lm(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}sm.prototype.cancel=function(){if(this.i=um(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function um(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const E of d.g.values())v=v.concat(E.D);return v}return C(d.i)}function i3(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var v=[],E=d.length,V=0;V<E;V++)v.push(d[V]);return v}v=[],E=0;for(V in d)v[E++]=d[V];return v}function a3(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var v=[];d=d.length;for(var E=0;E<d;E++)v.push(E);return v}v=[],E=0;for(const V in d)v[E++]=V;return v}}}function cm(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var E=a3(d),V=i3(d),G=V.length,Z=0;Z<G;Z++)v.call(void 0,V[Z],E&&E[Z],d)}var dm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function l3(d,v){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var V=d[E].indexOf("="),G=null;if(0<=V){var Z=d[E].substring(0,V);G=d[E].substring(V+1)}else Z=d[E];v(Z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Xo(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Xo){this.h=d.h,fl(this,d.j),this.o=d.o,this.g=d.g,hl(this,d.s),this.l=d.l;var v=d.i,E=new Bi;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),fm(this,E),this.m=d.m}else d&&(v=String(d).match(dm))?(this.h=!1,fl(this,v[1]||"",!0),this.o=Li(v[2]||""),this.g=Li(v[3]||"",!0),hl(this,v[4]),this.l=Li(v[5]||"",!0),fm(this,v[6]||"",!0),this.m=Li(v[7]||"")):(this.h=!1,this.i=new Bi(null,this.h))}Xo.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Mi(v,hm,!0),":");var E=this.g;return(E||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Mi(v,hm,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Mi(E,E.charAt(0)=="/"?d3:c3,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Mi(E,h3)),d.join("")};function Wr(d){return new Xo(d)}function fl(d,v,E){d.j=E?Li(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function hl(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function fm(d,v,E){v instanceof Bi?(d.i=v,p3(d.i,d.h)):(E||(v=Mi(v,f3)),d.i=new Bi(v,d.h))}function Mt(d,v,E){d.i.set(v,E)}function pl(d){return Mt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Li(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Mi(d,v,E){return typeof d=="string"?(d=encodeURI(d).replace(v,u3),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function u3(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var hm=/[#\/\?@]/g,c3=/[#\?:]/g,d3=/[#\?]/g,f3=/[#\?@]/g,h3=/#/g;function Bi(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function go(d){d.g||(d.g=new Map,d.h=0,d.i&&l3(d.i,function(v,E){d.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}e=Bi.prototype,e.add=function(d,v){go(this),this.i=null,d=Ns(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(v),this.h+=1,this};function pm(d,v){go(d),v=Ns(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function mm(d,v){return go(d),v=Ns(d,v),d.g.has(v)}e.forEach=function(d,v){go(this),this.g.forEach(function(E,V){E.forEach(function(G){d.call(v,G,V,this)},this)},this)},e.na=function(){go(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let V=0;V<v.length;V++){const G=d[V];for(let Z=0;Z<G.length;Z++)E.push(v[V])}return E},e.V=function(d){go(this);let v=[];if(typeof d=="string")mm(this,d)&&(v=v.concat(this.g.get(Ns(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)v=v.concat(d[E])}return v},e.set=function(d,v){return go(this),this.i=null,d=Ns(this,d),mm(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},e.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function gm(d,v,E){pm(d,v),0<E.length&&(d.i=null,d.g.set(Ns(d,v),C(E)),d.h+=E.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var V=v[E];const Z=encodeURIComponent(String(V)),$e=this.V(V);for(V=0;V<$e.length;V++){var G=Z;$e[V]!==""&&(G+="="+encodeURIComponent(String($e[V]))),d.push(G)}}return this.i=d.join("&")};function Ns(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function p3(d,v){v&&!d.j&&(go(d),d.i=null,d.g.forEach(function(E,V){var G=V.toLowerCase();V!=G&&(pm(this,V),gm(this,G,E))},d)),d.j=v}function m3(d,v){const E=new Ni;if(a.Image){const V=new Image;V.onload=m(vo,E,"TestLoadImage: loaded",!0,v,V),V.onerror=m(vo,E,"TestLoadImage: error",!1,v,V),V.onabort=m(vo,E,"TestLoadImage: abort",!1,v,V),V.ontimeout=m(vo,E,"TestLoadImage: timeout",!1,v,V),a.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=d}else v(!1)}function g3(d,v){const E=new Ni,V=new AbortController,G=setTimeout(()=>{V.abort(),vo(E,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:V.signal}).then(Z=>{clearTimeout(G),Z.ok?vo(E,"TestPingServer: ok",!0,v):vo(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),vo(E,"TestPingServer: error",!1,v)})}function vo(d,v,E,V,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),V(E)}catch{}}function v3(){this.g=new lr}function y3(d,v,E){const V=E||"";try{cm(d,function(G,Z){let $e=G;u(G)&&($e=As(G)),v.push(V+Z+"="+encodeURIComponent($e))})}catch(G){throw v.push(V+"type="+encodeURIComponent("_badmap")),G}}function ml(d){this.l=d.Ub||null,this.j=d.eb||!1}w(ml,Ds),ml.prototype.g=function(){return new gl(this.l,this.j)},ml.prototype.i=function(d){return function(){return d}}({});function gl(d,v){Me.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(gl,Me),e=gl.prototype,e.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,ji(this)},e.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||a).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fi(this)),this.readyState=0},e.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ji(this)),this.g&&(this.readyState=3,ji(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vm(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function vm(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}e.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Fi(this):ji(this),this.readyState==3&&vm(this)}},e.Ra=function(d){this.g&&(this.response=this.responseText=d,Fi(this))},e.Qa=function(d){this.g&&(this.response=d,Fi(this))},e.ga=function(){this.g&&Fi(this)};function Fi(d){d.readyState=4,d.l=null,d.j=null,d.v=null,ji(d)}e.setRequestHeader=function(d,v){this.u.append(d,v)},e.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=v.next();return d.join(`\r
`)};function ji(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(gl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ym(d){let v="";return N(d,function(E,V){v+=V,v+=":",v+=E,v+=`\r
`}),v}function Wc(d,v,E){e:{for(V in E){var V=!1;break e}V=!0}V||(E=ym(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Mt(d,v,E))}function Wt(d){Me.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Wt,Me);var _3=/^https?$/i,w3=["POST","PUT"];e=Wt.prototype,e.Ha=function(d){this.J=d},e.ea=function(d,v,E,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fc.g(),this.v=this.o?Kp(this.o):Kp(Fc),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(Z){_m(this,Z);return}if(d=E||"",E=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var G in V)E.set(G,V[G]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const Z of V.keys())E.set(Z,V.get(Z));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(E.keys()).find(Z=>Z.toLowerCase()=="content-type"),G=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(w3,v,void 0))||V||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,$e]of E)this.g.setRequestHeader(Z,$e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$m(this),this.u=!0,this.g.send(d),this.u=!1}catch(Z){_m(this,Z)}};function _m(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,wm(d),vl(d)}function wm(d){d.A||(d.A=!0,We(d,"complete"),We(d,"error"))}e.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,We(this,"complete"),We(this,"abort"),vl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vl(this,!0)),Wt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?bm(this):this.bb())},e.bb=function(){bm(this)};function bm(d){if(d.h&&typeof i<"u"&&(!d.v[1]||Kr(d)!=4||d.Z()!=2)){if(d.u&&Kr(d)==4)ht(d.Ea,0,d);else if(We(d,"readystatechange"),Kr(d)==4){d.h=!1;try{const $e=d.Z();e:switch($e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var V;if(V=$e===0){var G=String(d.D).match(dm)[1]||null;!G&&a.self&&a.self.location&&(G=a.self.location.protocol.slice(0,-1)),V=!_3.test(G?G.toLowerCase():"")}E=V}if(E)We(d,"complete"),We(d,"success");else{d.m=6;try{var Z=2<Kr(d)?d.g.statusText:""}catch{Z=""}d.l=Z+" ["+d.Z()+"]",wm(d)}}finally{vl(d)}}}}function vl(d,v){if(d.g){$m(d);const E=d.g,V=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||We(d,"ready");try{E.onreadystatechange=V}catch{}}}function $m(d){d.I&&(a.clearTimeout(d.I),d.I=null)}e.isActive=function(){return!!this.g};function Kr(d){return d.g?d.g.readyState:0}e.Z=function(){try{return 2<Kr(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Ln(v)}};function Tm(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function b3(d){const v={};d=(d.g&&2<=Kr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<d.length;V++){if(b(d[V]))continue;var E=k(d[V]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Z=v[G]||[];v[G]=Z,Z.push(E)}I(v,function(V){return V.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(d,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||v}function Sm(d){this.Aa=0,this.i=[],this.j=new Ni,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xi("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xi("baseRetryDelayMs",5e3,d),this.cb=xi("retryDelaySeedMs",1e4,d),this.Wa=xi("forwardChannelMaxRetries",2,d),this.wa=xi("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new sm(d&&d.concurrentRequestLimit),this.Da=new v3,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Sm.prototype,e.la=8,e.G=1,e.connect=function(d,v,E,V){Mn(0),this.W=d,this.H=v||{},E&&V!==void 0&&(this.H.OSID=E,this.H.OAID=V),this.F=this.X,this.I=Rm(this,null,this.W),_l(this)};function Kc(d){if(Cm(d),d.G==3){var v=d.U++,E=Wr(d.I);if(Mt(E,"SID",d.K),Mt(E,"RID",v),Mt(E,"TYPE","terminate"),Ui(d,E),v=new mo(d,d.j,v),v.L=2,v.v=pl(Wr(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&a.Image&&(new Image().src=v.v,E=!0),E||(v.g=Nm(v.j,null),v.g.ea(v.v)),v.F=Date.now(),dl(v)}Dm(d)}function yl(d){d.g&&(Yc(d),d.g.cancel(),d.g=null)}function Cm(d){yl(d),d.u&&(a.clearTimeout(d.u),d.u=null),wl(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function _l(d){if(!im(d.h)&&!d.s){d.s=!0;var v=d.Ga;K||Te(),re||(K(),re=!0),ie.add(v,d),d.B=0}}function $3(d,v){return am(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ri(h(d.Ga,d,v),Am(d,d.B)),d.B++,!0)}e.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const G=new mo(this,this.j,d);let Z=this.o;if(this.S&&(Z?(Z=S(Z),P(Z,this.S)):Z=this.S),this.m!==null||this.O||(G.H=Z,Z=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var V=this.i[E];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(v+=V,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Pm(this,G,v),E=Wr(this.I),Mt(E,"RID",d),Mt(E,"CVER",22),this.D&&Mt(E,"X-HTTP-Session-Id",this.D),Ui(this,E),Z&&(this.O?v="headers="+encodeURIComponent(String(ym(Z)))+"&"+v:this.m&&Wc(E,this.m,Z)),qc(this.h,G),this.Ua&&Mt(E,"TYPE","init"),this.P?(Mt(E,"$req",v),Mt(E,"SID","null"),G.T=!0,xc(G,E,null)):xc(G,E,v),this.G=2}}else this.G==3&&(d?Em(this,d):this.i.length==0||im(this.h)||Em(this))};function Em(d,v){var E;v?E=v.l:E=d.U++;const V=Wr(d.I);Mt(V,"SID",d.K),Mt(V,"RID",E),Mt(V,"AID",d.T),Ui(d,V),d.m&&d.o&&Wc(V,d.m,d.o),E=new mo(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Pm(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),qc(d.h,E),xc(E,V,v)}function Ui(d,v){d.H&&N(d.H,function(E,V){Mt(v,V,E)}),d.l&&cm({},function(E,V){Mt(v,V,E)})}function Pm(d,v,E){E=Math.min(d.i.length,E);var V=d.l?h(d.l.Na,d.l,d):null;e:{var G=d.i;let Z=-1;for(;;){const $e=["count="+E];Z==-1?0<E?(Z=G[0].g,$e.push("ofs="+Z)):Z=0:$e.push("ofs="+Z);let kt=!0;for(let mn=0;mn<E;mn++){let pt=G[mn].g;const Sn=G[mn].map;if(pt-=Z,0>pt)Z=Math.max(0,G[mn].g-100),kt=!1;else try{y3(Sn,$e,"req"+pt+"_")}catch{V&&V(Sn)}}if(kt){V=$e.join("&");break e}}}return d=d.i.splice(0,E),v.D=d,V}function Im(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;K||Te(),re||(K(),re=!0),ie.add(v,d),d.v=0}}function Gc(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ri(h(d.Fa,d),Am(d,d.v)),d.v++,!0)}e.Fa=function(){if(this.u=null,km(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ri(h(this.ab,this),d)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mn(10),yl(this),km(this))};function Yc(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function km(d){d.g=new mo(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Wr(d.qa);Mt(v,"RID","rpc"),Mt(v,"SID",d.K),Mt(v,"AID",d.T),Mt(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&Mt(v,"TO",d.ja),Mt(v,"TYPE","xmlhttp"),Ui(d,v),d.m&&d.o&&Wc(v,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=pl(Wr(v)),E.m=null,E.P=!0,nm(E,d)}e.Za=function(){this.C!=null&&(this.C=null,yl(this),Gc(this),Mn(19))};function wl(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function Om(d,v){var E=null;if(d.g==v){wl(d),Yc(d),d.g=null;var V=2}else if(Hc(d.h,v))E=v.D,lm(d.h,v),V=1;else return;if(d.G!=0){if(v.o)if(V==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var G=d.B;V=ll(),We(V,new Jp(V,E)),_l(d)}else Im(d);else if(G=v.s,G==3||G==0&&0<v.X||!(V==1&&$3(d,v)||V==2&&Gc(d)))switch(E&&0<E.length&&(v=d.h,v.i=v.i.concat(E)),G){case 1:Jo(d,5);break;case 4:Jo(d,10);break;case 3:Jo(d,6);break;default:Jo(d,2)}}}function Am(d,v){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*v}function Jo(d,v){if(d.j.info("Error code "+v),v==2){var E=h(d.fb,d),V=d.Xa;const G=!V;V=new Xo(V||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||fl(V,"https"),pl(V),G?m3(V.toString(),E):g3(V.toString(),E)}else Mn(2);d.G=0,d.l&&d.l.sa(v),Dm(d),Cm(d)}e.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Mn(2)):(this.j.info("Failed to ping google.com"),Mn(1))};function Dm(d){if(d.G=0,d.ka=[],d.l){const v=um(d.h);(v.length!=0||d.i.length!=0)&&(p(d.ka,v),p(d.ka,d.i),d.h.i.length=0,C(d.i),d.i.length=0),d.l.ra()}}function Rm(d,v,E){var V=E instanceof Xo?Wr(E):new Xo(E);if(V.g!="")v&&(V.g=v+"."+V.g),hl(V,V.s);else{var G=a.location;V=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;var Z=new Xo(null);V&&fl(Z,V),v&&(Z.g=v),G&&hl(Z,G),E&&(Z.l=E),V=Z}return E=d.D,v=d.ya,E&&v&&Mt(V,E,v),Mt(V,"VER",d.la),Ui(d,V),V}function Nm(d,v,E){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new Wt(new ml({eb:E})):new Wt(d.pa),v.Ha(d.J),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vm(){}e=Vm.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function bl(){}bl.prototype.g=function(d,v){return new er(d,v)};function er(d,v){Me.call(this),this.g=new Sm(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!b(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!b(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Vs(this)}w(er,Me),er.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},er.prototype.close=function(){Kc(this.g)},er.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=As(d),d=E);v.i.push(new s3(v.Ya++,d)),v.G==3&&_l(v)},er.prototype.N=function(){this.g.l=null,delete this.j,Kc(this.g),delete this.g,er.aa.N.call(this)};function Lm(d){Mc.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const E in v){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}w(Lm,Mc);function Mm(){Bc.call(this),this.status=1}w(Mm,Bc);function Vs(d){this.g=d}w(Vs,Vm),Vs.prototype.ua=function(){We(this.g,"a")},Vs.prototype.ta=function(d){We(this.g,new Lm(d))},Vs.prototype.sa=function(d){We(this.g,new Mm)},Vs.prototype.ra=function(){We(this.g,"b")},bl.prototype.createWebChannel=bl.prototype.g,er.prototype.send=er.prototype.o,er.prototype.open=er.prototype.m,er.prototype.close=er.prototype.close,p2=function(){return new bl},h2=function(){return ll()},f2=Yo,sf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ul.NO_ERROR=0,ul.TIMEOUT=8,ul.HTTP_ERROR=6,Gl=ul,Zp.COMPLETE="complete",d2=Zp,Gp.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",Me.prototype.listen=Me.prototype.K,na=Gp,Wt.prototype.listenOnce=Wt.prototype.L,Wt.prototype.getLastError=Wt.prototype.Ka,Wt.prototype.getLastErrorCode=Wt.prototype.Ba,Wt.prototype.getStatus=Wt.prototype.Z,Wt.prototype.getResponseJson=Wt.prototype.Oa,Wt.prototype.getResponseText=Wt.prototype.oa,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Ha,c2=Wt}).apply(typeof kl<"u"?kl:typeof self<"u"?self:typeof window<"u"?window:{});const Kg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $i="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new _h("@firebase/firestore");function xs(){return Ts.logLevel}function Ve(e,...t){if(Ts.logLevel<=ut.DEBUG){const n=t.map(Ph);Ts.debug(`Firestore (${$i}): ${e}`,...n)}}function io(e,...t){if(Ts.logLevel<=ut.ERROR){const n=t.map(Ph);Ts.error(`Firestore (${$i}): ${e}`,...n)}}function oi(e,...t){if(Ts.logLevel<=ut.WARN){const n=t.map(Ph);Ts.warn(`Firestore (${$i}): ${e}`,...n)}}function Ph(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(e="Unexpected state"){const t=`FIRESTORE (${$i}) INTERNAL ASSERTION FAILED: `+e;throw io(t),new Error(t)}function bt(e,t){e||Ge()}function Ze(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends co{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Y6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(In.UNAUTHENTICATED))}shutdown(){}}class Q6{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class X6{constructor(t){this.t=t,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){bt(this.o===void 0);let r=this.i;const o=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new No;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new No,t.enqueueRetryable(()=>o(this.currentUser))};const i=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await o(this.currentUser)})},a=l=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new No)}},0),i()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt(typeof r.accessToken=="string"),new m2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return bt(t===null||typeof t=="string"),new In(t)}}class J6{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=In.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Z6{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new J6(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(In.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e5{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t5{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){bt(this.o===void 0);const r=s=>{s.error!=null&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const i=s.token!==this.R;return this.R=s.token,Ve("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const o=s=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>o(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?o(s):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(bt(typeof n.token=="string"),this.R=n.token,new e5(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const o=n5(40);for(let s=0;s<o.length;++s)r.length<20&&o[s]<n&&(r+=t.charAt(o[s]%t.length))}return r}}function it(e,t){return e<t?-1:e>t?1:0}function si(e,t,n){return e.length===t.length&&e.every((r,o)=>n(r,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{static now(){return an.fromMillis(Date.now())}static fromDate(t){return an.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new an(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Fe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Fe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Fe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?it(this.nanoseconds,t.nanoseconds):it(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{static fromTimestamp(t){return new Ye(t)}static min(){return new Ye(new an(0,0))}static max(){return new Ye(new an(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(t,n,r){n===void 0?n=0:n>t.length&&Ge(),r===void 0?r=t.length-n:r>t.length-n&&Ge(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ma.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ma?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const s=t.get(o),i=n.get(o);if(s<i)return-1;if(s>i)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class xt extends Ma{construct(t,n,r){return new xt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Fe(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new xt(n)}static emptyPath(){return new xt([])}}const r5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends Ma{construct(t,n,r){return new yn(t,n,r)}static isValidIdentifier(t){return r5.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new yn(["__name__"])}static fromServerFormat(t){const n=[];let r="",o=0;const s=()=>{if(r.length===0)throw new Fe(me.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let i=!1;for(;o<t.length;){const a=t[o];if(a==="\\"){if(o+1===t.length)throw new Fe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[o+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Fe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,o+=2}else a==="`"?(i=!i,o++):a!=="."||i?(r+=a,o++):(s(),o++)}if(s(),i)throw new Fe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new yn(n)}static emptyPath(){return new yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.path=t}static fromPath(t){return new He(xt.fromString(t))}static fromName(t){return new He(xt.fromString(t).popFirst(5))}static empty(){return new He(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&xt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return xt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new He(new xt(t.slice()))}}function o5(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=Ye.fromTimestamp(r===1e9?new an(n+1,0):new an(n,r));return new jo(o,He.empty(),t)}function s5(e){return new jo(e.readTime,e.key,-1)}class jo{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new jo(Ye.min(),He.empty(),-1)}static max(){return new jo(Ye.max(),He.empty(),-1)}}function i5(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=He.comparator(e.documentKey,t.documentKey),n!==0?n:it(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ti(e){if(e.code!==me.FAILED_PRECONDITION||e.message!==a5)throw e;Ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ce((r,o)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,o)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):ce.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):ce.reject(n)}static resolve(t){return new ce((n,r)=>{n(t)})}static reject(t){return new ce((n,r)=>{r(t)})}static waitFor(t){return new ce((n,r)=>{let o=0,s=0,i=!1;t.forEach(a=>{++o,a.next(()=>{++s,i&&s===o&&n()},l=>r(l))}),i=!0,s===o&&n()})}static or(t){let n=ce.resolve(!1);for(const r of t)n=n.next(o=>o?ce.resolve(o):r());return n}static forEach(t,n){const r=[];return t.forEach((o,s)=>{r.push(n.call(this,o,s))}),this.waitFor(r)}static mapArray(t,n){return new ce((r,o)=>{const s=t.length,i=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{i[u]=c,++a,a===s&&r(i)},c=>o(c))}})}static doWhile(t,n){return new ce((r,o)=>{const s=()=>{t()===!0?n().next(()=>{s()},o):r()};s()})}}function u5(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Si(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}oc.oe=-1;function sc(e){return e==null}function $u(e){return e===0&&1/e==-1/0}function c5(e){return typeof e=="number"&&Number.isInteger(e)&&!$u(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Gg(t)),t=f5(e.get(n),t);return Gg(t)}function f5(e,t){let n=t;const r=e.length;for(let o=0;o<r;o++){const s=e.charAt(o);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function Gg(e){return e+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ko(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function v2(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(t,n){this.comparator=t,this.root=n||gn.EMPTY}insert(t,n){return new qt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(t){return new qt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ol(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ol(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ol(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ol(this.root,t,this.comparator,!0)}}class Ol{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class gn{constructor(t,n,r,o,s){this.key=t,this.value=n,this.color=r??gn.RED,this.left=o??gn.EMPTY,this.right=s??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,s){return new gn(t??this.key,n??this.value,r??this.color,o??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const s=r(t,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(t,n,r),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return gn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ge();const t=this.left.check();if(t!==this.right.check())throw Ge();return t+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge()}get value(){throw Ge()}get color(){throw Ge()}get left(){throw Ge()}get right(){throw Ge()}copy(t,n,r,o,s){return this}insert(t,n,r){return new gn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.comparator=t,this.data=new qt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qg(this.data.getIterator())}getIteratorFrom(t){return new Qg(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof ln)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,s=r.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ln(this.comparator);return n.data=t,n}}class Qg{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t){this.fields=t,t.sort(yn.comparator)}static empty(){return new or([])}unionWith(t){let n=new ln(yn.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new or(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return si(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new y2("Invalid base64 string: "+s):s}}(t);return new wn(n)}static fromUint8Array(t){const n=function(o){let s="";for(let i=0;i<o.length;++i)s+=String.fromCharCode(o[i]);return s}(t);return new wn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return it(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}wn.EMPTY_BYTE_STRING=new wn("");const h5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xo(e){if(bt(!!e),typeof e=="string"){let t=0;const n=h5.exec(e);if(bt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Zt(e.seconds),nanos:Zt(e.nanos)}}function Zt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Uo(e){return typeof e=="string"?wn.fromBase64String(e):wn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ic(e){const t=e.mapValue.fields.__previous_value__;return Ih(t)?ic(t):t}function Ba(e){const t=xo(e.mapValue.fields.__local_write_time__.timestampValue);return new an(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(t,n,r,o,s,i,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Fa{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Fa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Fa&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ih(e)?4:g5(e)?9007199254740991:m5(e)?10:11:Ge()}function Fr(e,t){if(e===t)return!0;const n=zo(e);if(n!==zo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ba(e).isEqual(Ba(t));case 3:return function(o,s){if(typeof o.timestampValue=="string"&&typeof s.timestampValue=="string"&&o.timestampValue.length===s.timestampValue.length)return o.timestampValue===s.timestampValue;const i=xo(o.timestampValue),a=xo(s.timestampValue);return i.seconds===a.seconds&&i.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(o,s){return Uo(o.bytesValue).isEqual(Uo(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(o,s){return Zt(o.geoPointValue.latitude)===Zt(s.geoPointValue.latitude)&&Zt(o.geoPointValue.longitude)===Zt(s.geoPointValue.longitude)}(e,t);case 2:return function(o,s){if("integerValue"in o&&"integerValue"in s)return Zt(o.integerValue)===Zt(s.integerValue);if("doubleValue"in o&&"doubleValue"in s){const i=Zt(o.doubleValue),a=Zt(s.doubleValue);return i===a?$u(i)===$u(a):isNaN(i)&&isNaN(a)}return!1}(e,t);case 9:return si(e.arrayValue.values||[],t.arrayValue.values||[],Fr);case 10:case 11:return function(o,s){const i=o.mapValue.fields||{},a=s.mapValue.fields||{};if(Yg(i)!==Yg(a))return!1;for(const l in i)if(i.hasOwnProperty(l)&&(a[l]===void 0||!Fr(i[l],a[l])))return!1;return!0}(e,t);default:return Ge()}}function ja(e,t){return(e.values||[]).find(n=>Fr(n,t))!==void 0}function ii(e,t){if(e===t)return 0;const n=zo(e),r=zo(t);if(n!==r)return it(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return it(e.booleanValue,t.booleanValue);case 2:return function(s,i){const a=Zt(s.integerValue||s.doubleValue),l=Zt(i.integerValue||i.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return Xg(e.timestampValue,t.timestampValue);case 4:return Xg(Ba(e),Ba(t));case 5:return it(e.stringValue,t.stringValue);case 6:return function(s,i){const a=Uo(s),l=Uo(i);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,i){const a=s.split("/"),l=i.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=it(a[u],l[u]);if(c!==0)return c}return it(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,i){const a=it(Zt(s.latitude),Zt(i.latitude));return a!==0?a:it(Zt(s.longitude),Zt(i.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Jg(e.arrayValue,t.arrayValue);case 10:return function(s,i){var a,l,u,c;const f=s.fields||{},h=i.fields||{},m=(a=f.value)===null||a===void 0?void 0:a.arrayValue,w=(l=h.value)===null||l===void 0?void 0:l.arrayValue,C=it(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((c=w==null?void 0:w.values)===null||c===void 0?void 0:c.length)||0);return C!==0?C:Jg(m,w)}(e.mapValue,t.mapValue);case 11:return function(s,i){if(s===Al.mapValue&&i===Al.mapValue)return 0;if(s===Al.mapValue)return 1;if(i===Al.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=i.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=it(l[f],c[f]);if(h!==0)return h;const m=ii(a[l[f]],u[c[f]]);if(m!==0)return m}return it(l.length,c.length)}(e.mapValue,t.mapValue);default:throw Ge()}}function Xg(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return it(e,t);const n=xo(e),r=xo(t),o=it(n.seconds,r.seconds);return o!==0?o:it(n.nanos,r.nanos)}function Jg(e,t){const n=e.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const s=ii(n[o],r[o]);if(s)return s}return it(n.length,r.length)}function ai(e){return af(e)}function af(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=xo(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Uo(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return He.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",o=!0;for(const s of n.values||[])o?o=!1:r+=",",r+=af(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",s=!0;for(const i of r)s?s=!1:o+=",",o+=`${i}:${af(n.fields[i])}`;return o+"}"}(e.mapValue):Ge()}function Yl(e){switch(zo(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ic(e);return t?16+Yl(t):16;case 5:return 2*e.stringValue.length;case 6:return Uo(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,s)=>o+Yl(s),0)}(e.arrayValue);case 10:case 11:return function(r){let o=0;return Ko(r.fields,(s,i)=>{o+=s.length+Yl(i)}),o}(e.mapValue);default:throw Ge()}}function lf(e){return!!e&&"integerValue"in e}function kh(e){return!!e&&"arrayValue"in e}function Zg(e){return!!e&&"nullValue"in e}function ev(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ql(e){return!!e&&"mapValue"in e}function m5(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ha(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ko(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=ha(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ha(e.arrayValue.values[n]);return t}return Object.assign({},e)}function g5(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(t){this.value=t}static empty(){return new Wn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Ql(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ha(n)}setAll(t){let n=yn.emptyPath(),r={},o=[];t.forEach((i,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,o),r={},o=[],n=a.popLast()}i?r[a.lastSegment()]=ha(i):o.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,o)}delete(t){const n=this.field(t.popLast());Ql(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Fr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];Ql(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){Ko(n,(o,s)=>t[o]=s);for(const o of r)delete t[o]}clone(){return new Wn(ha(this.value))}}function _2(e){const t=[];return Ko(e.fields,(n,r)=>{const o=new yn([n]);if(Ql(r)){const s=_2(r.mapValue).fields;if(s.length===0)t.push(o);else for(const i of s)t.push(o.child(i))}else t.push(o)}),new or(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t,n,r,o,s,i,a){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(t){return new An(t,0,Ye.min(),Ye.min(),Ye.min(),Wn.empty(),0)}static newFoundDocument(t,n,r,o){return new An(t,1,n,Ye.min(),r,o,0)}static newNoDocument(t,n){return new An(t,2,n,Ye.min(),Ye.min(),Wn.empty(),0)}static newUnknownDocument(t,n){return new An(t,3,n,Ye.min(),Ye.min(),Wn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof An&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(t,n){this.position=t,this.inclusive=n}}function tv(e,t,n){let r=0;for(let o=0;o<e.position.length;o++){const s=t[o],i=e.position[o];if(s.field.isKeyField()?r=He.comparator(He.fromName(i.referenceValue),n.key):r=ii(i,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function nv(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Fr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(t,n="asc"){this.field=t,this.dir=n}}function v5(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{}class on extends w2{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new _5(t,n,r):n==="array-contains"?new $5(t,r):n==="in"?new T5(t,r):n==="not-in"?new S5(t,r):n==="array-contains-any"?new C5(t,r):new on(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new w5(t,r):new b5(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ii(n,this.value)):n!==null&&zo(this.value)===zo(n)&&this.matchesComparison(ii(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jr extends w2{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new jr(t,n)}matches(t){return b2(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function b2(e){return e.op==="and"}function $2(e){return y5(e)&&b2(e)}function y5(e){for(const t of e.filters)if(t instanceof jr)return!1;return!0}function uf(e){if(e instanceof on)return e.field.canonicalString()+e.op.toString()+ai(e.value);if($2(e))return e.filters.map(t=>uf(t)).join(",");{const t=e.filters.map(n=>uf(n)).join(",");return`${e.op}(${t})`}}function T2(e,t){return e instanceof on?function(r,o){return o instanceof on&&r.op===o.op&&r.field.isEqual(o.field)&&Fr(r.value,o.value)}(e,t):e instanceof jr?function(r,o){return o instanceof jr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((s,i,a)=>s&&T2(i,o.filters[a]),!0):!1}(e,t):void Ge()}function S2(e){return e instanceof on?function(n){return`${n.field.canonicalString()} ${n.op} ${ai(n.value)}`}(e):e instanceof jr?function(n){return n.op.toString()+" {"+n.getFilters().map(S2).join(" ,")+"}"}(e):"Filter"}class _5 extends on{constructor(t,n,r){super(t,n,r),this.key=He.fromName(r.referenceValue)}matches(t){const n=He.comparator(t.key,this.key);return this.matchesComparison(n)}}class w5 extends on{constructor(t,n){super(t,"in",n),this.keys=C2("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class b5 extends on{constructor(t,n){super(t,"not-in",n),this.keys=C2("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function C2(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>He.fromName(r.referenceValue))}class $5 extends on{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return kh(n)&&ja(n.arrayValue,this.value)}}class T5 extends on{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ja(this.value.arrayValue,n)}}class S5 extends on{constructor(t,n){super(t,"not-in",n)}matches(t){if(ja(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!ja(this.value.arrayValue,n)}}class C5 extends on{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!kh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ja(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(t,n=null,r=[],o=[],s=null,i=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=s,this.startAt=i,this.endAt=a,this.ue=null}}function rv(e,t=null,n=[],r=[],o=null,s=null,i=null){return new E5(e,t,n,r,o,s,i)}function Oh(e){const t=Ze(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>uf(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),sc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>ai(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>ai(r)).join(",")),t.ue=n}return t.ue}function Ah(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!v5(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!T2(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!nv(e.startAt,t.startAt)&&nv(e.endAt,t.endAt)}function cf(e){return He.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(t,n=null,r=[],o=[],s=null,i="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function P5(e,t,n,r,o,s,i,a){return new ac(e,t,n,r,o,s,i,a)}function E2(e){return new ac(e)}function ov(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function I5(e){return e.collectionGroup!==null}function pa(e){const t=Ze(e);if(t.ce===null){t.ce=[];const n=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(i){let a=new ln(yn.comparator);return i.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.ce.push(new Su(s,r))}),n.has(yn.keyField().canonicalString())||t.ce.push(new Su(yn.keyField(),r))}return t.ce}function Vr(e){const t=Ze(e);return t.le||(t.le=k5(t,pa(e))),t.le}function k5(e,t){if(e.limitType==="F")return rv(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(o=>{const s=o.dir==="desc"?"asc":"desc";return new Su(o.field,s)});const n=e.endAt?new Tu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Tu(e.startAt.position,e.startAt.inclusive):null;return rv(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function df(e,t,n){return new ac(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function lc(e,t){return Ah(Vr(e),Vr(t))&&e.limitType===t.limitType}function P2(e){return`${Oh(Vr(e))}|lt:${e.limitType}`}function Us(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(o=>S2(o)).join(", ")}]`),sc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(o=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(o)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(o=>ai(o)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(o=>ai(o)).join(",")),`Target(${r})`}(Vr(e))}; limitType=${e.limitType})`}function uc(e,t){return t.isFoundDocument()&&function(r,o){const s=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):He.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,o){for(const s of pa(r))if(!s.field.isKeyField()&&o.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,o){for(const s of r.filters)if(!s.matches(o))return!1;return!0}(e,t)&&function(r,o){return!(r.startAt&&!function(i,a,l){const u=tv(i,a,l);return i.inclusive?u<=0:u<0}(r.startAt,pa(r),o)||r.endAt&&!function(i,a,l){const u=tv(i,a,l);return i.inclusive?u>=0:u>0}(r.endAt,pa(r),o))}(e,t)}function O5(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function I2(e){return(t,n)=>{let r=!1;for(const o of pa(e)){const s=A5(o,t,n);if(s!==0)return s;r=r||o.field.isKeyField()}return 0}}function A5(e,t,n){const r=e.field.isKeyField()?He.comparator(t.key,n.key):function(s,i,a){const l=i.data.field(s),u=a.data.field(s);return l!==null&&u!==null?ii(l,u):Ge()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,s]of r)if(this.equalsFn(o,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ko(this.inner,(n,r)=>{for(const[o,s]of r)t(o,s)})}isEmpty(){return v2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=new qt(He.comparator);function ao(){return D5}const k2=new qt(He.comparator);function ra(...e){let t=k2;for(const n of e)t=t.insert(n.key,n);return t}function O2(e){let t=k2;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function ds(){return ma()}function A2(){return ma()}function ma(){return new ks(e=>e.toString(),(e,t)=>e.isEqual(t))}const R5=new qt(He.comparator),N5=new ln(He.comparator);function ot(...e){let t=N5;for(const n of e)t=t.add(n);return t}const V5=new ln(it);function L5(){return V5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$u(t)?"-0":t}}function D2(e){return{integerValue:""+e}}function M5(e,t){return c5(t)?D2(t):Dh(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(){this._=void 0}}function B5(e,t,n){return e instanceof Cu?function(o,s){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return s&&Ih(s)&&(s=ic(s)),s&&(i.fields.__previous_value__=s),{mapValue:i}}(n,t):e instanceof xa?N2(e,t):e instanceof Ua?V2(e,t):function(o,s){const i=R2(o,s),a=sv(i)+sv(o.Pe);return lf(i)&&lf(o.Pe)?D2(a):Dh(o.serializer,a)}(e,t)}function F5(e,t,n){return e instanceof xa?N2(e,t):e instanceof Ua?V2(e,t):n}function R2(e,t){return e instanceof Eu?function(r){return lf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class Cu extends cc{}class xa extends cc{constructor(t){super(),this.elements=t}}function N2(e,t){const n=L2(t);for(const r of e.elements)n.some(o=>Fr(o,r))||n.push(r);return{arrayValue:{values:n}}}class Ua extends cc{constructor(t){super(),this.elements=t}}function V2(e,t){let n=L2(t);for(const r of e.elements)n=n.filter(o=>!Fr(o,r));return{arrayValue:{values:n}}}class Eu extends cc{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function sv(e){return Zt(e.integerValue||e.doubleValue)}function L2(e){return kh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function j5(e,t){return e.field.isEqual(t.field)&&function(r,o){return r instanceof xa&&o instanceof xa||r instanceof Ua&&o instanceof Ua?si(r.elements,o.elements,Fr):r instanceof Eu&&o instanceof Eu?Fr(r.Pe,o.Pe):r instanceof Cu&&o instanceof Cu}(e.transform,t.transform)}class x5{constructor(t,n){this.version=t,this.transformResults=n}}class Cr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Cr}static exists(t){return new Cr(void 0,t)}static updateTime(t){return new Cr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Xl(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class dc{}function M2(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Rh(e.key,Cr.none()):new Ja(e.key,e.data,Cr.none());{const n=e.data,r=Wn.empty();let o=new ln(yn.comparator);for(let s of t.fields)if(!o.has(s)){let i=n.field(s);i===null&&s.length>1&&(s=s.popLast(),i=n.field(s)),i===null?r.delete(s):r.set(s,i),o=o.add(s)}return new Go(e.key,r,new or(o.toArray()),Cr.none())}}function U5(e,t,n){e instanceof Ja?function(o,s,i){const a=o.value.clone(),l=av(o.fieldTransforms,s,i.transformResults);a.setAll(l),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Go?function(o,s,i){if(!Xl(o.precondition,s))return void s.convertToUnknownDocument(i.version);const a=av(o.fieldTransforms,s,i.transformResults),l=s.data;l.setAll(B2(o)),l.setAll(a),s.convertToFoundDocument(i.version,l).setHasCommittedMutations()}(e,t,n):function(o,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,t,n)}function ga(e,t,n,r){return e instanceof Ja?function(s,i,a,l){if(!Xl(s.precondition,i))return a;const u=s.value.clone(),c=lv(s.fieldTransforms,l,i);return u.setAll(c),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof Go?function(s,i,a,l){if(!Xl(s.precondition,i))return a;const u=lv(s.fieldTransforms,l,i),c=i.data;return c.setAll(B2(s)),c.setAll(u),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(s,i,a){return Xl(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):a}(e,t,n)}function z5(e,t){let n=null;for(const r of e.fieldTransforms){const o=t.data.field(r.field),s=R2(r.transform,o||null);s!=null&&(n===null&&(n=Wn.empty()),n.set(r.field,s))}return n||null}function iv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&si(r,o,(s,i)=>j5(s,i))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ja extends dc{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Go extends dc{constructor(t,n,r,o,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function B2(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function av(e,t,n){const r=new Map;bt(e.length===n.length);for(let o=0;o<n.length;o++){const s=e[o],i=s.transform,a=t.data.field(s.field);r.set(s.field,F5(i,a,n[o]))}return r}function lv(e,t,n){const r=new Map;for(const o of e){const s=o.transform,i=n.data.field(o.field);r.set(o.field,B5(s,i,t))}return r}class Rh extends dc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class H5 extends dc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const s=this.mutations[o];s.key.isEqual(t.key)&&U5(s,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=ga(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=ga(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=A2();return this.mutations.forEach(o=>{const s=t.get(o.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=n.has(o.key)?null:a;const l=M2(i,a);l!==null&&r.set(o.key,l),i.isValidDocument()||i.convertToNoDocument(Ye.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ot())}isEqual(t){return this.batchId===t.batchId&&si(this.mutations,t.mutations,(n,r)=>iv(n,r))&&si(this.baseMutations,t.baseMutations,(n,r)=>iv(n,r))}}class Nh{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){bt(t.mutations.length===r.length);let o=function(){return R5}();const s=t.mutations;for(let i=0;i<s.length;i++)o=o.insert(s[i].key,r[i].version);return new Nh(t,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,lt;function G5(e){switch(e){default:return Ge();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function F2(e){if(e===void 0)return io("GRPC error has no .code"),me.UNKNOWN;switch(e){case tn.OK:return me.OK;case tn.CANCELLED:return me.CANCELLED;case tn.UNKNOWN:return me.UNKNOWN;case tn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case tn.INTERNAL:return me.INTERNAL;case tn.UNAVAILABLE:return me.UNAVAILABLE;case tn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case tn.NOT_FOUND:return me.NOT_FOUND;case tn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case tn.ABORTED:return me.ABORTED;case tn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case tn.DATA_LOSS:return me.DATA_LOSS;default:return Ge()}}(lt=tn||(tn={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5=new ms([4294967295,4294967295],0);function uv(e){const t=Y5().encode(e),n=new u2;return n.update(t),new Uint8Array(n.digest())}function cv(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ms([n,r],0),new ms([o,s],0)]}class Vh{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new oa(`Invalid padding: ${n}`);if(r<0)throw new oa(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new oa(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new oa(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ie=ms.fromNumber(this.Te)}Ee(t,n,r){let o=t.add(n.multiply(ms.fromNumber(r)));return o.compare(Q5)===1&&(o=new ms([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=uv(t),[r,o]=cv(n);for(let s=0;s<this.hashCount;s++){const i=this.Ee(r,o,s);if(!this.de(i))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),i=new Vh(s,o,n);return r.forEach(a=>i.insert(a)),i}insert(t){if(this.Te===0)return;const n=uv(t),[r,o]=cv(n);for(let s=0;s<this.hashCount;s++){const i=this.Ee(r,o,s);this.Ae(i)}}Ae(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class oa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(t,n,r,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,Za.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new fc(Ye.min(),o,new qt(it),ao(),ot())}}class Za{constructor(t,n,r,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Za(r,n,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(t,n,r,o){this.Re=t,this.removedTargetIds=n,this.key=r,this.Ve=o}}class j2{constructor(t,n){this.targetId=t,this.me=n}}class x2{constructor(t,n,r=wn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class dv{constructor(){this.fe=0,this.ge=fv(),this.pe=wn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=ot(),n=ot(),r=ot();return this.ge.forEach((o,s)=>{switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ge()}}),new Za(this.pe,this.ye,t,n,r)}Ce(){this.we=!1,this.ge=fv()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,bt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class X5{constructor(t){this.Le=t,this.Be=new Map,this.ke=ao(),this.qe=Dl(),this.Qe=Dl(),this.Ke=new qt(it)}$e(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.Ue(n,t.Ve):this.We(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.We(n,t.key,t.Ve)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(t.resumeToken));break;default:Ge()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((r,o)=>{this.je(o)&&n(o)})}Je(t){const n=t.targetId,r=t.me.count,o=this.Ye(n);if(o){const s=o.target;if(cf(s))if(r===0){const i=new He(s.path);this.We(n,i,An.newNoDocument(i,Ye.min()))}else bt(r===1);else{const i=this.Ze(n);if(i!==r){const a=this.Xe(t),l=a?this.et(a,t,i):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:s=0}=n;let i,a;try{i=Uo(r).toUint8Array()}catch(l){if(l instanceof y2)return oi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Vh(i,o,s)}catch(l){return oi(l instanceof oa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(t,n,r){return n.me.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let o=0;return r.forEach(s=>{const i=this.Le.nt(),a=`projects/${i.projectId}/databases/${i.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(n,s,null),o++)}),o}it(t){const n=new Map;this.Be.forEach((s,i)=>{const a=this.Ye(i);if(a){if(s.current&&cf(a.target)){const l=new He(a.target.path);this.st(l).has(i)||this.ot(i,l)||this.We(i,l,An.newNoDocument(l,t))}s.be&&(n.set(i,s.ve()),s.Ce())}});let r=ot();this.Qe.forEach((s,i)=>{let a=!0;i.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,i)=>i.setReadTime(t));const o=new fc(t,n,this.Ke,this.ke,r);return this.ke=ao(),this.qe=Dl(),this.Qe=Dl(),this.Ke=new qt(it),o}Ue(t,n){if(!this.je(t))return;const r=this.ot(t,n.key)?2:0;this.ze(t).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const o=this.ze(t);this.ot(t,n)?o.Fe(n,1):o.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(t)),this.Qe=this.Qe.insert(n,this._t(n).add(t)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(t){this.Be.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.ze(t).xe()}ze(t){let n=this.Be.get(t);return n||(n=new dv,this.Be.set(t,n)),n}_t(t){let n=this.Qe.get(t);return n||(n=new ln(it),this.Qe=this.Qe.insert(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new ln(it),this.qe=this.qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||Ve("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ut(t)}He(t){this.Be.set(t,new dv),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}ot(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function Dl(){return new qt(He.comparator)}function fv(){return new qt(He.comparator)}const J5={asc:"ASCENDING",desc:"DESCENDING"},Z5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ek={and:"AND",or:"OR"};class tk{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ff(e,t){return e.useProto3Json||sc(t)?t:{value:t}}function Pu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function U2(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function nk(e,t){return Pu(e,t.toTimestamp())}function Lr(e){return bt(!!e),Ye.fromTimestamp(function(n){const r=xo(n);return new an(r.seconds,r.nanos)}(e))}function Lh(e,t){return hf(e,t).canonicalString()}function hf(e,t){const n=function(o){return new xt(["projects",o.projectId,"databases",o.database])}(e).child("documents");return t===void 0?n:n.child(t)}function z2(e){const t=xt.fromString(e);return bt(G2(t)),t}function pf(e,t){return Lh(e.databaseId,t.path)}function vd(e,t){const n=z2(t);if(n.get(1)!==e.databaseId.projectId)throw new Fe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Fe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new He(q2(n))}function H2(e,t){return Lh(e.databaseId,t)}function rk(e){const t=z2(e);return t.length===4?xt.emptyPath():q2(t)}function mf(e){return new xt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function q2(e){return bt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function hv(e,t,n){return{name:pf(e,t),fields:n.value.mapValue.fields}}function ok(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ge()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(bt(c===void 0||typeof c=="string"),wn.fromBase64String(c||"")):(bt(c===void 0||c instanceof Buffer||c instanceof Uint8Array),wn.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),i=t.targetChange.cause,a=i&&function(u){const c=u.code===void 0?me.UNKNOWN:F2(u.code);return new Fe(c,u.message||"")}(i);n=new x2(r,o,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=vd(e,r.document.name),s=Lr(r.document.updateTime),i=r.document.createTime?Lr(r.document.createTime):Ye.min(),a=new Wn({mapValue:{fields:r.document.fields}}),l=An.newFoundDocument(o,s,i,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Jl(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=vd(e,r.document),s=r.readTime?Lr(r.readTime):Ye.min(),i=An.newNoDocument(o,s),a=r.removedTargetIds||[];n=new Jl([],a,i.key,i)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=vd(e,r.document),s=r.removedTargetIds||[];n=new Jl([],s,o,null)}else{if(!("filter"in t))return Ge();{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:s}=r,i=new K5(o,s),a=r.targetId;n=new j2(a,i)}}return n}function sk(e,t){let n;if(t instanceof Ja)n={update:hv(e,t.key,t.value)};else if(t instanceof Rh)n={delete:pf(e,t.key)};else if(t instanceof Go)n={update:hv(e,t.key,t.data),updateMask:pk(t.fieldMask)};else{if(!(t instanceof H5))return Ge();n={verify:pf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,i){const a=i.transform;if(a instanceof Cu)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xa)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ua)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Eu)return{fieldPath:i.field.canonicalString(),increment:a.Pe};throw Ge()}(0,r))),t.precondition.isNone||(n.currentDocument=function(o,s){return s.updateTime!==void 0?{updateTime:nk(o,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ge()}(e,t.precondition)),n}function ik(e,t){return e&&e.length>0?(bt(t!==void 0),e.map(n=>function(o,s){let i=o.updateTime?Lr(o.updateTime):Lr(s);return i.isEqual(Ye.min())&&(i=Lr(s)),new x5(i,o.transformResults||[])}(n,t))):[]}function ak(e,t){return{documents:[H2(e,t.path)]}}function lk(e,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=H2(e,o);const s=function(u){if(u.length!==0)return K2(jr.create(u,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const i=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:zs(h.field),direction:dk(h.dir)}}(c))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const a=ff(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{ct:n,parent:o}}function uk(e){let t=rk(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){bt(r===1);const c=n.from[0];c.allDescendants?o=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(f){const h=W2(f);return h instanceof jr&&$2(h)?h.getFilters():[h]}(n.where));let i=[];n.orderBy&&(i=function(f){return f.map(h=>function(w){return new Su(Hs(w.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,sc(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,m=f.values||[];return new Tu(m,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,m=f.values||[];return new Tu(m,h)}(n.endAt)),P5(t,o,i,s,a,"F",l,u)}function ck(e,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function W2(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Hs(n.unaryFilter.field);return on.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Hs(n.unaryFilter.field);return on.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Hs(n.unaryFilter.field);return on.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Hs(n.unaryFilter.field);return on.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ge()}}(e):e.fieldFilter!==void 0?function(n){return on.create(Hs(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return jr.create(n.compositeFilter.filters.map(r=>W2(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ge()}}(n.compositeFilter.op))}(e):Ge()}function dk(e){return J5[e]}function fk(e){return Z5[e]}function hk(e){return ek[e]}function zs(e){return{fieldPath:e.canonicalString()}}function Hs(e){return yn.fromServerFormat(e.fieldPath)}function K2(e){return e instanceof on?function(n){if(n.op==="=="){if(ev(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NAN"}};if(Zg(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ev(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NOT_NAN"}};if(Zg(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zs(n.field),op:fk(n.op),value:n.value}}}(e):e instanceof jr?function(n){const r=n.getFilters().map(o=>K2(o));return r.length===1?r[0]:{compositeFilter:{op:hk(n.op),filters:r}}}(e):Ge()}function pk(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function G2(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t,n,r,o,s=Ye.min(),i=Ye.min(),a=wn.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Io(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(t){this.ht=t}}function gk(e){const t=uk({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?df(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(){this.ln=new yk}addToCollectionParentIndex(t,n){return this.ln.add(n),ce.resolve()}getCollectionParents(t,n){return ce.resolve(this.ln.getEntries(n))}addFieldIndex(t,n){return ce.resolve()}deleteFieldIndex(t,n){return ce.resolve()}deleteAllFieldIndexes(t){return ce.resolve()}createTargetIndexes(t,n){return ce.resolve()}getDocumentsMatchingTarget(t,n){return ce.resolve(null)}getIndexType(t,n){return ce.resolve(0)}getFieldIndexes(t,n){return ce.resolve([])}getNextCollectionGroupToUpdate(t){return ce.resolve(null)}getMinOffset(t,n){return ce.resolve(jo.min())}getMinOffsetFromCollectionGroup(t,n){return ce.resolve(jo.min())}updateCollectionGroup(t,n,r){return ce.resolve()}updateIndexEntries(t,n){return ce.resolve()}}class yk{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new ln(xt.comparator),s=!o.has(r);return this.index[n]=o.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new ln(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qn{static withCacheSize(t){return new qn(t,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(41943040,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(t){this.kn=t}next(){return this.kn+=2,this.kn}static qn(){return new li(0)}static Qn(){return new li(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv([e,t],[n,r]){const o=it(e,n);return o===0?it(t,r):o}class _k{constructor(t){this.Gn=t,this.buffer=new ln(mv),this.zn=0}jn(){return++this.zn}Hn(t){const n=[t,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();mv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wk{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(t){Ve("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Si(n)?Ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ti(n)}await this.Yn(3e5)})}}class bk{constructor(t,n){this.Zn=t,this.params=n}calculateTargetCount(t,n){return this.Zn.Xn(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return ce.resolve(oc.oe);const r=new _k(n);return this.Zn.forEachTarget(t,o=>r.Hn(o.sequenceNumber)).next(()=>this.Zn.er(t,o=>r.Hn(o))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.Zn.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Zn.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(pv)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pv):this.tr(t,n))}getCacheSize(t){return this.Zn.getCacheSize(t)}tr(t,n){let r,o,s,i,a,l,u;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),o=this.params.maximumSequenceNumbersToCollect):o=f,i=Date.now(),this.nthSequenceNumber(t,o))).next(f=>(r=f,a=Date.now(),this.removeTargets(t,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(t,r))).next(f=>(u=Date.now(),xs()<=ut.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${i-c}ms
	Determined least recently used ${o} in `+(a-i)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:f})))}}function $k(e,t){return new bk(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(){this.changes=new ks(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,An.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ce.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(r!==null&&ga(r.mutation,o,or.empty(),an.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,ot()).next(()=>r))}getLocalViewOfDocuments(t,n,r=ot()){const o=ds();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,r).next(s=>{let i=ra();return s.forEach((a,l)=>{i=i.insert(a,l.overlayedDocument)}),i}))}getOverlayedDocuments(t,n){const r=ds();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,ot()))}populateOverlays(t,n,r){const o=[];return r.forEach(s=>{n.has(s)||o.push(s)}),this.documentOverlayCache.getOverlays(t,o).next(s=>{s.forEach((i,a)=>{n.set(i,a)})})}computeViews(t,n,r,o){let s=ao();const i=ma(),a=function(){return ma()}();return n.forEach((l,u)=>{const c=r.get(u.key);o.has(u.key)&&(c===void 0||c.mutation instanceof Go)?s=s.insert(u.key,u):c!==void 0?(i.set(u.key,c.mutation.getFieldMask()),ga(c.mutation,u,c.mutation.getFieldMask(),an.now())):i.set(u.key,or.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>i.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new Sk(c,(f=i.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const r=ma();let o=new qt((i,a)=>i-a),s=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(i=>{for(const a of i)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||or.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(o.get(a.batchId)||ot()).add(l);o=o.insert(a.batchId,f)})}).next(()=>{const i=[],a=o.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=A2();c.forEach(h=>{if(!s.has(h)){const m=M2(n.get(h),r.get(h));m!==null&&f.set(h,m),s=s.add(h)}}),i.push(this.documentOverlayCache.saveOverlays(t,u,f))}return ce.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,o){return function(i){return He.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):I5(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next(s=>{const i=o-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-s.size):ce.resolve(ds());let a=-1,l=s;return i.next(u=>ce.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?ce.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,ot())).next(c=>({batchId:a,changes:O2(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new He(n)).next(r=>{let o=ra();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const s=n.collectionGroup;let i=ra();return this.indexManager.getCollectionParents(t,s).next(a=>ce.forEach(a,l=>{const u=function(f,h){return new ac(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,r,o).next(c=>{c.forEach((f,h)=>{i=i.insert(f,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(t,n,r,o){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,o))).next(i=>{s.forEach((l,u)=>{const c=u.getKey();i.get(c)===null&&(i=i.insert(c,An.newInvalidDocument(c)))});let a=ra();return i.forEach((l,u)=>{const c=s.get(l);c!==void 0&&ga(c.mutation,u,or.empty(),an.now()),uc(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(t){this.serializer=t,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(t,n){return ce.resolve(this.Tr.get(n))}saveBundleMetadata(t,n){return this.Tr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Lr(o.createTime)}}(n)),ce.resolve()}getNamedQuery(t,n){return ce.resolve(this.Ir.get(n))}saveNamedQuery(t,n){return this.Ir.set(n.name,function(o){return{name:o.name,query:gk(o.bundledQuery),readTime:Lr(o.readTime)}}(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(){this.overlays=new qt(He.comparator),this.Er=new Map}getOverlay(t,n){return ce.resolve(this.overlays.get(n))}getOverlays(t,n){const r=ds();return ce.forEach(n,o=>this.getOverlay(t,o).next(s=>{s!==null&&r.set(o,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((o,s)=>{this.Tt(t,n,s)}),ce.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.Er.get(r);return o!==void 0&&(o.forEach(s=>this.overlays=this.overlays.remove(s)),this.Er.delete(r)),ce.resolve()}getOverlaysForCollection(t,n,r){const o=ds(),s=n.length+1,i=new He(n.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&o.set(l.getKey(),l)}return ce.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let s=new qt((u,c)=>u-c);const i=this.overlays.getIterator();for(;i.hasNext();){const u=i.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=ds(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=ds(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=o)););return ce.resolve(a)}Tt(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const i=this.Er.get(o.largestBatchId).delete(r.key);this.Er.set(o.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new W5(n,r));let s=this.Er.get(n);s===void 0&&(s=ot(),this.Er.set(n,s)),this.Er.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.sessionToken=wn.EMPTY_BYTE_STRING}getSessionToken(t){return ce.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(){this.dr=new ln(dn.Ar),this.Rr=new ln(dn.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(t,n){const r=new dn(t,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.gr(new dn(t,n))}pr(t,n){t.forEach(r=>this.removeReference(r,n))}yr(t){const n=new He(new xt([])),r=new dn(n,t),o=new dn(n,t+1),s=[];return this.Rr.forEachInRange([r,o],i=>{this.gr(i),s.push(i.key)}),s}wr(){this.dr.forEach(t=>this.gr(t))}gr(t){this.dr=this.dr.delete(t),this.Rr=this.Rr.delete(t)}Sr(t){const n=new He(new xt([])),r=new dn(n,t),o=new dn(n,t+1);let s=ot();return this.Rr.forEachInRange([r,o],i=>{s=s.add(i.key)}),s}containsKey(t){const n=new dn(t,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class dn{constructor(t,n){this.key=t,this.br=n}static Ar(t,n){return He.comparator(t.key,n.key)||it(t.br,n.br)}static Vr(t,n){return it(t.br,n.br)||He.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new ln(dn.Ar)}checkEmpty(t){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new q5(s,n,r,o);this.mutationQueue.push(i);for(const a of o)this.vr=this.vr.add(new dn(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return ce.resolve(i)}lookupMutationBatch(t,n){return ce.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.Fr(r),s=o<0?0:o;return ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(t){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new dn(n,0),o=new dn(n,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([r,o],i=>{const a=this.Cr(i.br);s.push(a)}),ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ln(it);return n.forEach(o=>{const s=new dn(o,0),i=new dn(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,i],a=>{r=r.add(a.br)})}),ce.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let s=r;He.isDocumentKey(s)||(s=s.child(""));const i=new dn(new He(s),0);let a=new ln(it);return this.vr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===o&&(a=a.add(l.br)),!0)},i),ce.resolve(this.Mr(a))}Mr(t){const n=[];return t.forEach(r=>{const o=this.Cr(r);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){bt(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return ce.forEach(n.mutations,o=>{const s=new dn(o.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.vr=r})}Ln(t){}containsKey(t,n){const r=new dn(n,0),o=this.vr.firstAfterOrEqual(r);return ce.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,ce.resolve()}Or(t,n){return this.Fr(t)}Fr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Cr(t){const n=this.Fr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(t){this.Nr=t,this.docs=function(){return new qt(He.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),s=o?o.size:0,i=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return ce.resolve(r?r.document.mutableCopy():An.newInvalidDocument(n))}getEntries(t,n){let r=ao();return n.forEach(o=>{const s=this.docs.get(o);r=r.insert(o,s?s.document.mutableCopy():An.newInvalidDocument(o))}),ce.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let s=ao();const i=n.path,a=new He(i.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!i.isPrefixOf(u.path))break;u.path.length>i.length+1||i5(s5(c),r)<=0||(o.has(c.key)||uc(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return ce.resolve(s)}getAllFromCollectionGroup(t,n,r,o){Ge()}Lr(t,n){return ce.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Ak(this)}getSize(t){return ce.resolve(this.size)}}class Ak extends Tk{constructor(t){super(),this.hr=t}applyChanges(t){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.hr.addEntry(t,o)):this.hr.removeEntry(r)}),ce.waitFor(n)}getFromCache(t,n){return this.hr.getEntry(t,n)}getAllFromCache(t,n){return this.hr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(t){this.persistence=t,this.Br=new ks(n=>Oh(n),Ah),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.kr=0,this.qr=new Mh,this.targetCount=0,this.Qr=li.qn()}forEachTarget(t,n){return this.Br.forEach((r,o)=>n(o)),ce.resolve()}getLastRemoteSnapshotVersion(t){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ce.resolve(this.kr)}allocateTargetId(t){return this.highestTargetId=this.Qr.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),ce.resolve()}Un(t){this.Br.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Qr=new li(n),this.highestTargetId=n),t.sequenceNumber>this.kr&&(this.kr=t.sequenceNumber)}addTargetData(t,n){return this.Un(n),this.targetCount+=1,ce.resolve()}updateTargetData(t,n){return this.Un(n),ce.resolve()}removeTargetData(t,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(t,n,r){let o=0;const s=[];return this.Br.forEach((i,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Br.delete(i),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),o++)}),ce.waitFor(s).next(()=>o)}getTargetCount(t){return ce.resolve(this.targetCount)}getTargetData(t,n){const r=this.Br.get(n)||null;return ce.resolve(r)}addMatchingKeys(t,n,r){return this.qr.mr(n,r),ce.resolve()}removeMatchingKeys(t,n,r){this.qr.pr(n,r);const o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(i=>{s.push(o.markPotentiallyOrphaned(t,i))}),ce.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.qr.yr(n),ce.resolve()}getMatchingKeysForTargetId(t,n){const r=this.qr.Sr(n);return ce.resolve(r)}containsKey(t,n){return ce.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(t,n){this.Kr={},this.overlays={},this.$r=new oc(0),this.Ur=!1,this.Ur=!0,this.Wr=new Ik,this.referenceDelegate=t(this),this.Gr=new Dk(this),this.indexManager=new vk,this.remoteDocumentCache=function(o){return new Ok(o)}(r=>this.referenceDelegate.zr(r)),this.serializer=new mk(n),this.jr=new Ek(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Pk,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Kr[t.toKey()];return r||(r=new kk(n,this.referenceDelegate),this.Kr[t.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(t,n,r){Ve("MemoryPersistence","Starting transaction:",t);const o=new Rk(this.$r.next());return this.referenceDelegate.Hr(),r(o).next(s=>this.referenceDelegate.Jr(o).next(()=>s)).toPromise().then(s=>(o.raiseOnCommittedEvent(),s))}Yr(t,n){return ce.or(Object.values(this.Kr).map(r=>()=>r.containsKey(t,n)))}}class Rk extends l5{constructor(t){super(),this.currentSequenceNumber=t}}class Bh{constructor(t){this.persistence=t,this.Zr=new Mh,this.Xr=null}static ei(t){return new Bh(t)}get ti(){if(this.Xr)return this.Xr;throw Ge()}addReference(t,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),ce.resolve()}removeReference(t,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(t,n){return this.ti.add(n.toString()),ce.resolve()}removeTarget(t,n){this.Zr.yr(n.targetId).forEach(o=>this.ti.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(s=>this.ti.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Hr(){this.Xr=new Set}Jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.ti,r=>{const o=He.fromPath(r);return this.ni(t,o).next(s=>{s||n.removeEntry(o,Ye.min())})}).next(()=>(this.Xr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ni(t,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(t){return 0}ni(t,n){return ce.or([()=>ce.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Yr(t,n)])}}class Iu{constructor(t,n){this.persistence=t,this.ri=new ks(r=>d5(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=$k(this,n)}static ei(t,n){return new Iu(t,n)}Hr(){}Jr(t){return ce.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}Xn(t){const n=this.nr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(o=>r+o))}nr(t){let n=0;return this.er(t,r=>{n++}).next(()=>n)}er(t,n){return ce.forEach(this.ri,(r,o)=>this.ir(t,r,o).next(s=>s?ce.resolve():n(o)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),s=o.newChangeBuffer();return o.Lr(t,i=>this.ir(t,i,n).next(a=>{a||(r++,s.removeEntry(i,Ye.min()))})).next(()=>s.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.ri.set(n,t.currentSequenceNumber),ce.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.ri.set(r,t.currentSequenceNumber),ce.resolve()}removeReference(t,n,r){return this.ri.set(r,t.currentSequenceNumber),ce.resolve()}updateLimboDocument(t,n){return this.ri.set(n,t.currentSequenceNumber),ce.resolve()}zr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Yl(t.data.value)),n}ir(t,n,r){return ce.or([()=>this.persistence.Yr(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.ri.get(n);return ce.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.Wi=r,this.Gi=o}static zi(t,n){let r=ot(),o=ot();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}return new Fh(t,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return hP()?8:u5(cP())>0?6:4}()}initialize(t,n){this.Zi=t,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(t,n,r,o){const s={result:null};return this.Xi(t,n).next(i=>{s.result=i}).next(()=>{if(!s.result)return this.es(t,n,o,r).next(i=>{s.result=i})}).next(()=>{if(s.result)return;const i=new Nk;return this.ts(t,n,i).next(a=>{if(s.result=a,this.Hi)return this.ns(t,n,i,a.size)})}).next(()=>s.result)}ns(t,n,r,o){return r.documentReadCount<this.Ji?(xs()<=ut.DEBUG&&Ve("QueryEngine","SDK will not create cache indexes for query:",Us(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ce.resolve()):(xs()<=ut.DEBUG&&Ve("QueryEngine","Query:",Us(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Yi*o?(xs()<=ut.DEBUG&&Ve("QueryEngine","The SDK decides to create cache indexes for query:",Us(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Vr(n))):ce.resolve())}Xi(t,n){if(ov(n))return ce.resolve(null);let r=Vr(n);return this.indexManager.getIndexType(t,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=df(n,null,"F"),r=Vr(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const i=ot(...s);return this.Zi.getDocuments(t,i).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.rs(n,a);return this.ss(n,u,i,l.readTime)?this.Xi(t,df(n,null,"F")):this.os(t,u,n,l)}))})))}es(t,n,r,o){return ov(n)||o.isEqual(Ye.min())?ce.resolve(null):this.Zi.getDocuments(t,r).next(s=>{const i=this.rs(n,s);return this.ss(n,i,r,o)?ce.resolve(null):(xs()<=ut.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Us(n)),this.os(t,i,n,o5(o,-1)).next(a=>a))})}rs(t,n){let r=new ln(I2(t));return n.forEach((o,s)=>{uc(t,s)&&(r=r.add(s))}),r}ss(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)}ts(t,n,r){return xs()<=ut.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",Us(n)),this.Zi.getDocumentsMatchingQuery(t,n,jo.min(),r)}os(t,n,r,o){return this.Zi.getDocumentsMatchingQuery(t,r,o).next(s=>(n.forEach(i=>{s=s.insert(i.key,i)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(t,n,r,o){this.persistence=t,this._s=n,this.serializer=o,this.us=new qt(it),this.cs=new ks(s=>Oh(s),Ah),this.ls=new Map,this.hs=t.getRemoteDocumentCache(),this.Gr=t.getTargetCache(),this.jr=t.getBundleCache(),this.Ps(r)}Ps(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Ck(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.us))}}function Mk(e,t,n,r){return new Lk(e,t,n,r)}async function Q2(e,t){const n=Ze(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(s=>(o=s,n.Ps(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const i=[],a=[];let l=ot();for(const u of o){i.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ts:u,removedBatchIds:i,addedBatchIds:a}))})})}function Bk(e,t){const n=Ze(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=t.batch.keys(),s=n.hs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,h=f.keys();let m=ce.resolve();return h.forEach(w=>{m=m.next(()=>c.getEntry(l,w)).next(C=>{const p=u.docVersions.get(w);bt(p!==null),C.version.compareTo(p)<0&&(f.applyToRemoteDocument(C,u),C.isValidDocument()&&(C.setReadTime(u.commitVersion),c.addEntry(C)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ot();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,o))})}function X2(e){const t=Ze(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Gr.getLastRemoteSnapshotVersion(n))}function Fk(e,t){const n=Ze(e),r=t.snapshotVersion;let o=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const i=n.hs.newChangeBuffer({trackRemovals:!0});o=n.us;const a=[];t.targetChanges.forEach((c,f)=>{const h=o.get(f);if(!h)return;a.push(n.Gr.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Gr.addMatchingKeys(s,c.addedDocuments,f)));let m=h.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?m=m.withResumeToken(wn.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),o=o.insert(f,m),function(C,p,g){return C.resumeToken.approximateByteSize()===0||p.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(h,m,c)&&a.push(n.Gr.updateTargetData(s,m))});let l=ao(),u=ot();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(jk(s,i,t.documentUpdates).next(c=>{l=c.Is,u=c.Es})),!r.isEqual(Ye.min())){const c=n.Gr.getLastRemoteSnapshotVersion(s).next(f=>n.Gr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return ce.waitFor(a).next(()=>i.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.us=o,s))}function jk(e,t,n){let r=ot(),o=ot();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let i=ao();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(o=o.add(a)),l.isNoDocument()&&l.version.isEqual(Ye.min())?(t.removeEntry(a,l.readTime),i=i.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),i=i.insert(a,l)):Ve("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Is:i,Es:o}})}function xk(e,t){const n=Ze(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Uk(e,t){const n=Ze(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.Gr.getTargetData(r,t).next(s=>s?(o=s,ce.resolve(o)):n.Gr.allocateTargetId(r).next(i=>(o=new Io(t,i,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.us.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(t,r.targetId)),r})}async function gf(e,t,n){const r=Ze(e),o=r.us.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,i=>r.persistence.referenceDelegate.removeTarget(i,o))}catch(i){if(!Si(i))throw i;Ve("LocalStore",`Failed to update sequence numbers for target ${t}: ${i}`)}r.us=r.us.remove(t),r.cs.delete(o.target)}function gv(e,t,n){const r=Ze(e);let o=Ye.min(),s=ot();return r.persistence.runTransaction("Execute query","readwrite",i=>function(l,u,c){const f=Ze(l),h=f.cs.get(c);return h!==void 0?ce.resolve(f.us.get(h)):f.Gr.getTargetData(u,c)}(r,i,Vr(t)).next(a=>{if(a)return o=a.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(i,a.targetId).next(l=>{s=l})}).next(()=>r._s.getDocumentsMatchingQuery(i,t,n?o:Ye.min(),n?s:ot())).next(a=>(zk(r,O5(t),a),{documents:a,ds:s})))}function zk(e,t,n){let r=e.ls.get(t)||Ye.min();n.forEach((o,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.ls.set(t,r)}class vv{constructor(){this.activeTargetIds=L5()}ps(t){this.activeTargetIds=this.activeTargetIds.add(t)}ys(t){this.activeTargetIds=this.activeTargetIds.delete(t)}gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Hk{constructor(){this._o=new vv,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this._o.ps(t),this.ao[t]||"not-current"}updateQueryState(t,n,r){this.ao[t]=n}removeLocalQueryTarget(t){this._o.ys(t)}isLocalQueryTarget(t){return this._o.activeTargetIds.has(t)}clearQueryState(t){delete this.ao[t]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(t){return this._o.activeTargetIds.has(t)}start(){return this._o=new vv,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{uo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(t){this.To.push(t)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.To)t(0)}Po(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.To)t(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl=null;function yd(){return Rl===null?Rl=function(){return 268435456+Math.round(2147483648*Math.random())}():Rl++,"0x"+Rl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(t){this.Eo=t.Eo,this.Ao=t.Ao}Ro(t){this.Vo=t}mo(t){this.fo=t}po(t){this.yo=t}onMessage(t){this.wo=t}close(){this.Ao()}send(t){this.Eo(t)}So(){this.Vo()}bo(){this.fo()}Do(t){this.yo(t)}vo(t){this.wo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="WebChannelConnection";class Gk extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${o}/databases/${s}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${s}`}Oo(n,r,o,s,i){const a=yd(),l=this.No(n,r.toUriEncodedString());Ve("RestConnection",`Sending RPC '${n}' ${a}:`,l,o);const u={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(u,s,i),this.Bo(n,l,u,o).then(c=>(Ve("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw oi("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",o),c})}ko(n,r,o,s,i,a){return this.Oo(n,r,o,s,i)}Lo(n,r,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$i}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,i)=>n[i]=s),o&&o.headers.forEach((s,i)=>n[i]=s)}No(n,r){const o=Wk[n];return`${this.Fo}/v1/${r}:${o}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Bo(t,n,r,o){const s=yd();return new Promise((i,a)=>{const l=new c2;l.setWithCredentials(!0),l.listenOnce(d2.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Gl.NO_ERROR:const c=l.getResponseJson();Ve(En,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),i(c);break;case Gl.TIMEOUT:Ve(En,`RPC '${t}' ${s} timed out`),a(new Fe(me.DEADLINE_EXCEEDED,"Request time out"));break;case Gl.HTTP_ERROR:const f=l.getStatus();if(Ve(En,`RPC '${t}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const w=function(p){const g=p.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(g)>=0?g:me.UNKNOWN}(m.status);a(new Fe(w,m.message))}else a(new Fe(me.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Fe(me.UNAVAILABLE,"Connection failed."));break;default:Ge()}}finally{Ve(En,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(o);Ve(En,`RPC '${t}' ${s} sending request:`,o),l.send(n,"POST",u,r,15)})}qo(t,n,r){const o=yd(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=p2(),a=h2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Lo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Ve(En,`Creating RPC '${t}' stream ${o}: ${c}`,l);const f=i.createWebChannel(c,l);let h=!1,m=!1;const w=new Kk({Eo:p=>{m?Ve(En,`Not sending because RPC '${t}' stream ${o} is closed:`,p):(h||(Ve(En,`Opening RPC '${t}' stream ${o} transport.`),f.open(),h=!0),Ve(En,`RPC '${t}' stream ${o} sending:`,p),f.send(p))},Ao:()=>f.close()}),C=(p,g,b)=>{p.listen(g,O=>{try{b(O)}catch(A){setTimeout(()=>{throw A},0)}})};return C(f,na.EventType.OPEN,()=>{m||(Ve(En,`RPC '${t}' stream ${o} transport opened.`),w.So())}),C(f,na.EventType.CLOSE,()=>{m||(m=!0,Ve(En,`RPC '${t}' stream ${o} transport closed`),w.Do())}),C(f,na.EventType.ERROR,p=>{m||(m=!0,oi(En,`RPC '${t}' stream ${o} transport errored:`,p),w.Do(new Fe(me.UNAVAILABLE,"The operation could not be completed")))}),C(f,na.EventType.MESSAGE,p=>{var g;if(!m){const b=p.data[0];bt(!!b);const O=b,A=(O==null?void 0:O.error)||((g=O[0])===null||g===void 0?void 0:g.error);if(A){Ve(En,`RPC '${t}' stream ${o} received error:`,A);const L=A.status;let N=function(_){const P=tn[_];if(P!==void 0)return F2(P)}(L),I=A.message;N===void 0&&(N=me.INTERNAL,I="Unknown error status: "+L+" with message "+A.message),m=!0,w.Do(new Fe(N,I)),f.close()}else Ve(En,`RPC '${t}' stream ${o} received:`,b),w.vo(b)}}),C(a,f2.STAT_EVENT,p=>{p.stat===sf.PROXY?Ve(En,`RPC '${t}' stream ${o} detected buffering proxy`):p.stat===sf.NOPROXY&&Ve(En,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{w.bo()},0),w}}function _d(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(e){return new tk(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t,n,r=1e3,o=1.5,s=6e4){this.li=t,this.timerId=n,this.Qo=r,this.Ko=o,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(t){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),o=Math.max(0,n-r);o>0&&Ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),t())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t,n,r,o,s,i,a,l){this.li=t,this.Yo=r,this.Zo=o,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new J2(t,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(t){this.l_(),this.stream.send(t)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(t,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,t!==4?this.r_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(io(n.toString()),io("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.po(n)}P_(){}auth(){this.state=1;const t=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Xo===n&&this.I_(r,o)},r=>{t(()=>{const o=new Fe(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(o)})})}I_(t,n){const r=this.T_(this.Xo);this.stream=this.d_(t,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{r(()=>this.E_(o))}),this.stream.onMessage(o=>{r(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(t){return Ve("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}T_(t){return n=>{this.li.enqueueAndForget(()=>this.Xo===t?n():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Yk extends Z2{constructor(t,n,r,o,s,i){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,i),this.serializer=s}d_(t,n){return this.connection.qo("Listen",t,n)}A_(t){return this.onNext(t)}onNext(t){this.r_.reset();const n=ok(this.serializer,t),r=function(s){if(!("targetChange"in s))return Ye.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?Ye.min():i.readTime?Lr(i.readTime):Ye.min()}(t);return this.listener.R_(n,r)}V_(t){const n={};n.database=mf(this.serializer),n.addTarget=function(s,i){let a;const l=i.target;if(a=cf(l)?{documents:ak(s,l)}:{query:lk(s,l).ct},a.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){a.resumeToken=U2(s,i.resumeToken);const u=ff(s,i.expectedCount);u!==null&&(a.expectedCount=u)}else if(i.snapshotVersion.compareTo(Ye.min())>0){a.readTime=Pu(s,i.snapshotVersion.toTimestamp());const u=ff(s,i.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=ck(this.serializer,t);r&&(n.labels=r),this.c_(n)}m_(t){const n={};n.database=mf(this.serializer),n.removeTarget=t,this.c_(n)}}class Qk extends Z2{constructor(t,n,r,o,s,i){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,i),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(t,n){return this.connection.qo("Write",t,n)}A_(t){return bt(!!t.streamToken),this.lastStreamToken=t.streamToken,bt(!t.writeResults||t.writeResults.length===0),this.listener.p_()}onNext(t){bt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.r_.reset();const n=ik(t.writeResults,t.commitTime),r=Lr(t.commitTime);return this.listener.y_(r,n)}w_(){const t={};t.database=mf(this.serializer),this.c_(t)}g_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>sk(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk extends class{}{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new Fe(me.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(t,n,r,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.Oo(t,hf(n,r),o,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Fe(me.UNKNOWN,s.toString())})}ko(t,n,r,o,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.ko(t,hf(n,r),o,i,a,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Fe(me.UNKNOWN,i.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Jk{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(t){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.M_("Offline")))}set(t){this.N_(),this.D_=0,t==="Online"&&(this.C_=!1),this.M_(t)}M_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}x_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(io(n),this.C_=!1):Ve("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(t,n,r,o,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(i=>{r.enqueueAndForget(async()=>{Os(this)&&(Ve("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ze(l);u.k_.add(4),await el(u),u.K_.set("Unknown"),u.k_.delete(4),await pc(u)}(this))})}),this.K_=new Jk(r,o)}}async function pc(e){if(Os(e))for(const t of e.q_)await t(!0)}async function el(e){for(const t of e.q_)await t(!1)}function e$(e,t){const n=Ze(e);n.B_.has(t.targetId)||(n.B_.set(t.targetId,t),zh(n)?Uh(n):Ci(n).s_()&&xh(n,t))}function jh(e,t){const n=Ze(e),r=Ci(n);n.B_.delete(t),r.s_()&&t$(n,t),n.B_.size===0&&(r.s_()?r.a_():Os(n)&&n.K_.set("Unknown"))}function xh(e,t){if(e.U_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ye.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ci(e).V_(t)}function t$(e,t){e.U_.xe(t),Ci(e).m_(t)}function Uh(e){e.U_=new X5({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.B_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Ci(e).start(),e.K_.F_()}function zh(e){return Os(e)&&!Ci(e).i_()&&e.B_.size>0}function Os(e){return Ze(e).k_.size===0}function n$(e){e.U_=void 0}async function eO(e){e.K_.set("Online")}async function tO(e){e.B_.forEach((t,n)=>{xh(e,t)})}async function nO(e,t){n$(e),zh(e)?(e.K_.O_(t),Uh(e)):e.K_.set("Unknown")}async function rO(e,t,n){if(e.K_.set("Online"),t instanceof x2&&t.state===2&&t.cause)try{await async function(o,s){const i=s.cause;for(const a of s.targetIds)o.B_.has(a)&&(await o.remoteSyncer.rejectListen(a,i),o.B_.delete(a),o.U_.removeTarget(a))}(e,t)}catch(r){Ve("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ku(e,r)}else if(t instanceof Jl?e.U_.$e(t):t instanceof j2?e.U_.Je(t):e.U_.Ge(t),!n.isEqual(Ye.min()))try{const r=await X2(e.localStore);n.compareTo(r)>=0&&await function(s,i){const a=s.U_.it(i);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.B_.get(u);c&&s.B_.set(u,c.withResumeToken(l.resumeToken,i))}}),a.targetMismatches.forEach((l,u)=>{const c=s.B_.get(l);if(!c)return;s.B_.set(l,c.withResumeToken(wn.EMPTY_BYTE_STRING,c.snapshotVersion)),t$(s,l);const f=new Io(c.target,l,u,c.sequenceNumber);xh(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Ve("RemoteStore","Failed to raise snapshot:",r),await ku(e,r)}}async function ku(e,t,n){if(!Si(t))throw t;e.k_.add(1),await el(e),e.K_.set("Offline"),n||(n=()=>X2(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ve("RemoteStore","Retrying IndexedDB access"),await n(),e.k_.delete(1),await pc(e)})}function r$(e,t){return t().catch(n=>ku(e,n,t))}async function mc(e){const t=Ze(e),n=Ho(t);let r=t.L_.length>0?t.L_[t.L_.length-1].batchId:-1;for(;oO(t);)try{const o=await xk(t.localStore,r);if(o===null){t.L_.length===0&&n.a_();break}r=o.batchId,sO(t,o)}catch(o){await ku(t,o)}o$(t)&&s$(t)}function oO(e){return Os(e)&&e.L_.length<10}function sO(e,t){e.L_.push(t);const n=Ho(e);n.s_()&&n.f_&&n.g_(t.mutations)}function o$(e){return Os(e)&&!Ho(e).i_()&&e.L_.length>0}function s$(e){Ho(e).start()}async function iO(e){Ho(e).w_()}async function aO(e){const t=Ho(e);for(const n of e.L_)t.g_(n.mutations)}async function lO(e,t,n){const r=e.L_.shift(),o=Nh.from(r,t,n);await r$(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await mc(e)}async function uO(e,t){t&&Ho(e).f_&&await async function(r,o){if(function(i){return G5(i)&&i!==me.ABORTED}(o.code)){const s=r.L_.shift();Ho(r).__(),await r$(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),await mc(r)}}(e,t),o$(e)&&s$(e)}async function _v(e,t){const n=Ze(e);n.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const r=Os(n);n.k_.add(3),await el(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.k_.delete(3),await pc(n)}async function cO(e,t){const n=Ze(e);t?(n.k_.delete(2),await pc(n)):t||(n.k_.add(2),await el(n),n.K_.set("Unknown"))}function Ci(e){return e.W_||(e.W_=function(n,r,o){const s=Ze(n);return s.b_(),new Yk(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(e.datastore,e.asyncQueue,{Ro:eO.bind(null,e),mo:tO.bind(null,e),po:nO.bind(null,e),R_:rO.bind(null,e)}),e.q_.push(async t=>{t?(e.W_.__(),zh(e)?Uh(e):e.K_.set("Unknown")):(await e.W_.stop(),n$(e))})),e.W_}function Ho(e){return e.G_||(e.G_=function(n,r,o){const s=Ze(n);return s.b_(),new Qk(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(e.datastore,e.asyncQueue,{Ro:()=>Promise.resolve(),mo:iO.bind(null,e),po:uO.bind(null,e),p_:aO.bind(null,e),y_:lO.bind(null,e)}),e.q_.push(async t=>{t?(e.G_.__(),await mc(e)):(await e.G_.stop(),e.L_.length>0&&(Ve("RemoteStore",`Stopping write stream with ${e.L_.length} pending writes`),e.L_=[]))})),e.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(t,n,r,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new No,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,s){const i=Date.now()+r,a=new Hh(t,n,i,o,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Fe(me.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qh(e,t){if(io("AsyncQueue",`${t}: ${e}`),Si(e))return new Fe(me.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{static emptySet(t){return new Zs(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||He.comparator(n.key,r.key):(n,r)=>He.comparator(n.key,r.key),this.keyedMap=ra(),this.sortedSet=new qt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Zs)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Zs;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(){this.z_=new qt(He.comparator)}track(t){const n=t.doc.key,r=this.z_.get(n);r?t.type!==0&&r.type===3?this.z_=this.z_.insert(n,t):t.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.z_=this.z_.remove(n):t.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:t.doc}):Ge():this.z_=this.z_.insert(n,t)}j_(){const t=[];return this.z_.inorderTraversal((n,r)=>{t.push(r)}),t}}class ui{constructor(t,n,r,o,s,i,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,o,s){const i=[];return n.forEach(a=>{i.push({type:0,doc:a})}),new ui(t,n,Zs.emptySet(n),i,r,o,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&lc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(t=>t.Z_())}}class fO{constructor(){this.queries=bv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const o=Ze(n),s=o.queries;o.queries=bv(),s.forEach((i,a)=>{for(const l of a.J_)l.onError(r)})})(this,new Fe(me.ABORTED,"Firestore shutting down"))}}function bv(){return new ks(e=>P2(e),lc)}async function hO(e,t){const n=Ze(e);let r=3;const o=t.query;let s=n.queries.get(o);s?!s.Y_()&&t.Z_()&&(r=2):(s=new dO,r=t.Z_()?0:1);try{switch(r){case 0:s.H_=await n.onListen(o,!0);break;case 1:s.H_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(i){const a=qh(i,`Initialization of query '${Us(t.query)}' failed`);return void t.onError(a)}n.queries.set(o,s),s.J_.push(t),t.ea(n.onlineState),s.H_&&t.ta(s.H_)&&Wh(n)}async function pO(e,t){const n=Ze(e),r=t.query;let o=3;const s=n.queries.get(r);if(s){const i=s.J_.indexOf(t);i>=0&&(s.J_.splice(i,1),s.J_.length===0?o=t.Z_()?0:1:!s.Y_()&&t.Z_()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function mO(e,t){const n=Ze(e);let r=!1;for(const o of t){const s=o.query,i=n.queries.get(s);if(i){for(const a of i.J_)a.ta(o)&&(r=!0);i.H_=o}}r&&Wh(n)}function gO(e,t,n){const r=Ze(e),o=r.queries.get(t);if(o)for(const s of o.J_)s.onError(n);r.queries.delete(t)}function Wh(e){e.X_.forEach(t=>{t.next()})}var vf,$v;($v=vf||(vf={})).na="default",$v.Cache="cache";class vO{constructor(t,n,r){this.query=t,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new ui(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ia?this.oa(t)&&(this.ra.next(t),n=!0):this._a(t,this.onlineState)&&(this.aa(t),n=!0),this.sa=t,n}onError(t){this.ra.error(t)}ea(t){this.onlineState=t;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,t)&&(this.aa(this.sa),n=!0),n}_a(t,n){if(!t.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}oa(t){if(t.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(t){t=ui.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ia=!0,this.ra.next(t)}Z_(){return this.options.source!==vf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(t){this.key=t}}class a${constructor(t){this.key=t}}class yO{constructor(t,n){this.query=t,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ot(),this.mutatedKeys=ot(),this.Va=I2(t),this.ma=new Zs(this.Va)}get fa(){return this.da}ga(t,n){const r=n?n.pa:new wv,o=n?n.ma:this.ma;let s=n?n.mutatedKeys:this.mutatedKeys,i=o,a=!1;const l=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,u=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((c,f)=>{const h=o.get(c),m=uc(this.query,f)?f:null,w=!!h&&this.mutatedKeys.has(h.key),C=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let p=!1;h&&m?h.data.isEqual(m.data)?w!==C&&(r.track({type:3,doc:m}),p=!0):this.ya(h,m)||(r.track({type:2,doc:m}),p=!0,(l&&this.Va(m,l)>0||u&&this.Va(m,u)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),p=!0):h&&!m&&(r.track({type:1,doc:h}),p=!0,(l||u)&&(a=!0)),p&&(m?(i=i.add(m),s=C?s.add(c):s.delete(c)):(i=i.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const c=this.query.limitType==="F"?i.last():i.first();i=i.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ma:i,pa:r,ss:a,mutatedKeys:s}}ya(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const s=this.ma;this.ma=t.ma,this.mutatedKeys=t.mutatedKeys;const i=t.pa.j_();i.sort((c,f)=>function(m,w){const C=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge()}};return C(m)-C(w)}(c.type,f.type)||this.Va(c.doc,f.doc)),this.wa(r),o=o!=null&&o;const a=n&&!o?this.Sa():[],l=this.Ra.size===0&&this.current&&!o?1:0,u=l!==this.Aa;return this.Aa=l,i.length!==0||u?{snapshot:new ui(this.query,t.ma,s,i,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new wv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(t){return!this.da.has(t)&&!!this.ma.has(t)&&!this.ma.get(t).hasLocalMutations}wa(t){t&&(t.addedDocuments.forEach(n=>this.da=this.da.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=t.current)}Sa(){if(!this.current)return[];const t=this.Ra;this.Ra=ot(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return t.forEach(r=>{this.Ra.has(r)||n.push(new a$(r))}),this.Ra.forEach(r=>{t.has(r)||n.push(new i$(r))}),n}va(t){this.da=t.ds,this.Ra=ot();const n=this.ga(t.documents);return this.applyChanges(n,!0)}Ca(){return ui.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class _O{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class wO{constructor(t){this.key=t,this.Fa=!1}}class bO{constructor(t,n,r,o,s,i){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.Ma={},this.xa=new ks(a=>P2(a),lc),this.Oa=new Map,this.Na=new Set,this.La=new qt(He.comparator),this.Ba=new Map,this.ka=new Mh,this.qa={},this.Qa=new Map,this.Ka=li.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function $O(e,t,n=!0){const r=h$(e);let o;const s=r.xa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),o=s.view.Ca()):o=await l$(r,t,n,!0),o}async function TO(e,t){const n=h$(e);await l$(n,t,!0,!1)}async function l$(e,t,n,r){const o=await Uk(e.localStore,Vr(t)),s=o.targetId,i=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await SO(e,t,s,i==="current",o.resumeToken)),e.isPrimaryClient&&n&&e$(e.remoteStore,o),a}async function SO(e,t,n,r,o){e.Ua=(f,h,m)=>async function(C,p,g,b){let O=p.view.ga(g);O.ss&&(O=await gv(C.localStore,p.query,!1).then(({documents:I})=>p.view.ga(I,O)));const A=b&&b.targetChanges.get(p.targetId),L=b&&b.targetMismatches.get(p.targetId)!=null,N=p.view.applyChanges(O,C.isPrimaryClient,A,L);return Sv(C,p.targetId,N.ba),N.snapshot}(e,f,h,m);const s=await gv(e.localStore,t,!0),i=new yO(t,s.ds),a=i.ga(s.documents),l=Za.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",o),u=i.applyChanges(a,e.isPrimaryClient,l);Sv(e,n,u.ba);const c=new _O(t,n,i);return e.xa.set(t,c),e.Oa.has(n)?e.Oa.get(n).push(t):e.Oa.set(n,[t]),u.snapshot}async function CO(e,t,n){const r=Ze(e),o=r.xa.get(t),s=r.Oa.get(o.targetId);if(s.length>1)return r.Oa.set(o.targetId,s.filter(i=>!lc(i,t))),void r.xa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await gf(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&jh(r.remoteStore,o.targetId),yf(r,o.targetId)}).catch(Ti)):(yf(r,o.targetId),await gf(r.localStore,o.targetId,!0))}async function EO(e,t){const n=Ze(e),r=n.xa.get(t),o=n.Oa.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),jh(n.remoteStore,r.targetId))}async function PO(e,t,n){const r=NO(e);try{const o=await function(i,a){const l=Ze(i),u=an.now(),c=a.reduce((m,w)=>m.add(w.key),ot());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=ao(),C=ot();return l.hs.getEntries(m,c).next(p=>{w=p,w.forEach((g,b)=>{b.isValidDocument()||(C=C.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,w)).next(p=>{f=p;const g=[];for(const b of a){const O=z5(b,f.get(b.key).overlayedDocument);O!=null&&g.push(new Go(b.key,O,_2(O.value.mapValue),Cr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,g,a)}).next(p=>{h=p;const g=p.applyToLocalDocumentSet(f,C);return l.documentOverlayCache.saveOverlays(m,p.batchId,g)})}).then(()=>({batchId:h.batchId,changes:O2(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),function(i,a,l){let u=i.qa[i.currentUser.toKey()];u||(u=new qt(it)),u=u.insert(a,l),i.qa[i.currentUser.toKey()]=u}(r,o.batchId,n),await tl(r,o.changes),await mc(r.remoteStore)}catch(o){const s=qh(o,"Failed to persist write");n.reject(s)}}async function u$(e,t){const n=Ze(e);try{const r=await Fk(n.localStore,t);t.targetChanges.forEach((o,s)=>{const i=n.Ba.get(s);i&&(bt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?i.Fa=!0:o.modifiedDocuments.size>0?bt(i.Fa):o.removedDocuments.size>0&&(bt(i.Fa),i.Fa=!1))}),await tl(n,r,t)}catch(r){await Ti(r)}}function Tv(e,t,n){const r=Ze(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.xa.forEach((s,i)=>{const a=i.view.ea(t);a.snapshot&&o.push(a.snapshot)}),function(i,a){const l=Ze(i);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.J_)h.ea(a)&&(u=!0)}),u&&Wh(l)}(r.eventManager,t),o.length&&r.Ma.R_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function IO(e,t,n){const r=Ze(e);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Ba.get(t),s=o&&o.key;if(s){let i=new qt(He.comparator);i=i.insert(s,An.newNoDocument(s,Ye.min()));const a=ot().add(s),l=new fc(Ye.min(),new Map,new qt(it),i,a);await u$(r,l),r.La=r.La.remove(s),r.Ba.delete(t),Kh(r)}else await gf(r.localStore,t,!1).then(()=>yf(r,t,n)).catch(Ti)}async function kO(e,t){const n=Ze(e),r=t.batch.batchId;try{const o=await Bk(n.localStore,t);d$(n,r,null),c$(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await tl(n,o)}catch(o){await Ti(o)}}async function OO(e,t,n){const r=Ze(e);try{const o=await function(i,a){const l=Ze(i);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(bt(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);d$(r,t,n),c$(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await tl(r,o)}catch(o){await Ti(o)}}function c$(e,t){(e.Qa.get(t)||[]).forEach(n=>{n.resolve()}),e.Qa.delete(t)}function d$(e,t,n){const r=Ze(e);let o=r.qa[r.currentUser.toKey()];if(o){const s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),r.qa[r.currentUser.toKey()]=o}}function yf(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Oa.get(t))e.xa.delete(r),n&&e.Ma.Wa(r,n);e.Oa.delete(t),e.isPrimaryClient&&e.ka.yr(t).forEach(r=>{e.ka.containsKey(r)||f$(e,r)})}function f$(e,t){e.Na.delete(t.path.canonicalString());const n=e.La.get(t);n!==null&&(jh(e.remoteStore,n),e.La=e.La.remove(t),e.Ba.delete(n),Kh(e))}function Sv(e,t,n){for(const r of n)r instanceof i$?(e.ka.addReference(r.key,t),AO(e,r)):r instanceof a$?(Ve("SyncEngine","Document no longer in limbo: "+r.key),e.ka.removeReference(r.key,t),e.ka.containsKey(r.key)||f$(e,r.key)):Ge()}function AO(e,t){const n=t.key,r=n.path.canonicalString();e.La.get(n)||e.Na.has(r)||(Ve("SyncEngine","New document in limbo: "+n),e.Na.add(r),Kh(e))}function Kh(e){for(;e.Na.size>0&&e.La.size<e.maxConcurrentLimboResolutions;){const t=e.Na.values().next().value;e.Na.delete(t);const n=new He(xt.fromString(t)),r=e.Ka.next();e.Ba.set(r,new wO(n)),e.La=e.La.insert(n,r),e$(e.remoteStore,new Io(Vr(E2(n.path)),r,"TargetPurposeLimboResolution",oc.oe))}}async function tl(e,t,n){const r=Ze(e),o=[],s=[],i=[];r.xa.isEmpty()||(r.xa.forEach((a,l)=>{i.push(r.Ua(l,t,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){o.push(u);const f=Fh.zi(l.targetId,u);s.push(f)}}))}),await Promise.all(i),r.Ma.R_(o),await async function(l,u){const c=Ze(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ce.forEach(u,h=>ce.forEach(h.Wi,m=>c.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>ce.forEach(h.Gi,m=>c.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!Si(f))throw f;Ve("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const m=c.us.get(h),w=m.snapshotVersion,C=m.withLastLimboFreeSnapshotVersion(w);c.us=c.us.insert(h,C)}}}(r.localStore,s))}async function DO(e,t){const n=Ze(e);if(!n.currentUser.isEqual(t)){Ve("SyncEngine","User change. New user:",t.toKey());const r=await Q2(n.localStore,t);n.currentUser=t,function(s,i){s.Qa.forEach(a=>{a.forEach(l=>{l.reject(new Fe(me.CANCELLED,i))})}),s.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await tl(n,r.Ts)}}function RO(e,t){const n=Ze(e),r=n.Ba.get(t);if(r&&r.Fa)return ot().add(r.key);{let o=ot();const s=n.Oa.get(t);if(!s)return o;for(const i of s){const a=n.xa.get(i);o=o.unionWith(a.view.fa)}return o}}function h$(e){const t=Ze(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=u$.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=RO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=IO.bind(null,t),t.Ma.R_=mO.bind(null,t.eventManager),t.Ma.Wa=gO.bind(null,t.eventManager),t}function NO(e){const t=Ze(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=OO.bind(null,t),t}class Ou{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=hc(t.databaseInfo.databaseId),this.sharedClientState=this.za(t),this.persistence=this.ja(t),await this.persistence.start(),this.localStore=this.Ha(t),this.gcScheduler=this.Ja(t,this.localStore),this.indexBackfillerScheduler=this.Ya(t,this.localStore)}Ja(t,n){return null}Ya(t,n){return null}Ha(t){return Mk(this.persistence,new Vk,t.initialUser,this.serializer)}ja(t){return new Y2(Bh.ei,this.serializer)}za(t){return new Hk}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ou.provider={build:()=>new Ou};class VO extends Ou{constructor(t){super(),this.cacheSizeBytes=t}Ja(t,n){bt(this.persistence.referenceDelegate instanceof Iu);const r=this.persistence.referenceDelegate.garbageCollector;return new wk(r,t.asyncQueue,n)}ja(t){const n=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new Y2(r=>Iu.ei(r,n),this.serializer)}}class _f{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Tv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DO.bind(null,this.syncEngine),await cO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new fO}()}createDatastore(t){const n=hc(t.databaseInfo.databaseId),r=function(s){return new Gk(s)}(t.databaseInfo);return function(s,i,a,l){return new Xk(s,i,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,o,s,i,a){return new Zk(r,o,s,i,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Tv(this.syncEngine,n,0),function(){return yv.p()?new yv:new qk}())}createSyncEngine(t,n){return function(o,s,i,a,l,u,c){const f=new bO(o,s,i,a,l,u);return c&&(f.$a=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const s=Ze(o);Ve("RemoteStore","RemoteStore shutting down."),s.k_.add(5),await el(s),s.Q_.shutdown(),s.K_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}_f.provider={build:()=>new _f};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Xa(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Xa(this.observer.error,t):io("Uncaught Error in snapshot listener:",t.toString()))}eu(){this.muted=!0}Xa(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(t,n,r,o,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=In.UNAUTHENTICATED,this.clientId=g2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async i=>{Ve("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(Ve("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new No;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=qh(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function wd(e,t){e.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async o=>{r.isEqual(o)||(await Q2(t.localStore,o),r=o)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Cv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await BO(e);Ve("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>_v(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,o)=>_v(t.remoteStore,o)),e._onlineComponents=t}async function BO(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ve("FirestoreClient","Using user provided OfflineComponentProvider");try{await wd(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===me.FAILED_PRECONDITION||o.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;oi("Error using user provided cache. Falling back to memory cache: "+n),await wd(e,new Ou)}}else Ve("FirestoreClient","Using default OfflineComponentProvider"),await wd(e,new VO(void 0));return e._offlineComponents}async function p$(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ve("FirestoreClient","Using user provided OnlineComponentProvider"),await Cv(e,e._uninitializedComponentsProvider._online)):(Ve("FirestoreClient","Using default OnlineComponentProvider"),await Cv(e,new _f))),e._onlineComponents}function FO(e){return p$(e).then(t=>t.syncEngine)}async function jO(e){const t=await p$(e),n=t.eventManager;return n.onListen=$O.bind(null,t.syncEngine),n.onUnlisten=CO.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=TO.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=EO.bind(null,t.syncEngine),n}function xO(e,t,n={}){const r=new No;return e.asyncQueue.enqueueAndForget(async()=>function(s,i,a,l,u){const c=new LO({next:h=>{c.eu(),i.enqueueAndForget(()=>pO(s,f)),h.fromCache&&l.source==="server"?u.reject(new Fe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new vO(a,c,{includeMetadataChanges:!0,ua:!0});return hO(s,f)}(await jO(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m$(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g$(e,t,n){if(!n)throw new Fe(me.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function UO(e,t,n,r){if(t===!0&&r===!0)throw new Fe(me.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Pv(e){if(!He.isDocumentKey(e))throw new Fe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Iv(e){if(He.isDocumentKey(e))throw new Fe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Gh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Ge()}function Ss(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Fe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gh(e);throw new Fe(me.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Fe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Fe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}UO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=m$((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Fe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Fe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Fe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class gc{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Fe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Fe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kv(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Y6;switch(r.type){case"firstParty":return new Z6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Fe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Ev.get(n);r&&(Ve("ComponentProvider","Removing Datastore"),Ev.delete(n),r.terminate())}(this),Promise.resolve()}}function zO(e,t,n,r={}){var o;const s=(e=Ss(e,gc))._getSettings(),i=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==i&&oi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:i,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=In.MOCK_USER;else{a=Ab(r.mockUserToken,(o=e._app)===null||o===void 0?void 0:o.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Fe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new In(u)}e._authCredentials=new Q6(new m2(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new vc(this.firestore,t,this._query)}}class mr{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new mr(this.firestore,t,this._key)}}class Vo extends vc{constructor(t,n,r){super(t,n,E2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new mr(this.firestore,null,new He(t))}withConverter(t){return new Vo(this.firestore,t,this._path)}}function wf(e,t,...n){if(e=Xn(e),g$("collection","path",t),e instanceof gc){const r=xt.fromString(t,...n);return Iv(r),new Vo(e,null,r)}{if(!(e instanceof mr||e instanceof Vo))throw new Fe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(xt.fromString(t,...n));return Iv(r),new Vo(e.firestore,null,r)}}function Au(e,t,...n){if(e=Xn(e),arguments.length===1&&(t=g2.newId()),g$("doc","path",t),e instanceof gc){const r=xt.fromString(t,...n);return Pv(r),new mr(e,null,new He(r))}{if(!(e instanceof mr||e instanceof Vo))throw new Fe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(xt.fromString(t,...n));return Pv(r),new mr(e.firestore,e instanceof Vo?e.converter:null,new He(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(t=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new J2(this,"async_queue_retry"),this.fu=()=>{const r=_d();r&&Ve("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=t;const n=_d();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.pu(),this.yu(t)}enterRestrictedMode(t){if(!this.Eu){this.Eu=!0,this.Vu=t||!1;const n=_d();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(t){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new No;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Iu.push(t),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(t){if(!Si(t))throw t;Ve("AsyncQueue","Operation failed with retryable error: "+t)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(t){const n=this.gu.then(()=>(this.Ru=!0,t().catch(r=>{this.Au=r,this.Ru=!1;const o=function(i){let a=i.message||"";return i.stack&&(a=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),a}(r);throw io("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(t,n,r){this.pu(),this.mu.indexOf(t)>-1&&(n=0);const o=Hh.createAndSchedule(this,t,n,r,s=>this.Su(s));return this.du.push(o),o}pu(){this.Au&&Ge()}verifyOperationInProgress(){}async bu(){let t;do t=this.gu,await t;while(t!==this.gu)}Du(t){for(const n of this.du)if(n.timerId===t)return!0;return!1}vu(t){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.bu()})}Cu(t){this.mu.push(t)}Su(t){const n=this.du.indexOf(t);this.du.splice(n,1)}}class nl extends gc{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=new Ov,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Ov(t),this._firestoreClient=void 0,await t}}}function HO(e,t){const n=typeof e=="object"?e:bh(),r=typeof e=="string"?e:"(default)",o=bi(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const s=kb("firestore");s&&zO(o,...s)}return o}function v$(e){if(e._terminated)throw new Fe(me.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||qO(e),e._firestoreClient}function qO(e){var t,n,r;const o=e._freezeSettings(),s=function(a,l,u,c){return new p5(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,m$(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,o);e._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),e._firestoreClient=new MO(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ci(wn.fromBase64String(t))}catch(n){throw new Fe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ci(wn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Fe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Fe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Fe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return it(this._lat,t._lat)||it(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,o){if(r.length!==o.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==o[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=/^__.*__$/;class KO{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Go(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ja(t,this.data,n,this.fieldTransforms)}}class y${constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Go(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function _$(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge()}}class Jh{constructor(t,n,r,o,s,i){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,s===void 0&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(t){return new Jh(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xu({path:r,Nu:!1});return o.Lu(t),o}Bu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xu({path:r,Nu:!1});return o.Fu(),o}ku(t){return this.xu({path:void 0,Nu:!0})}qu(t){return Du(t,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Lu(this.path.get(t))}Lu(t){if(t.length===0)throw this.qu("Document fields must not be empty");if(_$(this.Mu)&&WO.test(t))throw this.qu('Document fields cannot begin and end with "__"')}}class GO{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||hc(t)}$u(t,n,r,o=!1){return new Jh({Mu:t,methodName:n,Ku:r,path:yn.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function w$(e){const t=e._freezeSettings(),n=hc(e._databaseId);return new GO(e._databaseId,!!t.ignoreUndefinedProperties,n)}function YO(e,t,n,r,o,s={}){const i=e.$u(s.merge||s.mergeFields?2:0,t,n,o);Zh("Data must be an object, but it was:",i,r);const a=b$(r,i);let l,u;if(s.merge)l=new or(i.fieldMask),u=i.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const h=bf(t,f,n);if(!i.contains(h))throw new Fe(me.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);T$(c,h)||c.push(h)}l=new or(c),u=i.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=i.fieldTransforms;return new KO(new Wn(a),l,u)}class _c extends Yh{_toFieldTransform(t){if(t.Mu!==2)throw t.Mu===1?t.qu(`${this._methodName}() can only appear at the top level of your update data`):t.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof _c}}function QO(e,t,n,r){const o=e.$u(1,t,n);Zh("Data must be an object, but it was:",o,r);const s=[],i=Wn.empty();Ko(r,(l,u)=>{const c=ep(t,l,n);u=Xn(u);const f=o.Bu(c);if(u instanceof _c)s.push(c);else{const h=wc(u,f);h!=null&&(s.push(c),i.set(c,h))}});const a=new or(s);return new y$(i,a,o.fieldTransforms)}function XO(e,t,n,r,o,s){const i=e.$u(1,t,n),a=[bf(t,r,n)],l=[o];if(s.length%2!=0)throw new Fe(me.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(bf(t,s[h])),l.push(s[h+1]);const u=[],c=Wn.empty();for(let h=a.length-1;h>=0;--h)if(!T$(u,a[h])){const m=a[h];let w=l[h];w=Xn(w);const C=i.Bu(m);if(w instanceof _c)u.push(m);else{const p=wc(w,C);p!=null&&(u.push(m),c.set(m,p))}}const f=new or(u);return new y$(c,f,i.fieldTransforms)}function wc(e,t){if($$(e=Xn(e)))return Zh("Unsupported field value:",t,e),b$(e,t);if(e instanceof Yh)return function(r,o){if(!_$(o.Mu))throw o.qu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(o);s&&o.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Nu&&t.Mu!==4)throw t.qu("Nested arrays are not supported");return function(r,o){const s=[];let i=0;for(const a of r){let l=wc(a,o.ku(i));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),i++}return{arrayValue:{values:s}}}(e,t)}return function(r,o){if((r=Xn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return M5(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=an.fromDate(r);return{timestampValue:Pu(o.serializer,s)}}if(r instanceof an){const s=new an(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pu(o.serializer,s)}}if(r instanceof Qh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ci)return{bytesValue:U2(o.serializer,r._byteString)};if(r instanceof mr){const s=o.databaseId,i=r.firestore._databaseId;if(!i.isEqual(s))throw o.qu(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Lh(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Xh)return function(i,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:i.toArray().map(l=>{if(typeof l!="number")throw a.qu("VectorValues must only contain numeric values.");return Dh(a.serializer,l)})}}}}}}(r,o);throw o.qu(`Unsupported field value: ${Gh(r)}`)}(e,t)}function b$(e,t){const n={};return v2(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ko(e,(r,o)=>{const s=wc(o,t.Ou(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function $$(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof an||e instanceof Qh||e instanceof ci||e instanceof mr||e instanceof Yh||e instanceof Xh)}function Zh(e,t,n){if(!$$(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const r=Gh(n);throw r==="an object"?t.qu(e+" a custom object"):t.qu(e+" "+r)}}function bf(e,t,n){if((t=Xn(t))instanceof yc)return t._internalPath;if(typeof t=="string")return ep(e,t);throw Du("Field path arguments must be of type string or ",e,!1,void 0,n)}const JO=new RegExp("[~\\*/\\[\\]]");function ep(e,t,n){if(t.search(JO)>=0)throw Du(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new yc(...t.split("."))._internalPath}catch{throw Du(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Du(e,t,n,r,o){const s=r&&!r.isEmpty(),i=o!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||i)&&(l+=" (found",s&&(l+=` in field ${r}`),i&&(l+=` in document ${o}`),l+=")"),new Fe(me.INVALID_ARGUMENT,a+e+l)}function T$(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${constructor(t,n,r,o,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new mr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ZO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(C$("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZO extends S${data(){return super.data()}}function C$(e,t){return typeof t=="string"?ep(e,t):t instanceof yc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Fe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tA{convertValue(t,n="none"){switch(zo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Zt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Uo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Ge()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Ko(t,(o,s)=>{r[o]=this.convertValue(s,n)}),r}convertVectorValue(t){var n,r,o;const s=(o=(r=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(i=>Zt(i.doubleValue));return new Xh(s)}convertGeoPoint(t){return new Qh(Zt(t.latitude),Zt(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=ic(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ba(t));default:return null}}convertTimestamp(t){const n=xo(t);return new an(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=xt.fromString(t);bt(G2(r));const o=new Fa(r.get(1),r.get(3)),s=new He(r.popFirst(5));return o.isEqual(n)||io(`Document ${s} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(e,t,n){let r;return r=e?e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class rA extends S${constructor(t,n,r,o,s,i){super(t,n,r,o,i),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Zl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(C$("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Zl extends rA{data(t={}){return super.data(t)}}class oA{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Nl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Zl(this._firestore,this._userDataWriter,r.key,r,new Nl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Fe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,s){if(o._snapshot.oldDocs.isEmpty()){let i=0;return o._snapshot.docChanges.map(a=>{const l=new Zl(o._firestore,o._userDataWriter,a.doc.key,a.doc,new Nl(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:i++}})}{let i=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Zl(o._firestore,o._userDataWriter,a.doc.key,a.doc,new Nl(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter);let u=-1,c=-1;return a.type!==0&&(u=i.indexOf(a.doc.key),i=i.delete(a.doc.key)),a.type!==1&&(i=i.add(a.doc),c=i.indexOf(a.doc.key)),{type:sA(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function sA(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge()}}class iA extends tA{constructor(t){super(),this.firestore=t}convertBytes(t){return new ci(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new mr(this.firestore,null,n)}}function E$(e){e=Ss(e,vc);const t=Ss(e.firestore,nl),n=v$(t),r=new iA(t);return eA(e._query),xO(n,e._query).then(o=>new oA(t,r,e,o))}function $f(e,t,n,...r){e=Ss(e,mr);const o=Ss(e.firestore,nl),s=w$(o);let i;return i=typeof(t=Xn(t))=="string"||t instanceof yc?XO(s,"updateDoc",e._key,t,n,r):QO(s,"updateDoc",e._key,t),tp(o,[i.toMutation(e._key,Cr.exists(!0))])}function aA(e){return tp(Ss(e.firestore,nl),[new Rh(e._key,Cr.none())])}function lA(e,t){const n=Ss(e.firestore,nl),r=Au(e),o=nA(e.converter,t);return tp(n,[YO(w$(e.firestore),"addDoc",r._key,o,e.converter!==null,{}).toMutation(r._key,Cr.exists(!1))]).then(()=>r)}function tp(e,t){return function(r,o){const s=new No;return r.asyncQueue.enqueueAndForget(async()=>PO(await FO(r),o,s)),s.promise}(v$(e),t)}(function(t,n=!0){(function(o){$i=o})(Mb),so(new Br("firestore",(r,{instanceIdentifier:o,options:s})=>{const i=r.getProvider("app").getImmediate(),a=new nl(new X6(r.getProvider("auth-internal")),new t5(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Fe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fa(u.options.projectId,c)}(i,o),i);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),pr(Kg,"4.7.5",t),pr(Kg,"4.7.5","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$="firebasestorage.googleapis.com",I$="storageBucket",uA=2*60*1e3,cA=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt extends co{constructor(t,n,r=0){super(bd(t),`Firebase Storage: ${n} (${bd(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xt.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return bd(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Yt;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Yt||(Yt={}));function bd(e){return"storage/"+e}function np(){const e="An unknown error occurred, please check the error payload for server response.";return new Xt(Yt.UNKNOWN,e)}function dA(e){return new Xt(Yt.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function fA(e){return new Xt(Yt.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function hA(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Xt(Yt.UNAUTHENTICATED,e)}function pA(){return new Xt(Yt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function mA(e){return new Xt(Yt.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function gA(){return new Xt(Yt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vA(){return new Xt(Yt.CANCELED,"User canceled the upload/download.")}function yA(e){return new Xt(Yt.INVALID_URL,"Invalid URL '"+e+"'.")}function _A(e){return new Xt(Yt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function wA(){return new Xt(Yt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+I$+"' property when initializing the app?")}function bA(){return new Xt(Yt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $A(){return new Xt(Yt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function TA(e){return new Xt(Yt.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Tf(e){return new Xt(Yt.INVALID_ARGUMENT,e)}function k$(){return new Xt(Yt.APP_DELETED,"The Firebase app was deleted.")}function SA(e){return new Xt(Yt.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function va(e,t){return new Xt(Yt.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Wi(e){throw new Xt(Yt.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=sr.makeFromUrl(t,n)}catch{return new sr(t,"")}if(r.path==="")return r;throw _A(t)}static makeFromUrl(t,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function s(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const i="(/(.*))?$",a=new RegExp("^gs://"+o+i,"i"),l={bucket:1,path:3};function u(A){A.path_=decodeURIComponent(A.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${c}/b/${o}/o${h}`,"i"),w={bucket:1,path:3},C=n===P$?"(?:storage.googleapis.com|storage.cloud.google.com)":n,p="([^?#]*)",g=new RegExp(`^https?://${C}/${o}/${p}`,"i"),O=[{regex:a,indices:l,postModify:s},{regex:m,indices:w,postModify:u},{regex:g,indices:{bucket:1,path:2},postModify:u}];for(let A=0;A<O.length;A++){const L=O[A],N=L.regex.exec(t);if(N){const I=N[L.indices.bucket];let S=N[L.indices.path];S||(S=""),r=new sr(I,S),L.postModify(r);break}}if(r==null)throw yA(t);return r}}class CA{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(e,t,n){let r=1,o=null,s=null,i=!1,a=0;function l(){return a===2}let u=!1;function c(...p){u||(u=!0,t.apply(null,p))}function f(p){o=setTimeout(()=>{o=null,e(m,l())},p)}function h(){s&&clearTimeout(s)}function m(p,...g){if(u){h();return}if(p){h(),c.call(null,p,...g);return}if(l()||i){h(),c.call(null,p,...g);return}r<64&&(r*=2);let O;a===1?(a=2,O=0):O=(r+Math.random())*1e3,f(O)}let w=!1;function C(p){w||(w=!0,h(),!u&&(o!==null?(p||(a=2),clearTimeout(o),f(0)):p||(a=1)))}return f(0),s=setTimeout(()=>{i=!0,C(!0)},n),C}function PA(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(e){return e!==void 0}function kA(e){return typeof e=="object"&&!Array.isArray(e)}function rp(e){return typeof e=="string"||e instanceof String}function Av(e){return op()&&e instanceof Blob}function op(){return typeof Blob<"u"}function Dv(e,t,n,r){if(r<t)throw Tf(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Tf(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function O$(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const o=t(r)+"="+t(e[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var gs;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(gs||(gs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(e,t){const n=e>=500&&e<600,o=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||o||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(t,n,r,o,s,i,a,l,u,c,f,h=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=s,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,w)=>{this.resolve_=m,this.reject_=w,this.start_()})}start_(){const t=(r,o)=>{if(o){r(!1,new Vl(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const i=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(i),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(i),this.pendingConnection_=null;const a=s.getErrorCode()===gs.NO_ERROR,l=s.getStatus();if(!a||OA(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===gs.ABORT;r(!1,new Vl(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Vl(u,s))})},n=(r,o)=>{const s=this.resolve_,i=this.reject_,a=o.connection;if(o.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());IA(l)?s(l):s()}catch(l){i(l)}else if(a!==null){const l=np();l.serverResponse=a.getErrorText(),this.errorCallback_?i(this.errorCallback_(a,l)):i(l)}else if(o.canceled){const l=this.appDelete_?k$():vA();i(l)}else{const l=gA();i(l)}};this.canceled_?n(!1,new Vl(!1,null,!0)):this.backoffId_=EA(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&PA(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Vl{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function DA(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function RA(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function NA(e,t){t&&(e["X-Firebase-GMPID"]=t)}function VA(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function LA(e,t,n,r,o,s,i=!0){const a=O$(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return NA(u,t),DA(u,n),RA(u,s),VA(u,r),new AA(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function BA(...e){const t=MA();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(op())return new Blob(e);throw new Xt(Yt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function FA(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(e){if(typeof atob>"u")throw TA("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class $d{constructor(t,n){this.data=t,this.contentType=n||null}}function xA(e,t){switch(e){case Rr.RAW:return new $d(A$(t));case Rr.BASE64:case Rr.BASE64URL:return new $d(D$(e,t));case Rr.DATA_URL:return new $d(zA(t),HA(t))}throw np()}function A$(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,i=e.charCodeAt(++n);r=65536|(s&1023)<<10|i&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function UA(e){let t;try{t=decodeURIComponent(e)}catch{throw va(Rr.DATA_URL,"Malformed data URL.")}return A$(t)}function D$(e,t){switch(e){case Rr.BASE64:{const o=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(o||s)throw va(e,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Rr.BASE64URL:{const o=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(o||s)throw va(e,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=jA(t)}catch(o){throw o.message.includes("polyfill")?o:va(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class R${constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw va(Rr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=qA(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function zA(e){const t=new R$(e);return t.base64?D$(Rr.BASE64,t.rest):UA(t.rest)}function HA(e){return new R$(e).contentType}function qA(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(t,n){let r=0,o="";Av(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,n){if(Av(this.data_)){const r=this.data_,o=FA(r,t,n);return o===null?null:new Po(o)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Po(r,!0)}}static getBlob(...t){if(op()){const n=t.map(r=>r instanceof Po?r.data_:r);return new Po(BA.apply(null,n))}else{const n=t.map(i=>rp(i)?xA(Rr.RAW,i).data:i.data_);let r=0;n.forEach(i=>{r+=i.byteLength});const o=new Uint8Array(r);let s=0;return n.forEach(i=>{for(let a=0;a<i.length;a++)o[s++]=i[a]}),new Po(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N$(e){let t;try{t=JSON.parse(e)}catch{return null}return kA(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function KA(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function V$(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(e,t){return t}class Bn{constructor(t,n,r,o){this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||GA}}let Ll=null;function YA(e){return!rp(e)||e.length<2?e:V$(e)}function L$(){if(Ll)return Ll;const e=[];e.push(new Bn("bucket")),e.push(new Bn("generation")),e.push(new Bn("metageneration")),e.push(new Bn("name","fullPath",!0));function t(s,i){return YA(i)}const n=new Bn("name");n.xform=t,e.push(n);function r(s,i){return i!==void 0?Number(i):i}const o=new Bn("size");return o.xform=r,e.push(o),e.push(new Bn("timeCreated")),e.push(new Bn("updated")),e.push(new Bn("md5Hash",null,!0)),e.push(new Bn("cacheControl",null,!0)),e.push(new Bn("contentDisposition",null,!0)),e.push(new Bn("contentEncoding",null,!0)),e.push(new Bn("contentLanguage",null,!0)),e.push(new Bn("contentType",null,!0)),e.push(new Bn("metadata","customMetadata",!0)),Ll=e,Ll}function QA(e,t){function n(){const r=e.bucket,o=e.fullPath,s=new sr(r,o);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function XA(e,t,n){const r={};r.type="file";const o=n.length;for(let s=0;s<o;s++){const i=n[s];r[i.local]=i.xform(r,t[i.server])}return QA(r,e),r}function M$(e,t,n){const r=N$(t);return r===null?null:XA(e,r,n)}function JA(e,t,n,r){const o=N$(t);if(o===null||!rp(o.downloadTokens))return null;const s=o.downloadTokens;if(s.length===0)return null;const i=encodeURIComponent;return s.split(",").map(u=>{const c=e.bucket,f=e.fullPath,h="/b/"+i(c)+"/o/"+i(f),m=sp(h,n,r),w=O$({alt:"media",token:u});return m+w})[0]}function ZA(e,t){const n={},r=t.length;for(let o=0;o<r;o++){const s=t[o];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class B${constructor(t,n,r,o){this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F$(e){if(!e)throw np()}function e8(e,t){function n(r,o){const s=M$(e,o,t);return F$(s!==null),s}return n}function t8(e,t){function n(r,o){const s=M$(e,o,t);return F$(s!==null),JA(s,o,e.host,e._protocol)}return n}function j$(e){function t(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=pA():o=hA():n.getStatus()===402?o=fA(e.bucket):n.getStatus()===403?o=mA(e.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return t}function n8(e){const t=j$(e);function n(r,o){let s=t(r,o);return r.getStatus()===404&&(s=dA(e.path)),s.serverResponse=o.serverResponse,s}return n}function r8(e,t,n){const r=t.fullServerUrl(),o=sp(r,e.host,e._protocol),s="GET",i=e.maxOperationRetryTime,a=new B$(o,s,t8(e,n),i);return a.errorHandler=n8(t),a}function o8(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function s8(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=o8(null,t)),r}function i8(e,t,n,r,o){const s=t.bucketOnlyServerUrl(),i={"X-Goog-Upload-Protocol":"multipart"};function a(){let O="";for(let A=0;A<2;A++)O=O+Math.random().toString().slice(2);return O}const l=a();i["Content-Type"]="multipart/related; boundary="+l;const u=s8(t,r,o),c=ZA(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",m=Po.getBlob(f,r,h);if(m===null)throw bA();const w={name:u.fullPath},C=sp(s,e.host,e._protocol),p="POST",g=e.maxUploadRetryTime,b=new B$(C,p,e8(e,n),g);return b.urlParams=w,b.headers=i,b.body=m.uploadData(),b.errorHandler=j$(t),b}class a8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=gs.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=gs.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=gs.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,o){if(this.sent_)throw Wi("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(const s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Wi("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Wi("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Wi("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Wi("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class l8 extends a8{initXhr(){this.xhr_.responseType="text"}}function x$(){return new l8}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(t,n){this._service=t,n instanceof sr?this._location=n:this._location=sr.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Cs(t,n)}get root(){const t=new sr(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return V$(this._location.path)}get storage(){return this._service}get parent(){const t=WA(this._location.path);if(t===null)return null;const n=new sr(this._location.bucket,t);return new Cs(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw SA(t)}}function u8(e,t,n){e._throwIfRoot("uploadBytes");const r=i8(e.storage,e._location,L$(),new Po(t,!0),n);return e.storage.makeRequestWithTokens(r,x$).then(o=>({metadata:o,ref:e}))}function c8(e){e._throwIfRoot("getDownloadURL");const t=r8(e.storage,e._location,L$());return e.storage.makeRequestWithTokens(t,x$).then(n=>{if(n===null)throw $A();return n})}function d8(e,t){const n=KA(e._location.path,t),r=new sr(e._location.bucket,n);return new Cs(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(e){return/^[A-Za-z]+:\/\//.test(e)}function h8(e,t){return new Cs(e,t)}function U$(e,t){if(e instanceof ip){const n=e;if(n._bucket==null)throw wA();const r=new Cs(n,n._bucket);return t!=null?U$(r,t):r}else return t!==void 0?d8(e,t):e}function p8(e,t){if(t&&f8(t)){if(e instanceof ip)return h8(e,t);throw Tf("To use ref(service, url), the first argument must be a Storage instance.")}else return U$(e,t)}function Rv(e,t){const n=t==null?void 0:t[I$];return n==null?null:sr.makeFromBucketSpec(n,e)}function m8(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:o}=r;o&&(e._overrideAuthToken=typeof o=="string"?o:Ab(o,e.app.options.projectId))}class ip{constructor(t,n,r,o,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=s,this._bucket=null,this._host=P$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=uA,this._maxUploadRetryTime=cA,this._requests=new Set,o!=null?this._bucket=sr.makeFromBucketSpec(o,this._host):this._bucket=Rv(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=sr.makeFromBucketSpec(this._url,t):this._bucket=Rv(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Dv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Dv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Cs(this,t)}_makeRequest(t,n,r,o,s=!0){if(this._deleted)return new CA(k$());{const i=LA(t,this._appId,r,o,n,this._firebaseVersion,s);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(t,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,o).getPromise()}}const Nv="@firebase/storage",Vv="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$="storage";function H$(e,t,n){return e=Xn(e),u8(e,t,n)}function q$(e){return e=Xn(e),c8(e)}function Ru(e,t){return e=Xn(e),p8(e,t)}function g8(e=bh(),t){e=Xn(e);const r=bi(e,z$).getImmediate({identifier:t}),o=kb("storage");return o&&v8(r,...o),r}function v8(e,t,n,r={}){m8(e,t,n,r)}function y8(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new ip(n,r,o,t,Mb)}function _8(){so(new Br(z$,y8,"PUBLIC").setMultipleInstances(!0)),pr(Nv,Vv,""),pr(Nv,Vv,"esm2017")}_8();const w8={apiKey:"AIzaSyBjyXn1Hq8HzTTIQ9gHcqQOSSNfk9kuq6I",authDomain:"xiangdian-5feee.firebaseapp.com",databaseURL:"https://xiangdian-5feee-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"xiangdian-5feee",storageBucket:"xiangdian-5feee.firebasestorage.app",messagingSenderId:"464813968743",appId:"1:464813968743:web:2d95e56afc62970b13b3c2",measurementId:"G-TPSJ2BCQ1D"},bc=Bb(w8);typeof window<"u"&&q6(bc);const di=HO(bc),Nu=g8(bc),b8=Le({__name:"IconFont",props:{name:{type:String,default:""},size:{type:[String,Number],default:""},width:{type:[String,Number],default:""},height:{type:[String,Number],default:""},classPrefix:{type:String,default:"nut-icon"},fontClassName:{type:String,default:"nutui-iconfont"},color:{type:String,default:""},tag:{type:String,default:"i"}},setup(e){var t;const n=e,r="nut-icon",o=Ya(),s=()=>n.name?n.name.indexOf("/")!==-1:!1,i=c=>{if(c)return isNaN(Number(c))?String(c):c+"px"},a=s();let l=Ct(a?"img":n.tag,{class:a?`${r}__img`:`${n.fontClassName} ${r} ${n.classPrefix}-${n.name}`,style:{color:n.color,fontSize:i(n.size),width:i(n.width||n.size),height:i(n.height||n.size)},src:a?n.name:""},(t=o.default)==null?void 0:t.call(o));const u=()=>l;return(c,f)=>(y(),ye(u))}});function $8(e){return e.name="IconFont",e.install=t=>{t.component("IconFont",e)},e}$8(b8);const Xe=e=>Le({props:{class:{type:String,default:""},name:{type:String,default:e},color:{type:String,default:""},width:{type:[String,Number],default:""},height:{type:[String,Number],default:""}},setup(t){const n=s=>{if(s)return isNaN(Number(s))?String(s):s+"px"},r=F(()=>{const s="nut-icon";return{[t.class]:t.class,[s]:!0,[s+"-"+t.name]:t.name}}),o=F(()=>{const s={};return s.height=n(t.height),s.width=n(t.width),s.color=t.color,s});return{classes:r,style:o}}}),Je=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},T8=Xe("arrow-down2"),S8=$("path",{d:"M1741.19 227.497a121.654 121.654 0 1 1 127.858 206.812L1292.65 790.27a182.482 182.482 0 0 1-191.727 0L524.646 434.31a121.654 121.654 0 1 1 127.859-206.812l544.403 335.887c181.387-111.8 362.773-223.965 544.282-335.887",fill:"currentColor","fill-opacity":"0.9"},null,-1),C8=[S8];function E8(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2472 1024",role:"presentation"},C8,6)}const P8=Je(T8,[["render",E8]]),I8=Xe("arrow-up2"),k8=$("path",{d:"M623.406 815.479A129.722 129.722 0 1 1 487.068 594.95C691.9 468.083 896.73 341.993 1101.691 215.125a194.583 194.583 0 0 1 204.442 0l614.494 379.567a129.722 129.722 0 1 1-136.338 220.657l-580.506-358.292-580.377 358.422",fill:"currentColor","fill-opacity":"0.9"},null,-1),O8=[k8];function A8(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2472 1024",role:"presentation"},O8,6)}const D8=Je(I8,[["render",A8]]),R8=Xe("cart2"),N8=$("path",{d:"M948.148 1024c41.719 0 75.852-34.133 75.852-75.852s-34.133-75.852-75.852-75.852-75.852 34.134-75.852 75.852S906.43 1024 948.148 1024zM754.726 872.296H402.015V758.52h352.71c68.268 0 128.95-49.304 136.534-117.57l37.926-261.69v-7.585c0-34.133-26.548-68.267-56.889-68.267H250.311l37.926 352.712-113.778 11.377-49.303-477.866h747.14c94.815 0 174.46 83.437 174.46 182.044v22.756l-41.719 261.689C986.074 777.48 876.089 872.296 754.726 872.296zM246.519 1024c-56.89 0-106.193-22.756-147.912-60.681-37.926-37.926-60.681-91.023-60.681-147.912s22.755-106.192 60.681-147.91c37.926-37.927 91.023-60.682 147.912-60.682s109.985 22.755 147.91 60.681 60.682 91.023 60.682 147.911-22.755 109.986-60.681 147.912C352.71 1001.244 303.407 1024 246.519 1024zm0-303.407c-26.549 0-49.304 11.377-68.267 26.548-15.17 18.963-26.548 41.718-26.548 68.266s11.377 49.304 26.548 68.267c34.133 34.133 98.607 34.133 132.74 0 18.964-18.963 30.341-41.718 30.341-68.267s-11.377-49.303-26.548-68.266c-18.963-15.17-41.718-26.548-68.266-26.548zm-49.304-364.09c-26.548 0-53.096-18.962-56.89-49.303l-18.962-113.778c-3.793-26.548-22.756-45.51-53.096-45.51s-56.89-26.549-56.89-56.89 26.549-56.889 56.89-56.889c87.23 0 155.496 64.474 166.874 147.911l18.963 109.986c3.792 30.34-15.17 60.681-45.511 64.474h-11.378z",fill:"currentColor","fill-opacity":"0.9"},null,-1),V8=[N8];function L8(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1061 1024",role:"presentation"},V8,6)}const M8=Je(R8,[["render",L8]]),B8=Xe("check-checked"),F8=$("path",{d:"M510.613 2.837C229.793 2.837.032 232.598.032 513.418S229.793 1024 510.613 1024s510.582-229.762 510.582-510.582S794.27 2.837 510.613 2.837zm0 794.238c-156.01 0-283.656-127.646-283.656-283.657s127.645-283.656 283.656-283.656S794.27 357.407 794.27 513.418 666.624 797.075 510.613 797.075z",fill:"currentColor","fill-opacity":"0.9"},null,-1),j8=$("path",{d:"M382.968 513.418a127.645 127.645 0 1 0 255.29 0 127.645 127.645 0 1 0-255.29 0Z",fill:"currentColor","fill-opacity":"0.9"},null,-1);function x8(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1032 1024",role:"presentation"},[F8,Ie(","),j8],6)}const U8=Je(B8,[["render",x8]]),z8=Xe("check-disabled"),H8=$("path",{d:"M506.467 0C227.962 0 .094 227.868.094 506.374s227.868 506.373 506.373 506.373 506.374-227.868 506.374-506.373S787.786 0 506.467 0zm202.55 571.077H306.73c-45.01 0-67.516-22.506-67.516-67.517 0-45.01 22.505-67.516 67.516-67.516h402.286c45.01 0 67.516 22.505 67.516 67.516 0 45.011-22.505 67.517-67.516 67.517z",fill:"currentColor","fill-opacity":"0.9"},null,-1),q8=[H8];function W8(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},q8,6)}const K8=Je(z8,[["render",W8]]),G8=Xe("check-normal"),Y8=$("path",{d:"M512 1024c-136.533 0-264.533-54.044-361.244-150.756C54.044 776.534 0 648.534 0 512c0-136.533 54.044-264.533 150.756-361.244C247.466 54.044 375.466 0 512 0c136.533 0 264.533 54.044 361.244 150.756C969.956 247.466 1024 375.466 1024 512s-54.044 264.533-150.756 361.244C776.534 969.956 648.534 1024 512 1024zm0-938.667c-113.778 0-221.867 45.511-301.511 125.156S85.333 398.222 85.333 512s45.511 221.867 125.156 301.511S398.222 938.667 512 938.667s221.867-45.511 301.511-125.156S938.667 625.778 938.667 512 893.156 290.133 813.51 210.489 625.778 85.333 512 85.333z",fill:"currentColor","fill-opacity":"0.9"},null,-1),Q8=[Y8];function X8(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},Q8,6)}const W$=Je(G8,[["render",X8]]),J8=Xe("Check"),Z8=$("path",{d:"M998.4 245.029c-219.429 153.6-398.629 332.8-552.229 552.228-40.228 58.514-128 54.857-164.571-3.657-69.486-106.057-149.943-186.514-256-256-51.2-32.914-18.286-113.371 40.229-98.743C182.857 460.8 274.286 508.343 358.4 585.143c157.257-190.172 358.4-340.114 588.8-435.2 62.171-25.6 106.057 58.514 51.2 95.086",fill:"currentColor","fill-opacity":"0.9"},null,-1),e7=[Z8];function t7(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},e7,6)}const K$=Je(J8,[["render",t7]]),n7=Xe("checked"),r7=$("path",{d:"M512 0C230.4 0 0 230.4 0 512s230.4 512 512 512 512-230.4 512-512S793.6 0 512 0zm281.6 369.778C779.378 381.156 600.178 500.622 472.178 691.2c0 0 0 2.844-2.845 2.844-8.533 5.69-48.355 36.978-88.177-8.533-39.823-51.2-62.578-99.555-142.223-142.222-2.844 0-2.844-2.845-2.844-2.845-8.533-11.377-39.822-56.888 19.911-56.888 45.511 0 91.022 11.377 162.133 73.955 5.69 5.689 14.223 5.689 17.067 0C469.333 517.69 608.711 366.933 768 318.578c0 0 19.911-2.845 31.289 14.222 5.689 11.378 11.378 22.756-5.689 36.978z",fill:"currentColor","fill-opacity":"0.9"},null,-1),o7=[r7];function s7(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},o7,6)}const G$=Je(n7,[["render",s7]]),i7=Xe("checklist"),a7=$("path",{d:"M159.289 500.622c62.578 0 125.155 17.067 221.867 102.4 8.533 5.69 19.91 5.69 25.6 0 48.355-54.044 238.933-261.689 455.11-329.955 0 0 28.445-5.69 42.667 19.91 8.534 17.067 19.911 34.134-5.689 54.045-22.755 17.067-264.533 179.2-440.888 440.89l-2.845 2.844c-11.378 8.533-68.267 51.2-119.467-14.223-56.888-71.11-85.333-139.377-196.266-196.266-2.845 0-2.845-2.845-5.69-5.69-11.377-11.377-54.044-73.955 25.6-73.955z",fill:"currentColor","fill-opacity":"0.9"},null,-1),l7=[a7];function u7(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},l7,6)}const c7=Je(i7,[["render",u7]]),d7=Xe("circle-close"),f7=$("path",{d:"M511.492 73.063a438.425 438.425 0 0 1 310.545 748.953 439.16 439.16 0 1 1-621.09-621.073A435.695 435.695 0 0 1 511.492 73.046m0-73.063C267.49.018 57.468 172.408 9.87 411.717-37.713 651.042 90.39 890.658 315.823 984.03c225.45 93.355 485.444 14.472 621.005-188.416 135.543-202.906 108.885-473.293-63.659-645.82A509.645 509.645 0 0 0 511.492.002zm-175.7 635.495 299.673-299.674c12.049-12.049 24.115-12.049 36.164 0l15.496 15.497c12.05 12.066 12.05 24.115 0 36.18L387.47 687.122c-12.066 12.05-24.115 12.05-36.181 0l-15.497-15.496c-12.049-12.066-12.049-24.115 0-36.182zm0-284.177 15.496-15.497c12.066-12.049 24.115-12.049 36.18 0l299.64 299.674c12.05 12.049 12.05 24.098 0 36.164l-15.496 15.496c-12.05 12.05-24.115 12.05-36.182 0L335.808 387.465c-12.049-12.05-12.049-24.098 0-36.164z",fill:"currentColor","fill-opacity":"0.9"},null,-1),h7=[f7];function p7(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},h7,6)}const ap=Je(d7,[["render",p7]]),m7=Xe("close-little"),g7=$("path",{d:"M998.002 26a85.073 85.073 0 0 0-120.415 0L451.795 451.792a85.073 85.073 0 1 0 120.414 120.415l425.793-425.793a85.073 85.073 0 0 0 0-120.414zM877.587 998a85.073 85.073 0 1 0 120.415-120.415L146.416 26A85.073 85.073 0 1 0 26.002 146.414L391.588 512 26.002 877.585A85.073 85.073 0 1 0 146.416 998l365.586-365.585 365.585 365.585z",fill:"currentColor","fill-opacity":"0.9"},null,-1),v7=[g7];function y7(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1026 1024",role:"presentation"},v7,6)}const Y$=Je(m7,[["render",y7]]),_7=Xe("close"),w7=$("path",{d:"M981.577 1024c-11.703 0-23.406-2.926-32.183-11.703L13.166 76.07c-14.629-17.555-14.629-46.812 0-64.366 17.554-14.629 46.811-14.629 64.365 0L1013.76 947.93c17.554 17.555 17.554 43.886 0 61.44-8.777 11.703-20.48 14.629-32.183 14.629zm-936.228 0c-11.703 0-23.406-2.926-32.183-11.703-17.555-17.554-17.555-43.886 0-61.44L949.394 14.63c17.555-17.555 43.886-17.555 61.44 0 17.555 17.554 17.555 43.885 0 61.44L74.606 1012.297C68.754 1021.074 57.05 1024 45.349 1024z",fill:"currentColor","fill-opacity":"0.9"},null,-1),b7=[w7];function $7(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1026 1024",role:"presentation"},b7,6)}const $c=Je(_7,[["render",$7]]),T7=Xe("comment"),S7=$("path",{d:"M760.415 876.089H259.793c-132.741 0-242.726-109.985-242.726-242.726V242.726C17.067 109.986 127.052 0 259.793 0h504.414c132.741 0 242.726 109.985 242.726 242.726v394.43c-3.792 132.74-109.985 238.933-246.518 238.933zM259.793 113.778c-72.06 0-128.949 56.889-128.949 128.948v394.43c0 72.059 56.89 128.948 128.949 128.948h504.414c68.267 0 128.949-56.89 128.949-128.948v-394.43c0-72.06-56.89-128.948-128.949-128.948H259.793zm56.888 887.466c-15.17 0-30.34-3.792-41.718-15.17-22.756-22.755-22.756-56.889 0-79.644l109.985-109.986c22.756-22.755 56.889-22.755 79.645 0s22.755 56.89 0 79.645L354.607 986.074c-7.585 7.585-22.755 15.17-37.926 15.17zm193.423-398.222c-45.511 0-91.023-22.755-117.57-56.889-18.964-26.548-15.171-60.681 7.585-79.644 26.548-18.963 60.681-15.17 79.644 7.585 15.17 18.963 45.511 18.963 56.889 0 18.963-22.755 56.889-30.34 79.644-7.585s30.341 56.889 7.585 79.644c-22.755 37.926-68.266 56.89-113.777 56.89z",fill:"currentColor","fill-opacity":"0.9"},null,-1),C7=[S7];function E7(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},C7,6)}const P7=Je(T7,[["render",E7]]),I7=Xe("del"),k7=$("path",{d:"M668.444 1024H355.556c-142.223 0-256-113.778-256-256V170.667h824.888V768c0 142.222-113.777 256-256 256zM184.89 256v512c0 93.867 76.8 170.667 170.667 170.667h312.888c93.867 0 170.667-76.8 170.667-170.667V256H184.89zm753.778 0H85.333c-22.755 0-42.666-19.911-42.666-42.667s19.91-42.666 42.666-42.666h853.334c22.755 0 42.666 19.91 42.666 42.666S961.423 256 938.667 256zM625.777 85.333H398.223c-22.755 0-42.666-19.91-42.666-42.666S375.466 0 398.222 0h227.556c22.755 0 42.666 19.911 42.666 42.667s-19.91 42.666-42.666 42.666z",fill:"currentColor","fill-opacity":"0.9"},null,-1),O7=[k7];function A7(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},O7,6)}const Q$=Je(I7,[["render",A7]]),D7=Xe("del2"),R7=$("path",{d:"M683.886 991.086H336.457c-124.343 0-226.743-102.4-226.743-226.743V182.857h804.572v577.829c0 128-102.4 230.4-230.4 230.4zM219.429 292.57v468.115c0 65.828 54.857 117.028 117.028 117.028h347.429c65.828 0 117.028-54.857 117.028-117.028V292.57H219.43zm694.857 0H109.714c-29.257 0-54.857-25.6-54.857-54.857s25.6-54.857 54.857-54.857h804.572c29.257 0 54.857 25.6 54.857 54.857s-25.6 54.857-54.857 54.857zM640 109.714H387.657c-29.257 0-54.857-25.6-54.857-54.857S358.4 0 387.657 0H640c32.914 0 54.857 25.6 54.857 54.857S672.914 109.714 640 109.714z",fill:"currentColor","fill-opacity":"0.9"},null,-1),N7=[R7];function V7(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},N7,6)}const Lv=Je(D7,[["render",V7]]),L7=Xe("down-arrow"),M7=$("path",{d:"M128 349.867C93.867 332.8 34.133 341.333 8.533 384-8.533 418.133 0 477.867 42.667 503.467 179.2 588.8 315.733 665.6 443.733 750.933c42.667 25.6 93.867 25.6 136.534 0C716.8 665.6 853.333 588.8 981.333 503.467c42.667-25.6 51.2-76.8 25.6-119.467s-76.8-51.2-119.466-25.6C768 435.2 640 512 512 588.8 384 512 256 435.2 128 349.867",fill:"currentColor","fill-opacity":"0.9"},null,-1),B7=[M7];function F7(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},B7,6)}const X$=Je(L7,[["render",F7]]),j7=Xe("edit"),x7=$("path",{d:"M285.479 992.97H108.606c-27.927 0-55.854-12.412-77.576-31.03C9.31 940.217 0 915.393 0 884.363l3.103-155.152c0-24.824 9.31-46.545 27.927-65.164L626.812 65.164c83.782-83.782 220.315-83.782 307.2 0 83.782 83.781 83.782 223.418 0 307.2l-605.09 601.988c-12.413 12.412-27.928 18.618-43.443 18.618zM781.964 93.09c-31.03 0-65.164 12.413-89.988 37.237L96.194 729.212 93.09 884.364c0 9.309 6.206 15.515 15.515 15.515h161.358l598.884-595.782c49.649-49.649 49.649-127.224 0-173.77l-3.103-3.103c-21.72-21.721-52.751-34.133-83.781-34.133zm-201.946 78.508 65.816-65.847L882.812 342.73l-65.846 65.784zM946.424 992.97H217.212c-24.824 0-46.545-21.722-46.545-46.546s21.72-46.545 46.545-46.545h729.212c24.824 0 46.546 21.721 46.546 46.545s-21.722 46.546-46.546 46.546z",fill:"currentColor","fill-opacity":"0.9"},null,-1),U7=[x7];function z7(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},U7,6)}const H7=Je(j7,[["render",z7]]),q7=Xe("fabulous"),W7=$("path",{d:"M584.06 1024H318.577C144.118 1024 0 883.674 0 705.422s140.326-318.578 318.578-318.578v113.778c-113.778 0-204.8 91.022-204.8 204.8s91.022 204.8 204.8 204.8h265.481V1024zm56.888 0h-53.096c-208.593 0-379.26-170.667-379.26-383.052 0-83.437 26.549-163.081 75.852-231.348l3.793-3.793c15.17-22.755 30.34-60.681 45.511-121.363l7.585-34.133c7.586-18.963 15.17-41.718 18.963-68.267C386.844 22.756 470.281 0 519.586 0c117.57 0 178.251 106.193 178.251 212.385v7.585c0 7.586-3.793 18.963-3.793 37.926C876.09 257.896 1024 405.807 1024 587.852v53.096C1024 853.333 853.333 1024 640.948 1024zM519.585 113.778c-30.34 0-41.718 53.096-49.304 87.23-3.792 34.133-11.377 60.68-15.17 83.436l-7.585 34.134c-11.378 45.51-34.133 113.778-60.682 155.496l-7.585 3.793A269.274 269.274 0 0 0 322.37 644.74c0 147.91 121.363 269.274 269.274 269.274h53.097c147.91 0 269.274-121.363 269.274-269.274v-53.097c0-117.57-98.608-216.177-216.178-216.177h-56.889c-18.963-3.793-37.926-15.17-49.304-30.341-11.377-15.17-15.17-37.926-15.17-56.889 7.585-41.718 11.378-64.474 11.378-75.852v-3.792c-3.793 0-3.793-94.815-68.267-94.815z",fill:"currentColor","fill-opacity":"0.9"},null,-1),K7=[W7];function G7(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1061 1024",role:"presentation"},K7,6)}const Y7=Je(q7,[["render",G7]]),Q7=Xe("failure"),X7=$("path",{d:"M512 1024C229.831 1024 0 794.169 0 512S229.831 0 512 0s512 229.831 512 512-229.831 512-512 512zm0-955.733C266.24 68.267 68.267 266.24 68.267 512S266.24 955.733 512 955.733 955.733 757.76 955.733 512 757.76 68.267 512 68.267zm111.502 282.169c13.654-13.654 34.134-13.654 47.787 0 11.378 11.377 13.653 31.857 2.275 45.51l-2.275 2.276-111.502 111.502 111.502 111.503c13.653 13.653 13.653 34.133 0 47.786-13.653 13.654-34.133 13.654-47.787 0L512 557.511 400.498 669.013c-11.378 11.378-31.858 13.654-45.511 2.276l-2.276-2.276c-11.378-11.377-13.653-31.857-2.275-45.51l2.275-2.276 111.502-111.503-111.502-111.502c-13.653-13.653-13.653-34.133 0-47.786s34.133-13.654 47.787 0L512 461.938l111.502-111.502z",fill:"currentColor","fill-opacity":"0.9"},null,-1),J7=[X7];function Z7(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},J7,6)}const e9=Je(Q7,[["render",Z7]]),t9=Xe("image-error"),n9=$("path",{d:"M696.43 465.25c40.61 0 73.53-32.72 73.53-73.09s-32.96-73.08-73.53-73.08-73.54 32.72-73.54 73.08 32.92 73.09 73.54 73.09zM535.74 650.62l-273.61-259.4a56.19 56.19 0 0 0-15.36 11.58l-114 119.63-6-222.77c-.73-26.82 20.84-49.41 47.67-50.14l201.77-5.44 47.34-50-250.43 6.75C119 202.33 76.33 247.17 77.78 301l7.32 271.4 4.5 166.78C91.06 793 136.05 835.47 190.2 834l176-4.75 12-.32 47.34-50 116.18-122.64z",fill:"currentColor","fill-opacity":"0.9"},null,-1),r9=$("path",{d:"m861.71 214.8-242.83-33.86-55.09 41.46L855 263a49.05 49.05 0 0 1 41.79 55.13l-54.33 389.59-120.87-159.05A59.86 59.86 0 0 0 638.06 537l-44 33.08 65.07 86.15L603.84 698l-79.57 60.1-54.92 41.48 34.17 4.76 270.73 37.76a97.55 97.55 0 0 0 109.88-79.6 22.37 22.37 0 0 0 .65-3.44l60.53-434.16c7.44-53.32-29.95-102.62-83.6-110.1z",fill:"currentColor","fill-opacity":"0.9"},null,-1);function o9(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},[n9,Ie(","),r9],6)}const s9=Je(t9,[["render",o9]]),i9=Xe("image"),a9=$("path",{d:"M853.161 892.55H362.595l-209.433-.414a18.5 18.5 0 0 1-1.813-.092c-24.849-2.485-47.825-14.06-64.696-32.595-16.991-18.665-26.35-42.855-26.35-68.112V264.626c0-55.808 45.404-101.211 101.212-101.211H853.16c55.808 0 101.21 45.403 101.21 101.211v225.513c0 .275-.006.552-.018.826-.022.494-1.972 51.723 15.481 85.462 4.717 9.119 1.148 20.335-7.97 25.053-9.117 4.714-20.335 1.15-25.053-7.97-21.3-41.177-19.845-97.643-19.619-103.74V264.627c0-35.307-28.724-64.031-64.03-64.031H161.515c-35.308 0-64.032 28.724-64.032 64.031v526.711c0 32.755 24.321 59.958 56.718 63.62l208.431.412h490.53c35.306 0 64.03-28.725 64.03-64.032l-.382-93.677c-.105-1.75-1.587-19.548-19.55-42.5a9.548 9.548 0 0 1-.147-.19l-21.712-28.489-117.227-155.119c-.416-.55-38.995-50.852-86.272-45.534-38.335 4.315-75.955 45.164-108.79 118.132-17.615 39.141-34.65 68.269-52.082 89.046-17.607 20.986-35.68 33.52-55.251 38.317-43.423 10.638-81.05-18.995-120.887-50.373l-5.057-3.98c-46.555-36.578-68.75-28.224-158.33 59.602-7.33 7.188-19.1 7.071-26.289-.26-7.187-7.33-7.07-19.1.26-26.287 46.659-45.746 77.544-72.727 107.086-84.283 33.358-13.048 64.275-6.267 100.242 21.994l5.093 4.008c33.923 26.72 63.22 49.795 89.029 43.467 25.618-6.279 53.3-42.114 82.28-106.509 39.14-86.976 85.838-134.027 138.797-139.849 68.454-7.515 117.824 57.405 119.892 60.172l117.122 154.98 21.6 28.344c26.277 33.631 27.334 61.639 27.367 64.725l.001.128.384 94.06c.001 55.884-45.4 101.287-101.209 101.287z",fill:"currentColor","fill-opacity":"0.9"},null,-1),l9=$("path",{d:"M312.328 446.968c-42.325 0-76.759-34.434-76.759-76.76s34.434-76.759 76.76-76.759 76.759 34.435 76.759 76.76-34.434 76.759-76.76 76.759zm0-116.34c-21.824 0-39.579 17.756-39.579 39.58s17.755 39.58 39.58 39.58 39.579-17.756 39.579-39.58-17.755-39.58-39.58-39.58z",fill:"currentColor","fill-opacity":"0.9"},null,-1);function u9(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},[a9,Ie(","),l9],6)}const c9=Je(i9,[["render",u9]]),d9=Xe("joy-smile"),f9=$("path",{d:"M2185.74 479.429a117.992 117.992 0 1 0-162.829-170.852c-284.772 271.204-732.314 271.204-1017.087 0A118.05 118.05 0 0 0 842.996 479.43c375.98 358.045 966.705 358.045 1342.744 0",fill:"currentColor","fill-opacity":"0.9"},null,-1),h9=[f9];function p9(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 3072 1024",role:"presentation"},h9,6)}const m9=Je(d9,[["render",p9]]),g9=Xe("left"),v9=$("path",{d:"M642.973 1005.542 321.912 587.098a123.278 123.278 0 0 1 0-150.17l321.06-418.443a47.182 47.182 0 0 1 74.83 57.422l-321.088 418.47a28.994 28.994 0 0 0 0 35.3l321.088 418.47a47.155 47.155 0 0 1-74.83 57.395",fill:"currentColor","fill-opacity":"0.9"},null,-1),y9=[v9];function _9(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},y9,6)}const lp=Je(g9,[["render",_9]]),w9=Xe("link"),b9=$("path",{d:"M313.034 1004.045c-66.848 0-124.402-24.156-170.798-70.577l-40.854-40.829C54.96 846.218 28.966 783.097 30.83 714.411c3.702-66.85 31.56-131.808 79.819-180.12l137.4-137.373c14.86-14.861 40.855-14.861 55.69 0 14.86 14.861 16.725 38.99 0 55.69l-137.348 137.4a187.47 187.47 0 0 0-55.69 126.24c-1.864 46.422 14.835 89.115 46.396 120.675l40.855 40.855c31.56 31.56 74.253 48.286 120.674 46.421 46.421-1.838 92.843-22.291 126.24-55.69l137.4-137.4c14.862-14.86 40.856-14.86 55.69 0 14.862 14.862 14.862 40.856 0 55.69l-137.4 137.427c-48.285 48.259-113.27 76.117-180.118 79.82a5.645 5.645 0 0 0-7.405 0zm475.294-382.477c-11.133 0-18.563-3.702-27.832-12.997-14.86-14.861-14.86-40.855 0-55.69l115.082-115.108a187.47 187.47 0 0 0 55.716-126.267c1.838-46.395-14.861-89.114-46.421-120.674l-40.855-40.855c-64.985-64.959-176.364-61.257-246.915 9.294L478.266 278.108c-14.835 14.835-40.829 14.835-55.69 0-14.86-14.861-14.86-40.855 0-55.716l118.81-118.81C643.524 1.444 803.163-2.232 899.734 94.287l40.829 40.855c46.421 46.421 72.415 109.541 70.55 178.228-3.702 66.85-31.56 131.807-79.819 180.093L816.186 608.571c-7.43 7.43-18.563 11.133-27.858 12.997zm-332.327-1.864c-11.16 0-18.564-3.702-27.832-12.997-14.888-14.835-14.888-40.829 0-55.69l148.506-148.532c14.861-14.862 40.855-14.862 55.69 0 14.861 14.86 14.861 40.854 0 55.69L483.832 606.706c-7.404 7.43-18.563 11.159-27.831 12.997z",fill:"currentColor","fill-opacity":"0.9"},null,-1),$9=[b9];function T9(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},$9,6)}const S9=Je(w9,[["render",T9]]),C9=Xe("loading"),E9=$("path",{d:"M784 902.4c9.6 19.2 6.4 41.6-12.8 54.4-19.2 9.6-41.6 3.2-51.2-12.8-9.6-19.2-6.4-41.6 12.8-54.4 16-12.8 38.4-8 51.2 12.8zM550.4 984c0 22.4-16 38.4-38.4 38.4s-38.4-16-38.4-38.4v-24c0-22.4 19.2-38.4 41.6-38.4 19.2 0 35.2 16 38.4 38.4v25.6h-3.2zm-240-43.2c-9.6 19.2-35.2 25.6-54.4 16-19.2-9.6-25.6-35.2-16-51.2l28.8-51.2c9.6-19.2 35.2-25.6 54.4-16s25.6 35.2 12.8 54.4l-25.6 48zM121.6 784c-19.2 9.6-41.6 3.2-54.4-16-9.6-19.2-6.4-41.6 12.8-54.4l76.8-44.8c19.2-9.6 41.6-3.2 54.4 16 9.6 19.2 3.2 41.6-16 54.4L121.6 784zM38.4 552C16 552 0 536 0 513.6s16-38.4 38.4-38.4H160c22.4 0 38.4 19.2 38.4 38.4 0 22.4-16 38.4-38.4 38.4H38.4zm44.8-241.6c-19.2-9.6-25.6-35.2-16-51.2 9.6-19.2 35.2-25.6 54.4-16L256 320c19.2 9.6 25.6 35.2 16 54.4s-35.2 25.6-54.4 16l-134.4-80zm160-185.6 92.8 160c9.6 19.2 35.2 25.6 54.4 12.8s25.6-35.2 12.8-54.4l-92.8-160C297.6 64 275.2 60.8 256 70.4c-16 12.8-22.4 33.6-12.8 54.4zM473.6 40c0-22.4 16-38.4 38.4-38.4s38.4 19.2 38.4 38.4v184c0 22.4-19.2 38.4-38.4 38.4-22.4 0-38.4-19.2-38.4-38.4V40zm240 43.2c9.6-19.2 35.2-25.6 54.4-16 19.2 9.6 25.6 35.2 16 51.2l-92.8 160c-9.6 19.2-35.2 25.6-54.4 16-19.2-9.6-25.6-35.2-12.8-54.4l89.6-156.8zm188.8 160-160 92.8c-19.2 9.6-25.6 35.2-16 54.4 12.8 19.2 35.2 25.6 54.4 12.8l160-92.8c19.2-9.6 25.6-35.2 12.8-54.4-9.6-16-32-25.6-51.2-12.8zM985.6 472c22.4 0 38.4 16 38.4 38.4s-16 38.4-38.4 38.4H800c-22.4 0-38.4-19.2-38.4-38.4 0-22.4 19.2-38.4 38.4-38.4h185.6z",fill:"currentColor","fill-opacity":"0.9"},null,-1),P9=[E9];function I9(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},P9,6)}const Ei=Je(C9,[["render",I9]]),k9=Xe("loading1"),O9=$("path",{d:"M520.665 64.564a29.244 29.244 0 0 0-7.071-.894c-16.211 0-29.35 13.14-29.35 29.35 0 15.83 12.538 28.696 28.223 29.293v.073c.375 0 .751-.014 1.127-.014 216.493 0 389.629 173.942 389.629 390.433 0 216.496-173.136 388.827-389.63 388.827s-389.63-172.333-389.63-388.829c0-.27.01-.536.01-.804h-.01c0-16.209-13.141-29.35-29.35-29.35s-29.35 13.139-29.35 29.35c0 .055.007.11.007.164-.001.214-.007.425-.007.64 0 247.609 200.722 448.331 448.33 448.331 247.607 0 448.33-200.722 448.33-448.33-.002-245.242-196.917-444.456-441.258-448.24z",fill:"currentColor","fill-opacity":"0.9"},null,-1),A9=[O9];function D9(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},A9,6)}const R9=Je(k9,[["render",D9]]),N9=Xe("location"),V9=$("path",{d:"M512 971.487C259.938 971.487 52.513 764.062 52.513 512S259.938 52.513 512 52.513 971.487 259.938 971.487 512 764.062 971.487 512 971.487zm0-840.205c-210.051 0-380.718 170.667-380.718 380.718S301.95 892.718 512 892.718 892.718 722.05 892.718 512 722.05 131.282 512 131.282zm0 577.641c-107.651 0-196.923-89.272-196.923-196.923S404.349 315.077 512 315.077 708.923 404.349 708.923 512 619.651 708.923 512 708.923zm0-315.077c-65.641 0-118.154 52.513-118.154 118.154S446.36 630.154 512 630.154 630.154 577.64 630.154 512 577.64 393.846 512 393.846zm0-210.051c-21.005 0-39.385-18.38-39.385-39.385V39.385C472.615 18.379 490.995 0 512 0s39.385 18.38 39.385 39.385V144.41c0 21.005-18.38 39.385-39.385 39.385zM512 1024c-21.005 0-39.385-18.38-39.385-39.385V879.59c0-21.005 18.38-39.385 39.385-39.385s39.385 18.38 39.385 39.385v105.025c0 21.006-18.38 39.385-39.385 39.385zm472.615-472.615H879.59c-21.005 0-39.385-18.38-39.385-39.385s18.38-39.385 39.385-39.385h105.025c21.006 0 39.385 18.38 39.385 39.385s-18.38 39.385-39.385 39.385zm-840.205 0H39.385C18.379 551.385 0 533.005 0 512s18.38-39.385 39.385-39.385H144.41c21.005 0 39.385 18.38 39.385 39.385s-18.38 39.385-39.385 39.385z",fill:"currentColor","fill-opacity":"0.9"},null,-1),L9=[V9];function M9(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},L9,6)}const B9=Je(N9,[["render",M9]]),F9=Xe("location2"),j9=$("path",{d:"m530.286 1005.714-25.6-10.971c-36.572-14.629-58.515-25.6-73.143-36.572-102.4-84.114-164.572-135.314-193.829-171.885-43.885-51.2-76.8-91.429-106.057-142.629C95.086 577.83 76.8 504.686 76.8 431.543c0-117.029 43.886-226.743 128-307.2C285.257 43.886 394.971 0 512 0s226.743 43.886 310.857 128c84.114 80.457 128 190.171 128 307.2 0 73.143-18.286 146.286-54.857 212.114-25.6 43.886-58.514 91.429-106.057 142.629-29.257 32.914-87.772 84.114-197.486 171.886 0 0-7.314 7.314-18.286 10.971l-43.885 32.914zM497.37 874.057s3.658 3.657 14.629 7.314c3.657-3.657 7.314-3.657 10.971-7.314C621.714 797.257 683.886 742.4 705.83 716.8c40.228-47.543 69.485-87.771 91.428-128 25.6-47.543 40.229-102.4 40.229-157.257 0-87.772-32.915-168.229-95.086-230.4-58.514-58.514-142.629-91.429-230.4-91.429S340.114 142.63 277.943 204.8c-62.172 62.171-95.086 142.629-95.086 230.4 0 54.857 14.629 109.714 40.229 157.257 25.6 43.886 54.857 80.457 95.085 124.343 25.6 29.257 84.115 80.457 179.2 157.257zm18.286-248.686c-102.4 0-182.857-80.457-182.857-182.857s80.457-182.857 182.857-182.857 182.857 80.457 182.857 182.857-80.457 182.857-182.857 182.857zm0-256c-40.228 0-73.143 32.915-73.143 73.143s32.915 73.143 73.143 73.143 73.143-32.914 73.143-73.143-32.914-73.143-73.143-73.143z",fill:"currentColor","fill-opacity":"0.9"},null,-1),x9=[j9];function U9(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},x9,6)}const z9=Je(F9,[["render",U9]]),H9=Xe("mask-close"),q9=$("path",{d:"M512 14.897C238.594 14.897 14.897 238.594 14.897 512S238.594 1009.103 512 1009.103 1009.103 785.406 1009.103 512 785.406 14.897 512 14.897zm207.126 646.234c16.57 16.57 16.57 41.425 0 57.995s-41.425 16.57-57.995 0L512 569.996l-149.13 149.13c-16.57 16.57-41.426 16.57-57.996 0s-16.57-41.425 0-57.995L454.004 512l-149.13-149.13c-16.57-16.57-16.57-41.426 0-57.996s41.425-16.57 57.995 0L512 454.004l149.13-149.13c16.57-16.57 41.426-16.57 57.996 0s16.57 41.425 0 57.995L569.996 512l149.13 149.13z",fill:"currentColor","fill-opacity":"0.9"},null,-1),W9=[q9];function K9(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},W9,6)}const G9=Je(H9,[["render",K9]]),Y9=Xe("minus"),Q9=$("path",{d:"M299.52 460.8h409.6c28.16 0 51.2 23.04 51.2 51.2s-23.04 51.2-51.2 51.2h-409.6c-28.16 0-51.2-23.04-51.2-51.2s23.04-51.2 51.2-51.2z",fill:"currentColor","fill-opacity":"0.9"},null,-1),X9=[Q9];function J9(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},X9,6)}const Z9=Je(Y9,[["render",J9]]),eD=Xe("more-x"),tD=$("path",{d:"M937.115 428.218c-43.442 0-80.679 37.237-80.679 80.679s37.237 80.679 80.68 80.679c43.442 0 80.678-37.237 80.678-80.679s-34.133-80.679-80.679-80.679m-428.218-52.751c-74.473 0-133.43 58.957-133.43 133.43s58.957 133.43 133.43 133.43 133.43-58.957 133.43-133.43-58.957-133.43-133.43-133.43M83.782 428.218c-43.443 0-80.679 37.237-80.679 80.679s34.133 80.679 80.679 80.679 80.679-37.237 80.679-80.679-37.237-80.679-80.68-80.679",fill:"currentColor","fill-opacity":"0.9"},null,-1),nD=[tD];function rD(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},nD,6)}const oD=Je(eD,[["render",rD]]),sD=Xe("notice"),iD=$("path",{d:"M940.873 819.2h-85.334V430.933c0-192-153.6-345.6-341.333-345.6s-341.333 153.6-341.333 345.6V819.2H87.539V430.933C87.54 192 279.54 0 514.206 0s426.667 192 426.667 430.933V819.2zM514.633 1024c-68.267 0-132.267-29.867-174.934-85.333-17.066-17.067-12.8-42.667 4.267-59.734 17.067-12.8 46.933-12.8 59.733 8.534 29.867 34.133 68.267 51.2 110.934 51.2s81.066-17.067 106.666-51.2c12.8-17.067 42.667-21.334 59.734-8.534 17.066 12.8 21.333 42.667 8.533 59.734C646.899 994.133 582.899 1024 514.633 1024zm469.333-162.133h-12.8c-294.4-89.6-618.667-89.6-913.067 0-21.333 4.266-46.933-8.534-55.466-29.867-8.534-21.333 4.266-46.933 29.866-51.2 311.467-93.867 652.8-89.6 964.267 0 21.333 8.533 34.133 29.867 29.867 51.2-8.534 21.333-25.6 29.867-42.667 29.867z",fill:"currentColor","fill-opacity":"0.9"},null,-1),aD=[iD];function lD(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1027 1024",role:"presentation"},aD,6)}const uD=Je(sD,[["render",lD]]),cD=Xe("photograph"),dD=$("path",{d:"M570.514 789.943c-119.954 0-219.428-99.474-219.428-219.429s99.474-219.428 219.428-219.428 219.429 99.474 219.429 219.428-99.474 219.429-219.429 219.429zm0-351.086c-73.143 0-131.657 58.514-131.657 131.657s58.514 131.657 131.657 131.657 131.657-58.514 131.657-131.657-58.514-131.657-131.657-131.657zM877.714 1024h-614.4C117.03 1024 0 906.971 0 760.686V380.343c0-146.286 117.029-263.314 263.314-263.314h32.183c0-2.926 2.926-8.778 2.926-11.703C315.977 43.886 374.49 0 438.857 0h263.314c70.218 0 128.732 49.737 143.36 117.029h32.183c146.286 0 263.315 117.028 263.315 263.314v380.343C1141.029 906.97 1024 1024 877.714 1024zm-614.4-819.2c-96.548 0-175.543 78.994-175.543 175.543v380.343c0 96.548 78.995 175.543 175.543 175.543h614.4c96.549 0 175.543-78.995 175.543-175.543V380.343c0-96.549-78.994-175.543-175.543-175.543H819.2c-32.183 0-58.514-26.331-58.514-58.514S734.354 87.77 702.17 87.77H438.857c-26.331 0-49.737 17.555-55.588 40.96-2.926 5.852-2.926 11.703-2.926 17.555 0 32.183-26.332 58.514-58.514 58.514h-58.515zm-87.771 160.914a73.143 73.143 0 1 0 146.286 0 73.143 73.143 0 1 0-146.286 0Z",fill:"currentColor","fill-opacity":"0.9"},null,-1),fD=[dD];function hD(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1141 1024",role:"presentation"},fD,6)}const pD=Je(cD,[["render",hD]]),mD=Xe("plus"),gD=$("path",{d:"M345.6 460.8h409.6q51.2 0 51.2 51.2t-51.2 51.2H345.6q-51.2 0-51.2-51.2t51.2-51.2zM550.4 256q51.2 0 51.2 51.2v409.6q0 51.2-51.2 51.2t-51.2-51.2V307.2q0-51.2 51.2-51.2z",fill:"currentColor","fill-opacity":"0.9"},null,-1),vD=[gD];function yD(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},vD,6)}const _D=Je(mD,[["render",yD]]),wD=Xe("rect-down"),bD=$("path",{d:"M515.072 778.24c-14.336 0-28.672-5.632-39.936-16.384L69.12 356.864c-22.016-22.016-22.016-57.856 0-79.872s57.856-22.016 79.872 0L515.584 642.56 880.64 275.968c22.016-22.016 57.856-22.016 79.872 0s22.016 57.856 0 79.872L555.008 762.368c-10.752 10.752-25.6 15.872-39.936 15.872z",fill:"currentColor","fill-opacity":"0.9"},null,-1),$D=[bD];function TD(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},$D,6)}const SD=Je(wD,[["render",TD]]),CD=Xe("rect-up"),ED=$("path",{d:"M920.576 778.24c-14.336 0-28.672-5.632-39.936-16.384L515.072 395.264 148.48 760.832c-22.016 22.016-57.856 22.016-79.872 0s-22.016-57.856 0-79.872l406.528-405.504c22.016-22.016 57.856-22.016 79.872 0l405.504 406.528c22.016 22.016 22.016 57.856 0 79.872-11.264 11.264-25.6 16.384-39.936 16.384z",fill:"currentColor","fill-opacity":"0.9"},null,-1),PD=[ED];function ID(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},PD,6)}const kD=Je(CD,[["render",ID]]),OD=Xe("refresh2"),AD=$("path",{d:"M771.938 315.077h199.55L958.358 469.99 758.81 364.964c-13.128-7.877-18.38-23.63-10.502-36.759 2.625-7.877 13.128-13.128 23.63-13.128zm-535.63 393.846H44.636L57.764 554.01l191.672 105.026c13.128 7.877 18.38 23.63 10.502 36.759-5.25 7.877-15.753 13.128-23.63 13.128zM509.374 1024C257.313 1024 44.636 845.456 5.251 596.02 0 575.016 15.754 556.637 36.76 551.386c21.005-2.626 42.01 10.502 44.636 31.507 34.133 210.052 215.302 362.339 427.98 362.339 191.671 0 362.338-128.657 417.476-312.452 5.252-21.005 28.882-34.133 49.887-26.256 21.006 5.251 34.134 28.882 26.257 49.887C937.354 871.713 735.179 1024 509.375 1024zm467.364-551.385c-18.379 0-36.759-13.128-39.384-34.133C903.22 231.056 722.05 78.77 509.374 78.77c-191.671 0-362.338 128.657-414.85 312.452-5.252 21.005-28.883 34.133-49.888 26.256-21.005-5.251-34.133-28.882-26.257-49.887C81.395 152.287 283.57 0 509.374 0c252.062 0 464.739 178.544 504.123 427.98 2.626 21.005-10.502 42.01-31.507 44.635h-5.252z",fill:"currentColor","fill-opacity":"0.9"},null,-1),DD=[AD];function RD(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},DD,6)}const ND=Je(OD,[["render",RD]]),VD=Xe("retweet"),LD=$("path",{d:"M136 552h63.6c4.4 0 8-3.6 8-8V288.7h528.6v72.6c0 1.9.6 3.7 1.8 5.2 2.9 3.6 8.1 4.3 11.7 1.4L893 255.4c4.3-5 3.6-10.3 0-13.2L749.7 129.8c-1.5-1.2-3.3-1.8-5.2-1.8-4.6 0-8.4 3.8-8.4 8.4V209H199.7c-39.5 0-71.7 32.2-71.7 71.8V544c0 4.4 3.6 8 8 8zm752-80h-63.6c-4.4 0-8 3.6-8 8v255.3H287.8v-72.6c0-1.9-.6-3.7-1.8-5.2-2.9-3.6-8.1-4.3-11.7-1.4L131 768.6c-4.3 5-3.6 10.3 0 13.2l143.3 112.4c1.5 1.2 3.3 1.8 5.2 1.8 4.6 0 8.4-3.8 8.4-8.4V815h536.6c39.5 0 71.7-32.2 71.7-71.8V480c-.2-4.4-3.8-8-8.2-8z",fill:"currentColor","fill-opacity":"0.9"},null,-1),MD=[LD];function BD(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},MD,6)}const FD=Je(VD,[["render",BD]]),jD=Xe("right"),xD=$("path",{d:"M381.262 1005.566c-16.132 21.51-45.708 24.198-67.217 8.066-21.51-16.132-24.198-45.708-8.066-67.217C413.526 806.604 518.384 666.792 625.932 529.67c8.066-10.755 8.066-24.198 0-34.953C518.384 354.906 413.526 215.094 305.979 77.972c-16.132-21.51-10.755-51.085 8.066-67.217C335.555-5.377 365.13 0 381.262 18.82c107.547 142.5 212.405 282.311 319.953 419.434 34.952 43.019 34.952 104.858 0 150.566-107.548 139.811-212.406 279.622-319.953 416.745",fill:"currentColor","fill-opacity":"0.9"},null,-1),UD=[xD];function zD(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},UD,6)}const up=Je(jD,[["render",zD]]),HD=Xe("service"),qD=$("path",{d:"M1024 657.723H905.846v-126.03c0-228.431-177.23-413.54-393.846-413.54s-393.846 185.109-393.846 413.54v126.03H0v-126.03C0 236.307 228.43 0 512 0s512 236.308 512 531.692v126.031zM196.923 866.462C86.646 866.462 0 779.815 0 669.538s86.646-196.923 196.923-196.923 196.923 86.647 196.923 196.923S307.2 866.462 196.923 866.462zm0-275.693c-43.323 0-78.77 35.446-78.77 78.77s35.447 78.769 78.77 78.769 78.77-35.446 78.77-78.77-35.447-78.769-78.77-78.769zm630.154 275.693c-110.277 0-196.923-86.647-196.923-196.924S716.8 472.615 827.077 472.615 1024 559.262 1024 669.538s-86.646 196.924-196.923 196.924zm0-275.693c-43.323 0-78.77 35.446-78.77 78.77s35.447 78.769 78.77 78.769 78.77-35.446 78.77-78.77-35.447-78.769-78.77-78.769zm-149.662 429.293c-23.63 0-47.261-15.754-55.138-43.324-7.877-31.507 7.877-63.015 39.385-74.83 102.4-31.508 189.046-102.4 236.307-196.923 15.754-27.57 51.2-39.385 78.77-23.631s39.384 51.2 23.63 78.77c-63.015 122.091-177.23 216.614-307.2 256-3.938 3.938-11.815 3.938-15.754 3.938z",fill:"currentColor","fill-opacity":"0.9"},null,-1),WD=[qD];function KD(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},WD,6)}const GD=Je(HD,[["render",KD]]),YD=Xe("star-fill-n"),QD=$("path",{d:"M1047.135 361.244 722.87 312.89 577.802 22.756c-2.844-8.534-11.378-14.223-19.911-17.067-19.911-8.533-45.511-2.845-54.045 17.067L358.78 312.889 34.513 358.4c-8.533 0-17.067 5.689-22.755 11.378-17.067 17.066-14.223 42.666 0 56.889l233.244 227.555-54.044 321.422c-2.845 8.534 0 17.067 2.844 25.6 11.378 19.912 34.133 28.445 54.044 17.067L537.98 867.556l290.133 150.755c8.533 2.845 17.067 5.689 25.6 2.845 22.756-2.845 36.978-25.6 34.133-45.512l-54.044-321.422 233.244-227.555c5.69-5.69 11.378-14.223 11.378-22.756 5.69-19.911-8.533-39.822-31.289-42.667z",fill:"currentColor","fill-opacity":"0.9"},null,-1),XD=[QD];function JD(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1081 1024",role:"presentation"},XD,6)}const ZD=Je(YD,[["render",JD]]),eR=Xe("tips"),tR=$("path",{d:"M512 1024C230.4 1024 0 793.6 0 512S230.4 0 512 0s512 230.4 512 512-230.4 512-512 512zm0-938.667c-234.667 0-426.667 192-426.667 426.667s192 426.667 426.667 426.667 426.667-192 426.667-426.667S746.667 85.333 512 85.333zM448 320a64 64 0 1 0 128 0 64 64 0 1 0-128 0Zm-17.067 149.333h51.2c12.8 0 21.334 8.534 21.334 21.334v8.533c0 12.8-8.534 21.333-21.334 21.333h-51.2c-12.8 0-25.6-12.8-25.6-25.6s12.8-25.6 25.6-25.6zm51.2 0H524.8c25.6 0 51.2 21.334 51.2 51.2v8.534L537.6 755.2c0 8.533-8.533 17.067-21.333 17.067H473.6c-25.6 0-51.2-21.334-51.2-51.2v-8.534L460.8 486.4c4.267-8.533 12.8-17.067 21.333-17.067zm8.534 251.734h76.8c12.8 0 25.6 12.8 25.6 25.6s-12.8 25.6-25.6 25.6h-76.8c-12.8 0-21.334-8.534-21.334-21.334v-12.8c4.267-12.8 12.8-17.066 21.334-17.066z",fill:"currentColor","fill-opacity":"0.9"},null,-1),nR=[tR];function rR(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},nR,6)}const oR=Je(eR,[["render",rR]]),sR=Xe("top"),iR=$("path",{d:"M136.533 540.444c-11.377 0-25.6-5.688-34.133-17.066-14.222-19.911-11.378-45.511 8.533-59.734L477.867 179.2c19.91-14.222 45.51-11.378 59.733 8.533s11.378 45.511-8.533 59.734L162.133 531.91c-5.689 5.689-14.222 8.533-25.6 8.533zm745.245 0c-8.534 0-17.067-2.844-25.6-8.533L489.244 247.467c-19.91-14.223-22.755-42.667-8.533-59.734 14.222-19.91 42.667-22.755 59.733-8.533l366.934 284.444c19.91 14.223 22.755 42.667 8.533 59.734-8.533 11.378-19.911 17.066-34.133 17.066zM512 1024c-22.756 0-42.667-19.911-42.667-42.667v-768c0-22.755 19.911-42.666 42.667-42.666s42.667 19.91 42.667 42.666v768c0 22.756-19.911 42.667-42.667 42.667zM884.622 85.333h-742.4c-22.755 0-42.666-19.91-42.666-42.666S119.466 0 142.222 0h742.4c22.756 0 42.667 19.911 42.667 42.667s-19.911 42.666-42.667 42.666z",fill:"currentColor","fill-opacity":"0.9"},null,-1),aR=[iR];function lR(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},aR,6)}const uR=Je(sR,[["render",lR]]),cR=Xe("triangle-down"),dR=$("path",{d:"m573.056 752 308.8-404.608A76.8 76.8 0 0 0 820.736 224H203.232a76.8 76.8 0 0 0-61.056 123.392L450.976 752a76.8 76.8 0 0 0 122.08 0z",fill:"currentColor","fill-opacity":"0.9"},null,-1),fR=[dR];function hR(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},fR,6)}const pR=Je(cR,[["render",hR]]),mR=Xe("triangle-up"),gR=$("path",{d:"m573.056 272 308.8 404.608A76.8 76.8 0 0 1 820.736 800H203.232a76.8 76.8 0 0 1-61.056-123.392L450.976 272a76.8 76.8 0 0 1 122.08 0z",fill:"currentColor","fill-opacity":"0.9"},null,-1),vR=[gR];function yR(e,t,n,r,o,s){return y(),T("svg",{class:z(e.classes),style:W(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},vR,6)}const _R=Je(mR,[["render",yR]]),et=e=>{const t=e;return t.install=n=>{t.name&&n.component(t.name,t)},t};var wR=Object.defineProperty,bR=Object.defineProperties,$R=Object.getOwnPropertyDescriptors,Mv=Object.getOwnPropertySymbols,TR=Object.prototype.hasOwnProperty,SR=Object.prototype.propertyIsEnumerable,Bv=(e,t,n)=>t in e?wR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CR=(e,t)=>{for(var n in t||(t={}))TR.call(t,n)&&Bv(e,n,t[n]);if(Mv)for(var n of Mv(t))SR.call(t,n)&&Bv(e,n,t[n]);return e},ER=(e,t)=>bR(e,$R(t));const PR={class:"nut-button__wrap"},Ur=Le(ER(CR({},{name:"NutButton"}),{__name:"button",props:{color:{default:""},shape:{default:"round"},plain:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},type:{default:"default"},size:{default:"normal"},block:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t}){const n=e,r=t,o=a=>{!n.loading&&!n.disabled&&r("click",a)},s=F(()=>{const a="nut-button";return{[a]:!0,[`${a}--${n.type}`]:n.type,[`${a}--${n.size}`]:n.size,[`${a}--${n.shape}`]:n.shape,[`${a}--plain`]:n.plain,[`${a}--block`]:n.block,[`${a}--disabled`]:n.disabled,[`${a}--loading`]:n.loading}}),i=F(()=>{let a={};return n.color&&(a={color:n.plain?n.color:"#fff",background:n.plain?"#fff":`border-box ${n.color}`},n.color.includes("gradient")?a.borderColor="transparent":a.borderColor=n.color),a});return(a,l)=>(y(),T("view",{class:z(s.value),style:W(i.value),onClick:o},[$("view",PR,[a.loading?(y(),ye(Ae(Ei),{key:0,class:"nut-icon-loading"})):j("",!0),a.$slots.icon&&!a.loading?U(a.$slots,"icon",{key:1}):j("",!0),a.$slots.default?(y(),T("view",{key:2,class:z({"nut-button__text":a.$slots.icon||a.loading})},[U(a.$slots,"default")],2)):j("",!0)])],6))}}));et(Ur);function cp(){return Mr().proxy.$router||null}const Ht=e=>{if(e!==void 0)return isNaN(Number(e))?String(e):`${e}px`};var IR=Object.defineProperty,kR=Object.defineProperties,OR=Object.getOwnPropertyDescriptors,Fv=Object.getOwnPropertySymbols,AR=Object.prototype.hasOwnProperty,DR=Object.prototype.propertyIsEnumerable,jv=(e,t,n)=>t in e?IR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RR=(e,t)=>{for(var n in t||(t={}))AR.call(t,n)&&jv(e,n,t[n]);if(Fv)for(var n of Fv(t))DR.call(t,n)&&jv(e,n,t[n]);return e},NR=(e,t)=>kR(e,OR(t));const VR={key:0,class:"nut-cell__icon"},LR={key:1,class:"nut-cell__title"},MR={class:"title"},BR={class:"nut-cell__title-desc"},dp=Le(NR(RR({},{name:"NutCell"}),{__name:"cell",props:{title:{default:""},subTitle:{default:""},desc:{default:""},descTextAlign:{default:"right"},isLink:{type:Boolean,default:!1},roundRadius:{default:""},center:{type:Boolean,default:!1},size:{default:"normal"},to:{},replace:{type:Boolean,default:!1},url:{default:""}},emits:["click"],setup(e,{emit:t}){const n=e,r=t,o=F(()=>{const u="nut-cell";return{[u]:!0,[`${u}--clickable`]:n.isLink||n.to,[`${u}--center`]:n.center,[`${u}--large`]:n.size==="large"}}),s=cp(),i=F(()=>({borderRadius:Ht(n.roundRadius)})),a=F(()=>({textAlign:n.descTextAlign})),l=u=>{r("click",u),n.to&&s?s[n.replace?"replace":"push"](n.to):n.url&&(n.replace?location.replace(n.url):location.href=n.url)};return(u,c)=>(y(),T("view",{class:z(o.value),style:W(i.value),onClick:l},[U(u.$slots,"default",{},()=>[u.$slots.icon?(y(),T("view",VR,[U(u.$slots,"icon")])):j("",!0),u.title||u.subTitle||u.$slots.title?(y(),T("view",LR,[u.subTitle?(y(),T(le,{key:0},[U(u.$slots,"title",{},()=>[$("view",MR,x(u.title),1)]),$("view",BR,x(u.subTitle),1)],64)):U(u.$slots,"title",{key:1},()=>[Ie(x(u.title),1)])])):j("",!0),u.desc||u.$slots.desc?(y(),T("view",{key:2,class:z(["nut-cell__value",{"nut-cell__value--alone":!u.title&&!u.subTitle&&!u.$slots.title}]),style:W(a.value)},[U(u.$slots,"desc",{},()=>[Ie(x(u.desc),1)])],6)):j("",!0),U(u.$slots,"link",{},()=>[u.isLink||u.to?(y(),ye(Ae(up),{key:0,class:"nut-cell__link"})):j("",!0)])])],6))}}));et(dp);var FR=Object.defineProperty,jR=Object.defineProperties,xR=Object.getOwnPropertyDescriptors,xv=Object.getOwnPropertySymbols,UR=Object.prototype.hasOwnProperty,zR=Object.prototype.propertyIsEnumerable,Uv=(e,t,n)=>t in e?FR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HR=(e,t)=>{for(var n in t||(t={}))UR.call(t,n)&&Uv(e,n,t[n]);if(xv)for(var n of xv(t))zR.call(t,n)&&Uv(e,n,t[n]);return e},qR=(e,t)=>jR(e,xR(t));const WR={class:"nut-cell-group"},KR={key:1,class:"nut-cell-group__title"},GR={key:3,class:"nut-cell-group__desc"},YR={class:"nut-cell-group__wrap"},fp=Le(qR(HR({},{name:"NutCellGroup"}),{__name:"cell-group",props:{title:{default:""},desc:{default:""}},setup(e){return(t,n)=>(y(),T("view",WR,[t.$slots.title?U(t.$slots,"title",{key:0}):t.title?(y(),T("view",KR,x(t.title),1)):j("",!0),t.$slots.desc?U(t.$slots,"desc",{key:2}):t.desc?(y(),T("view",GR,x(t.desc),1)):j("",!0),$("view",YR,[U(t.$slots,"default")])]))}}));et(fp);const Sf=e=>{if(e===null)return"null";const t=typeof e;if(t==="undefined"||t==="string")return t;switch(toString.call(e)){case"[object Array]":return"array";case"[object Date]":return"date";case"[object Boolean]":return"boolean";case"[object Number]":return"number";case"[object Function]":return"function";case"[object RegExp]":return"regexp";case"[object Object]":return e.nodeType!==void 0?e.nodeType==3?/\S/.test(e.nodeValue)?"textnode":"whitespace":"element":"object";default:return"unknow"}},J$=Array.isArray,QR=e=>e instanceof Date,Vu=e=>typeof e=="function",XR=e=>typeof e=="string",eu=e=>e!==null&&typeof e=="object",Z$=e=>eu(e)&&Vu(e.then)&&Vu(e.catch),JR=document,zv=JR.body,Cf=(e,t)=>{try{return t.split(".").reduce((n,r)=>n[r],e)}catch{return""}},ZR=(e,t,n)=>{const r=Object.assign({},e),o=Object.assign({},n);return Object.keys(t).length>0?(Object.keys(r).forEach(s=>{if(Object.prototype.hasOwnProperty.call(o,s)){const i=Sf(o[s]);i=="function"&&(r[s]=o[s](t)),i=="string"&&(r[s]=t[o[s]])}else t[s]&&(r[s]=t[s])}),r):e};function eN(e,t=2){return Object.is(parseFloat(e),NaN)?console.log(`传入的值：${e}不是一个数字`):(e=parseFloat(e),(Math.round((e+Number.EPSILON)*Math.pow(10,t))/Math.pow(10,t)).toFixed(t))}function fi(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&e.stopPropagation()}const no=(e,t=2)=>{for(e+="";e.length<t;)e="0"+e;return e.toString()},Kn=(e,t,n)=>Math.min(Math.max(e,t),n),e4=()=>window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;var tN=Object.defineProperty,nN=Object.defineProperties,rN=Object.getOwnPropertyDescriptors,Hv=Object.getOwnPropertySymbols,oN=Object.prototype.hasOwnProperty,sN=Object.prototype.propertyIsEnumerable,qv=(e,t,n)=>t in e?tN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wv=(e,t)=>{for(var n in t||(t={}))oN.call(t,n)&&qv(e,n,t[n]);if(Hv)for(var n of Hv(t))sN.call(t,n)&&qv(e,n,t[n]);return e},iN=(e,t)=>nN(e,rN(t));let Ki=0;const Kv="nut-overflow-hidden",aN=e=>[()=>{if(e())try{!Ki&&zv.classList.add(Kv),Ki++}catch(r){console.warn("[NutUI] <useLockScroll>",r)}},()=>{if(e()&&Ki)try{Ki--,!Ki&&zv.classList.remove(Kv)}catch(r){console.warn("[NutUI] <unlock>",r)}}],rl=Le(iN(Wv({},{name:"NutOverlay"}),{__name:"overlay",props:{visible:{type:Boolean,default:!1},zIndex:{default:2e3},duration:{default:.3},lockScroll:{type:Boolean,default:!0},overlayClass:{default:""},overlayStyle:{},closeOnClickOverlay:{type:Boolean,default:!0}},emits:["click","update:visible"],setup(e,{emit:t}){const n=e,r=t,[o,s]=aN(()=>n.lockScroll),i=F(()=>({["nut-overlay"]:!0,[n.overlayClass]:!0})),a=F(()=>Wv({transitionDuration:`${n.duration}s`,zIndex:n.zIndex},n.overlayStyle));ni(()=>{n.visible?o():s()});const l=u=>{r("click",u),n.closeOnClickOverlay&&r("update:visible",!1)};return(u,c)=>(y(),ye(vh,{name:"overlay-fade"},{default:de(()=>[ct($("view",{class:z(i.value),style:W(a.value),onClick:Vt(l,["stop"])},[U(u.$slots,"default")],6),[[jt,u.visible]])]),_:3}))}}));et(rl);const lN=e=>e.replace(/-./g,t=>t[1].toUpperCase());function Oe(e){return{componentName:"nut-"+e,create:function(n){return n.name="Nut"+lN("-"+e),n.install=r=>{r.component(n.name,n)},Le(n)}}}const Ne=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n};var uN=Object.defineProperty,cN=Object.defineProperties,dN=Object.getOwnPropertyDescriptors,Gv=Object.getOwnPropertySymbols,fN=Object.prototype.hasOwnProperty,hN=Object.prototype.propertyIsEnumerable,Yv=(e,t,n)=>t in e?uN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qv=(e,t)=>{for(var n in t||(t={}))fN.call(t,n)&&Yv(e,n,t[n]);if(Gv)for(var n of Gv(t))hN.call(t,n)&&Yv(e,n,t[n]);return e},pN=(e,t)=>cN(e,dN(t));const ol={visible:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:2e3},duration:{type:[Number,String],default:.3},lockScroll:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},position:{type:String,default:"center"},transition:{type:String,default:""},style:{type:Object,default:()=>({})},popClass:{type:String,default:""},closeable:{type:Boolean,default:!1},closeIconPosition:{type:String,default:"top-right"},destroyOnClose:{type:Boolean,default:!0},teleport:{type:[String,Element],default:"body"},overlay:{type:Boolean,default:!0},round:{type:Boolean,default:!1},teleportDisable:{type:Boolean,default:!1},safeAreaInsetBottom:{type:Boolean,default:!1},overlayClass:{type:String,default:""},overlayStyle:{type:Object,default:()=>({})}},{componentName:mN,create:gN}=Oe("popup"),t4=2e3;let Xv=t4;const vN=gN({components:{NutOverlay:rl,Close:$c},props:ol,emits:["clickPop","clickCloseIcon","open","close","opened","closed","clickOverlay","update:visible"],setup(e,{emit:t}){let n;const r=qe({zIndex:e.zIndex,showSlot:!0,closed:e.closeable}),o=F(()=>({[mN]:!0,round:e.round,[`nut-popup--${e.position}`]:!0,[`nut-popup--${e.position}--safebottom`]:e.position==="bottom"&&e.safeAreaInsetBottom,[e.popClass]:!0})),s=F(()=>Qv({zIndex:r.zIndex,transitionDuration:`${e.duration}s`},e.style)),i=F(()=>e.transition?e.transition:`nut-popup-slide-${e.position}`),a=()=>{n||(n=!0,e.zIndex!==t4&&(Xv=Number(e.zIndex)),t("update:visible",!0),r.zIndex=++Xv,e.destroyOnClose&&(r.showSlot=!0),t("open"))},l=()=>{n&&(n=!1,t("update:visible",!1),t("close"),e.destroyOnClose&&setTimeout(()=>{r.showSlot=!1},+e.duration*1e3))},u=w=>{t("clickPop",w)},c=w=>{w.stopPropagation(),t("clickCloseIcon",w),l()},f=w=>{t("clickOverlay",w),e.closeOnClickOverlay&&l()},h=w=>{t("opened",w)},m=w=>{t("closed",w)};return ve(()=>e.visible,()=>{e.visible&&!n&&a(),!e.visible&&n&&l()}),ni(()=>{r.closed=e.closeable}),pN(Qv({},rt(r)),{popStyle:s,transitionName:i,classes:o,onClick:u,onClickCloseIcon:c,onClickOverlay:f,onOpened:h,onClosed:m})}});function yN(e,t,n,r,o,s){const i=ue("nut-overlay"),a=ue("Close");return y(),ye(Nw,{to:e.teleport,disabled:!e.teleportDisable},[e.overlay?(y(),ye(i,ws({key:0,visible:e.visible,"close-on-click-overlay":e.closeOnClickOverlay,"z-index":e.zIndex,"lock-scroll":e.lockScroll,duration:e.duration,"overlay-class":e.overlayClass,"overlay-style":e.overlayStyle},e.$attrs,{onClick:e.onClickOverlay}),null,16,["visible","close-on-click-overlay","z-index","lock-scroll","duration","overlay-class","overlay-style","onClick"])):j("",!0),X(vh,{name:e.transitionName,onAfterEnter:e.onOpened,onAfterLeave:e.onClosed},{default:de(()=>[ct($("view",{class:z(e.classes),style:W(e.popStyle),onClick:t[1]||(t[1]=(...l)=>e.onClick&&e.onClick(...l))},[e.showSlot?U(e.$slots,"default",{key:0}):j("",!0),e.closed?(y(),T("view",{key:1,class:z(["nut-popup__close-icon","nut-popup__close-icon--"+e.closeIconPosition]),onClick:t[0]||(t[0]=(...l)=>e.onClickCloseIcon&&e.onClickCloseIcon(...l))},[U(e.$slots,"close-icon",{},()=>[X(a,{height:"12px"})])],2)):j("",!0)],6),[[jt,e.visible]])]),_:3},8,["name","onAfterEnter","onAfterLeave"])],8,["to","disabled"])}const Hn=Ne(vN,[["render",yN]]),_N=e=>({props:{theme:{type:String,default:""},themeVars:{type:Object,default:{}},tag:{type:String,default:e}},setup(t,{slots:n}){const r=a=>{if(!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(a))return"";a=a.toLowerCase(),a.length===4&&(a="#"+a.slice(1).split("").map(c=>c+c).join(""));const u=[];for(let c=1;c<7;c+=2)u.push(parseInt("0x"+a.slice(c,c+2)));return u.join(",")},o=a=>(a=a.replace(a.charAt(0),a.charAt(0).toLocaleLowerCase()),a.replace(/([a-z])([A-Z])/g,(l,u,c)=>u+"-"+c.toLowerCase())),s=a=>{if(!a)return;const l={},u=a==null?void 0:a.primaryColor;if(u){const c=r(u);l["--nut-address-region-tab-line"]=`linear-gradient(90deg, ${u} 0%, rgba(${c}, 0.15) 100%)`,l["--nut-tabs-horizontal-tab-line-color"]=`linear-gradient(90deg, ${u} 0%, rgba(${c}, 0.15) 100%)`,l["--nut-tabs-vertical-tab-line-color"]=`linear-gradient(180deg, ${u} 0%, rgba(${c}, 0.15) 100%)`}return Object.keys(a).forEach(c=>{l[`--nut-${o(c)}`]=a[c]}),l},i=F(()=>s(t.themeVars));return()=>{var a;return Ct(t.tag,{class:`nut-theme-${t.theme}`,style:i.value},(a=n.default)==null?void 0:a.call(n))}}}),{create:wN}=Oe("config-provider"),bN=wN(_N("div"));var $N=Object.defineProperty,TN=Object.defineProperties,SN=Object.getOwnPropertyDescriptors,Jv=Object.getOwnPropertySymbols,CN=Object.prototype.hasOwnProperty,EN=Object.prototype.propertyIsEnumerable,Zv=(e,t,n)=>t in e?$N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PN=(e,t)=>{for(var n in t||(t={}))CN.call(t,n)&&Zv(e,n,t[n]);if(Jv)for(var n of Jv(t))EN.call(t,n)&&Zv(e,n,t[n]);return e},IN=(e,t)=>TN(e,SN(t));const kN=["src","data-src","alt"],ON={key:0,class:"nut-img-loading"},AN={key:1,class:"nut-img-error"},n4=Le(IN(PN({},{name:"NutImage"}),{__name:"image",props:{src:{},fit:{default:"fill"},position:{default:"center"},alt:{default:""},width:{default:""},height:{default:""},round:{type:Boolean,default:!1},radius:{},showError:{type:Boolean,default:!0},showLoading:{type:Boolean,default:!0},lazyLoad:{type:Boolean,default:!1}},emits:["click","load","error"],setup(e,{emit:t}){const n=e,r=t,o=H(!0),s=H(!1),i=F(()=>{const p="nut-image";return{[p]:!0,[`${p}-round`]:n.round}}),a=H(null),l=H(!1),u=H(null),c=()=>{const p={threshold:[0],rootMargin:"0px"};a.value=new IntersectionObserver(g=>{g.forEach(b=>{b.isIntersecting&&(l.value=!0,a.value.disconnect())})},p),u.value&&a.value.observe(u.value)};tt(()=>{n.lazyLoad&&c()}),Ga(()=>{a.value&&a.value.disconnect()});const f=F(()=>{let p={};return n.width&&(p.width=Ht(n.width)),n.height&&(p.height=Ht(n.height)),n.radius!==void 0&&n.radius!==null&&(p.overflow="hidden",p.borderRadius=Ht(n.radius)),p}),h=F(()=>({objectFit:n.fit,objectPosition:n.position}));ve(()=>n.src,()=>{s.value=!1,o.value=!0});const m=()=>{s.value=!1,o.value=!1,r("load")},w=()=>{s.value=!0,o.value=!1,r("error")},C=p=>{r("click",p)};return(p,g)=>(y(),T("div",{class:z(i.value),style:W(f.value),onClick:C},[$("img",{ref_key:"imgRef",ref:u,class:"nut-img",src:p.lazyLoad?l.value?p.src:void 0:p.src,"data-src":p.lazyLoad?l.value?void 0:p.src:void 0,alt:p.alt,style:W(h.value),onLoad:m,onError:w},null,44,kN),o.value?(y(),T("div",ON,[U(p.$slots,"loading",{},()=>[X(Ae(c9),{width:"16px",height:"20px",name:"image"})])])):j("",!0),s.value&&!o.value?(y(),T("div",AN,[U(p.$slots,"error",{},()=>[X(Ae(s9),{width:"16px",height:"20px",name:"imageError"})])])):j("",!0)],6))}}));et(n4);const{create:DN}=Oe("layout"),r4=DN({});et(r4);const o4=Symbol("nut-layout");var RN=Object.defineProperty,NN=Object.defineProperties,VN=Object.getOwnPropertyDescriptors,ey=Object.getOwnPropertySymbols,LN=Object.prototype.hasOwnProperty,MN=Object.prototype.propertyIsEnumerable,ty=(e,t,n)=>t in e?RN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BN=(e,t)=>{for(var n in t||(t={}))LN.call(t,n)&&ty(e,n,t[n]);if(ey)for(var n of ey(t))MN.call(t,n)&&ty(e,n,t[n]);return e},FN=(e,t)=>NN(e,VN(t));const ny="nut-col",s4=Le(FN(BN({},{name:"NutCol"}),{__name:"col",props:{span:{default:24},offset:{default:0}},setup(e){const t=e,n=Lt(o4),r=F(()=>({[ny]:!0,[ny+"-gutter"]:n,["nut-col-"+t.span]:!0,["nut-col-offset-"+t.offset]:!0})),o=F(()=>({paddingLeft:n/2+"px",paddingRight:n/2+"px"}));return(s,i)=>(y(),T("view",{class:z(r.value),style:W(o.value)},[U(s.$slots,"default")],6))}}));et(s4);var jN=Object.defineProperty,xN=Object.defineProperties,UN=Object.getOwnPropertyDescriptors,ry=Object.getOwnPropertySymbols,zN=Object.prototype.hasOwnProperty,HN=Object.prototype.propertyIsEnumerable,oy=(e,t,n)=>t in e?jN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qN=(e,t)=>{for(var n in t||(t={}))zN.call(t,n)&&oy(e,n,t[n]);if(ry)for(var n of ry(t))HN.call(t,n)&&oy(e,n,t[n]);return e},WN=(e,t)=>xN(e,UN(t));const KN="nut-row",i4=Le(WN(qN({},{name:"NutRow"}),{__name:"row",props:{type:{default:""},gutter:{default:""},justify:{default:"start"},align:{default:"flex-start"},flexWrap:{default:"nowrap"}},setup(e){const t=e;hn(o4,t.gutter);const n=(o,s)=>o?s?`nut-row-${o}-${s}`:"":`nut-row-${s}`,r=F(()=>[KN,n("",t.type),n("justify",t.justify),n("align",t.align),n("flex",t.flexWrap)]);return(o,s)=>(y(),T("view",{class:z(r.value)},[U(o.$slots,"default")],2))}}));et(i4);const GN=/scroll|auto|overlay/i,a4=window;function YN(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function Ef(e,t=a4){let n=e;for(;n&&n!==t&&YN(n);){const{overflowY:r}=window.getComputedStyle(n);if(GN.test(r))return n;n=n.parentNode}return t}function l4(e,t=a4){const n=H();return tt(()=>{e.value&&(n.value=Ef(e.value,t))}),n}function QN(e){return typeof window<"u"&&e===window}const gr=e=>{const t=Ae(e);if(QN(t)){const n=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:n,bottom:r,width:n,height:r}}return t&&t.getBoundingClientRect?t.getBoundingClientRect():{top:0,left:0,right:0,bottom:0,width:0,height:0}},{create:XN}=Oe("sticky"),JN=XN({props:{position:{type:String,default:"top"},top:{type:[Number,String],default:0},bottom:{type:[Number,String],default:0},container:{type:Object,default:null},zIndex:{type:[Number,String],default:99}},emits:["change"],setup(e,{emit:t}){const n=H(),r=H(),o=qe({fixed:!1,height:0,width:0,transform:0}),s=F(()=>e.position==="top"?Number(e.top):Number(e.bottom)),i=F(()=>o.fixed?{height:`${o.height}px`}:{}),a=F(()=>o.fixed?{[e.position]:`${s.value}px`,height:`${o.height}px`,width:`${o.width}px`,transform:o.transform?`translate3d(0, ${o.transform}px, 0)`:void 0,position:o.fixed?"fixed":void 0,zIndex:Number(e.zIndex)}:{}),l=()=>{const u=e.container;if(!n.value&&!u)return;const c=gr(n),f=r.value,h=gr(f),m=gr(u);o.height=c.height,o.width=c.width;const w=()=>{let p=!1;if(e.position==="top")p=u?s.value>c.top&&m.bottom>0:s.value>c.top;else{const g=document.documentElement.clientHeight;p=u?m.bottom>0&&g-s.value-h.height>m.top:g-s.value<c.bottom}return p},C=()=>{if(u)if(e.position==="top"){const p=m.bottom-s.value-h.height;return p<0?p:0}else{const p=document.documentElement.clientHeight,g=m.bottom-(p-s.value);return g<0?g:0}return 0};o.transform=C(),o.fixed=w()};return ve(()=>o.fixed,u=>{t("change",u)}),tt(()=>{l(),Ef(n.value).addEventListener("scroll",l,!0)}),_r(()=>{Ef(n.value).removeEventListener("scroll",l)}),{rootRef:n,rootStyle:i,stickyRef:r,stickyStyle:a}}});function ZN(e,t,n,r,o,s){return y(),T("div",{ref:"rootRef",class:"nut-sticky",style:W(e.rootStyle)},[$("div",{ref:"stickyRef",class:"nut-sticky__box",style:W(e.stickyStyle)},[U(e.$slots,"default")],4)],4)}const u4=Ne(JN,[["render",ZN]]);var eV=Object.defineProperty,tV=Object.defineProperties,nV=Object.getOwnPropertyDescriptors,sy=Object.getOwnPropertySymbols,rV=Object.prototype.hasOwnProperty,oV=Object.prototype.propertyIsEnumerable,iy=(e,t,n)=>t in e?eV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sV=(e,t)=>{for(var n in t||(t={}))rV.call(t,n)&&iy(e,n,t[n]);if(sy)for(var n of sy(t))oV.call(t,n)&&iy(e,n,t[n]);return e},iV=(e,t)=>tV(e,nV(t));const c4=Le(iV(sV({},{name:"NutDivider"}),{__name:"divider",props:{contentPosition:{default:"center"},dashed:{type:Boolean,default:!1},hairline:{type:Boolean,default:!0},direction:{default:"horizontal"}},setup(e){const t=e,n=Ya(),r=F(()=>{const o="nut-divider";return t.direction==="horizontal"?{[o]:!0,[`${o}-center`]:n.default,[`${o}-left`]:t.contentPosition==="left",[`${o}-right`]:t.contentPosition==="right",[`${o}-dashed`]:t.dashed,[`${o}-hairline`]:t.hairline}:{[o]:!0,[`${o}-vertical`]:t.direction==="vertical"}});return(o,s)=>(y(),T("view",{class:z(r.value)},[o.direction==="horizontal"?U(o.$slots,"default",{key:0}):j("",!0)],2))}}));et(c4);var aV=Object.defineProperty,ay=Object.getOwnPropertySymbols,lV=Object.prototype.hasOwnProperty,uV=Object.prototype.propertyIsEnumerable,ly=(e,t,n)=>t in e?aV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cV=(e,t)=>{for(var n in t||(t={}))lV.call(t,n)&&ly(e,n,t[n]);if(ay)for(var n of ay(t))uV.call(t,n)&&ly(e,n,t[n]);return e};const hi=e=>{const t=qe([]),n=qe([]);return{children:t,linkChildren:o=>{hn(e,cV({unlink:a=>{if(a.proxy){const l=n.indexOf(a);l>-1&&n.splice(l,1);const u=t.indexOf(a.proxy);l>-1&&t.splice(u,1)}},link:a=>{a.proxy&&(n.push(a),t.push(a.proxy))},children:t,internalChildren:n},o))}}},d4=Symbol("grid");var dV=Object.defineProperty,fV=Object.defineProperties,hV=Object.getOwnPropertyDescriptors,uy=Object.getOwnPropertySymbols,pV=Object.prototype.hasOwnProperty,mV=Object.prototype.propertyIsEnumerable,cy=(e,t,n)=>t in e?dV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gV=(e,t)=>{for(var n in t||(t={}))pV.call(t,n)&&cy(e,n,t[n]);if(uy)for(var n of uy(t))mV.call(t,n)&&cy(e,n,t[n]);return e},vV=(e,t)=>fV(e,hV(t));const f4=Le(vV(gV({},{name:"NutGrid"}),{__name:"grid",props:{columnNum:{default:4},border:{type:Boolean,default:!0},gutter:{default:0},center:{type:Boolean,default:!0},square:{type:Boolean,default:!1},reverse:{type:Boolean,default:!1},direction:{},clickable:{type:Boolean,default:!1}},setup(e){const t=e,{linkChildren:n}=hi(d4);n({props:t});const r=F(()=>{const s="nut-grid";return{[s]:!0,[`${s}--border`]:t.border&&!t.gutter}}),o=F(()=>{const s={};return t.gutter&&(s.paddingLeft=Ht(t.gutter)),s});return(s,i)=>(y(),T("view",{class:z(r.value),style:W(o.value)},[U(s.$slots,"default")],6))}}));et(f4);const Pi=e=>{const t=Lt(e,null);if(t){const n=Mr(),{link:r,unlink:o,internalChildren:s}=t;r(n),_r(()=>{o(n)});const i=F(()=>s.indexOf(n));return{parent:t,index:i}}return{parent:t,index:F(()=>-1)}};var yV=Object.defineProperty,_V=Object.defineProperties,wV=Object.getOwnPropertyDescriptors,dy=Object.getOwnPropertySymbols,bV=Object.prototype.hasOwnProperty,$V=Object.prototype.propertyIsEnumerable,fy=(e,t,n)=>t in e?yV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TV=(e,t)=>{for(var n in t||(t={}))bV.call(t,n)&&fy(e,n,t[n]);if(dy)for(var n of dy(t))$V.call(t,n)&&fy(e,n,t[n]);return e},SV=(e,t)=>_V(e,wV(t));const CV={class:"nut-grid-item__text"},h4=Le(SV(TV({},{name:"NutGridItem"}),{__name:"grid-item",props:{text:{},to:{},url:{default:""},replace:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t}){const n=e,r=t,{parent:o,index:s}=Pi(d4),i=(o==null?void 0:o.props)||{},a=F(()=>{const f={flexBasis:`${100/+i.columnNum}%`};return i.square?f.paddingTop=`${100/+i.columnNum}%`:i.gutter&&(f.paddingRight=Ht(i.gutter),s.value>=+i.columnNum&&(f.marginTop=Ht(i.gutter))),f}),l=F(()=>{const f="nut-grid-item__content";return{[`${f}`]:!0,[`${f}--border`]:i.border,[`${f}--surround`]:i.border&&i.gutter,[`${f}--center`]:i.center,[`${f}--square`]:i.square,[`${f}--reverse`]:i.reverse,[`${f}--${i.direction}`]:!!i.direction,[`${f}--clickable`]:i.clickable||n.to||n.url}}),u=cp(),c=f=>{r("click",f),n.to&&u?u[n.replace?"replace":"push"](n.to):n.url&&(n.replace?location.replace(n.url):location.href=n.url)};return(f,h)=>(y(),T("view",{class:"nut-grid-item",style:W(a.value),onClick:c},[$("view",{class:z(l.value)},[U(f.$slots,"default"),$("view",CV,[f.text?(y(),T(le,{key:0},[Ie(x(f.text),1)],64)):U(f.$slots,"text",{key:1})])],2)],4))}}));et(h4);const{create:EV,componentName:rs}=Oe("space"),PV=EV({props:{align:String,direction:{type:String,default:"horizontal"},justify:String,wrap:Boolean,gutter:[Number,String,Array],fill:Boolean},setup(e,{slots:t}){const n=c=>typeof c=="number"?c+"px":c,r=c=>{const f={};if(!e.gutter)return f;const h=`${n(Array.isArray(e.gutter)?e.gutter[0]:e.gutter)}`,m=`${n(Array.isArray(e.gutter)?e.gutter[1]:e.gutter)}`;return c?e.wrap?{marginBottom:m}:{}:(e.direction==="horizontal"&&(f.marginRight=h),(e.direction==="vertical"||e.wrap)&&(f.marginBottom=m),f)},o=(c=[])=>{const f=[];return c.forEach(h=>{Array.isArray(h)?f.push(...h):h.type===le?f.push(...o(h.children)):f.push(h)}),f.filter(h=>{var m;return!(h&&(h.type===Dn||h.type===le&&((m=h.children)==null?void 0:m.length)===0||h.type===Qa&&h.children.trim()===""))})},{direction:s,wrap:i,fill:a,justify:l,align:u}=e;return()=>{var c;const f=o((c=t.default)==null?void 0:c.call(t)),h=()=>f.map((m,w)=>Ct("div",{class:`${rs}-item`,style:r(w===f.length-1)},m));return Ct("div",{class:[rs,s&&`${rs}-${s}`,u&&`${rs}-align-${u}`,l&&`${rs}-justify-${l}`,i&&`${rs}-wrap`,a&&`${rs}-fill`]},h())}}});var IV=Object.defineProperty,kV=Object.defineProperties,OV=Object.getOwnPropertyDescriptors,hy=Object.getOwnPropertySymbols,AV=Object.prototype.hasOwnProperty,DV=Object.prototype.propertyIsEnumerable,py=(e,t,n)=>t in e?IV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RV=(e,t)=>{for(var n in t||(t={}))AV.call(t,n)&&py(e,n,t[n]);if(hy)for(var n of hy(t))DV.call(t,n)&&py(e,n,t[n]);return e},NV=(e,t)=>kV(e,OV(t));const VV={key:1,class:"nut-navbar__text"},LV={class:"nut-navbar__title"},MV={key:0,class:"nut-navbar__text"},p4=Le(NV(RV({},{name:"NutNavbar"}),{__name:"navbar",props:{leftShow:{type:Boolean,default:!1},title:{default:""},titleIcon:{type:Boolean,default:!1},leftText:{default:""},desc:{default:""},fixed:{type:Boolean,default:!1},safeAreaInsetTop:{type:Boolean,default:!1},border:{type:Boolean,default:!1},placeholder:{type:Boolean,default:!0},zIndex:{default:10}},emits:["clickBack","clickTitle","clickIcon","clickRight","onClickBack","onClickTitle","onClickIcon","onClickRight"],setup(e,{emit:t}){const n=e,r=t,o=H("auto"),s=H(),i=F(()=>{const m="nut-navbar";return{[m]:!0,[`${m}--border`]:n.border,[`${m}--fixed`]:n.fixed,[`${m}--safe-area-inset-top`]:n.safeAreaInsetTop}}),a=F(()=>n.fixed&&n.placeholder?{height:o.value}:{}),l=()=>{if(s.value){const m=s.value.getBoundingClientRect();o.value=`${m.height}px`}};tt(()=>{n.fixed&&n.placeholder&&Et(()=>{l()})});const u=()=>{r("clickBack"),r("onClickBack")},c=()=>{r("clickTitle"),r("onClickTitle")},f=()=>{r("clickIcon"),r("onClickIcon")},h=()=>{r("clickRight"),r("onClickRight")};return(m,w)=>(y(),T("view",{class:"nut-navbar--placeholder",style:W(a.value)},[$("view",{ref_key:"navbarRef",ref:s,class:z(i.value),style:W({zIndex:m.zIndex})},[$("view",{class:"nut-navbar__left",onClick:u},[m.leftShow?U(m.$slots,"left-show",{key:0},()=>[X(Ae(lp),{height:"12px",color:"#979797"})]):j("",!0),m.leftText?(y(),T("view",VV,x(m.leftText),1)):j("",!0),U(m.$slots,"left")]),$("view",LV,[m.title?(y(),T("view",{key:0,class:"title",onClick:c},x(m.title),1)):j("",!0),m.titleIcon?(y(),T("view",{key:1,class:"icon",onClick:f},[U(m.$slots,"title-icon",{onClick:f})])):j("",!0),U(m.$slots,"content")]),$("view",{class:"nut-navbar__right",onClick:h},[m.desc?(y(),T("view",MV,x(m.desc),1)):j("",!0),U(m.$slots,"right")])],6)],4))}}));et(p4);class m4{}var BV=Object.defineProperty,FV=(e,t,n)=>t in e?BV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ot=(e,t,n)=>FV(e,typeof t!="symbol"?t+"":t,n);let jV=class extends m4{constructor(){super(...arguments),Ot(this,"save","保存"),Ot(this,"confirm","确认"),Ot(this,"cancel","取消"),Ot(this,"done","完成"),Ot(this,"noData","暂无数据"),Ot(this,"placeholder","请输入"),Ot(this,"select","请选择"),Ot(this,"video",{errorTip:"视频加载失败",clickRetry:"点击重试"}),Ot(this,"fixednav",{activeText:"收起导航",unActiveText:"快速导航"}),Ot(this,"pagination",{prev:"上一页",next:"下一页"}),Ot(this,"calendaritem",{weekdays:["日","一","二","三","四","五","六"],end:"结束",start:"开始",title:"日期选择",monthTitle:(t,n)=>`${t}年${n}月`,today:"今天"}),Ot(this,"calendarcard",{weekdays:["日","一","二","三","四","五","六"],end:"结束",start:"开始",title:"日期选择",monthTitle:(t,n)=>`${t}年${n}月`,today:"今天"}),Ot(this,"shortpassword",{title:"请输入密码",desc:"您使用了虚拟资产，请进行验证",tips:"忘记密码"}),Ot(this,"uploader",{ready:"准备完成",readyUpload:"准备上传",waitingUpload:"等待上传",uploading:"上传中",success:"上传成功",error:"上传失败"}),Ot(this,"countdown",{day:"天",hour:"时",minute:"分",second:"秒"}),Ot(this,"address",{selectRegion:"请选择所在地区",deliveryTo:"配送至",chooseAnotherAddress:"选择其他地址"}),Ot(this,"signature",{reSign:"重签",unSupportTpl:"对不起，当前浏览器不支持Canvas，无法使用本控件！"}),Ot(this,"ecard",{chooseText:"请选择电子卡面值",otherValueText:"其他面值",placeholder:"请输入1-5000整数"}),Ot(this,"timeselect",{pickupTime:"取件时间"}),Ot(this,"sku",{buyNow:"立即购买",buyNumber:"购买数量",addToCart:"加入购物车"}),Ot(this,"skuheader",{skuId:"商品编号"}),Ot(this,"addresslist",{addAddress:"新建地址",default:"默认"}),Ot(this,"comment",{complaintsText:"我要投诉",additionalReview:t=>`购买${t}天后追评`,additionalImages:t=>`${t}张追评图片`}),Ot(this,"infiniteloading",{loading:"加载中...",pullTxt:"松开刷新",loadMoreTxt:"哎呀，这里是底部了啦"}),Ot(this,"datepicker",{year:"年",month:"月",day:"日",hour:"时",min:"分",seconds:"秒"}),Ot(this,"audiooperate",{back:"倒退",start:"开始",pause:"暂停",forward:"快进",mute:"静音"}),Ot(this,"pullrefresh",{pulling:"下拉刷新",loosing:"释放刷新",loading:"加载中...",complete:"刷新成功"})}};var xV=Object.defineProperty,UV=(e,t,n)=>t in e?xV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,At=(e,t,n)=>UV(e,typeof t!="symbol"?t+"":t,n);class zV extends m4{constructor(){super(...arguments),At(this,"save","Save"),At(this,"confirm","Confirm"),At(this,"cancel","Cancel"),At(this,"done","Done"),At(this,"noData","No Data"),At(this,"placeholder","Placeholder"),At(this,"select","Select"),At(this,"video",{errorTip:"Error Tip",clickRetry:"Click Retry"}),At(this,"fixednav",{activeText:"Close Nav",unActiveText:"Open Nav"}),At(this,"pagination",{prev:"Previous",next:"Next"}),At(this,"calendaritem",{weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],end:"End",start:"Start",title:"Calendar",monthTitle:(t,n)=>`${t}/${n}`,today:"Today"}),At(this,"calendarcard",{weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],end:"End",start:"Start",title:"Calendar",monthTitle:(t,n)=>`${t}/${n}`,today:"Today"}),At(this,"shortpassword",{title:"Please input a password",desc:"Verify",tips:"Forget password"}),At(this,"uploader",{ready:"Ready",readyUpload:"Ready to upload",waitingUpload:"Waiting for upload",uploading:"Uploading",success:"Upload successful",error:"Upload failed"}),At(this,"countdown",{day:" Day ",hour:" Hour ",minute:" Minute ",second:" Second "}),At(this,"address",{selectRegion:"Select Region",deliveryTo:"Delivery To",chooseAnotherAddress:"Choose Another Address"}),At(this,"signature",{reSign:"Re Sign",unSupportTpl:"Sorry, the current browser doesn't support canvas, so we can't use this control!"}),At(this,"ecard",{chooseText:"Select",otherValueText:"Other Value",placeholder:"Placeholder"}),At(this,"timeselect",{pickupTime:"Pickup Time"}),At(this,"sku",{buyNow:"Buy Now",buyNumber:"Buy Number",addToCart:"Add to Cart"}),At(this,"skuheader",{skuId:"Sku Number"}),At(this,"addresslist",{addAddress:"Add New Address",default:"default"}),At(this,"comment",{complaintsText:"I have a complaint",additionalReview:t=>`Review after ${t} days of purchase`,additionalImages:t=>`There are ${t} follow-up comments`}),At(this,"infiniteloading",{loading:"Loading...",pullTxt:"Loose to refresh",loadMoreTxt:"Oops, this is the bottom"}),At(this,"datepicker",{year:"Year",month:"Month",day:"Day",hour:"Hour",min:"Minute",seconds:"Second"}),At(this,"audiooperate",{back:"Back",start:"Start",pause:"Pause",forward:"Forward",mute:"Mute"}),At(this,"pullrefresh",{pulling:"Pull to refresh...",loosing:"Loose to refresh...",loading:"Loading...",complete:"Refresh successfully"})}}var HV=Object.defineProperty,qV=(e,t,n)=>t in e?HV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WV=(e,t,n)=>qV(e,t+"",n);const my=e=>e!==null&&typeof e=="object",g4=(e,t)=>(Object.keys(t).forEach(n=>{const r=e[n],o=t[n];my(r)&&my(o)?g4(r,o):e[n]=o}),e),Ml=qe({"zh-CN":new jV,"en-US":new zV});class v4{static languages(){return Ml[this.currentLang.value]}static use(t,n){n&&(Ml[t]=new n),this.currentLang.value=t}static merge(t,n){n&&(Ml[t]?g4(Ml[t],n):this.use(t,n))}}WV(v4,"currentLang",H("zh-CN"));const It=(e="")=>(t,...n)=>{e=e.toLocaleLowerCase();const r=v4.languages();let o=t;e&&e.startsWith("nut")&&(o=`${e.slice(3)}.${t}`);const s=Cf(r,o)||Cf(r,t);return Vu(s)?s(...n):s},{create:KV}=Oe("fixed-nav"),GV="NutFixedNav",YV=KV({components:{NutOverlay:rl,Left:lp},props:{visible:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},navList:{default:()=>[],type:Array},activeColor:{default:"",type:String},activeText:{default:"",type:String},unActiveText:{default:"",type:String},position:{default:()=>({top:"auto",bottom:"auto"}),type:Object},type:{default:"right",type:String}},emits:["update:visible","selected"],setup(e,{emit:t}){const n=It(GV),r=F(()=>({["nut-fixed-nav"]:!0,active:e.visible,[e.type]:!0})),o=H(-1);return{classes:r,updateValue:(a=!e.visible)=>{t("update:visible",a)},selected:(a,l)=>{t("selected",{item:a,event:l}),o.value=a.id},translate:n,current:o}}}),QV={class:"nut-fixed-nav__list"},XV=["onClick"],JV=["src"],ZV={class:"span"},eL={key:0,class:"b"},tL={class:"text"};function nL(e,t,n,r,o,s){const i=ue("nut-overlay"),a=ue("Left");return y(),T("view",{class:z(e.classes),style:W(e.position)},[e.overlay?(y(),ye(i,{key:0,visible:e.visible,"z-index":200,onClick:t[0]||(t[0]=l=>e.updateValue(!1))},null,8,["visible"])):j("",!0),U(e.$slots,"list",{},()=>[$("view",QV,[(y(!0),T(le,null,Re(e.navList,(l,u)=>(y(),T("view",{key:l.id||u,class:z(["nut-fixed-nav__list-item",{active:l.id==e.current}]),onClick:c=>e.selected(l,c)},[$("img",{src:l.icon},null,8,JV),$("view",ZV,x(l.text),1),l.num?(y(),T("view",eL,x(l.num),1)):j("",!0)],10,XV))),128))])]),$("div",{class:"nut-fixed-nav__btn",onClick:t[1]||(t[1]=l=>e.updateValue())},[U(e.$slots,"btn",{},()=>[X(a,{color:"#fff"}),$("view",tL,x(e.visible?e.activeText||e.translate("activeText"):e.unActiveText||e.translate("unActiveText")),1)])])],6)}const rL=Ne(YV,[["render",nL]]),y4=Symbol("nut-menu"),{componentName:oL,create:sL}=Oe("menu"),iL=sL({components:{RectUp:kD,RectDown:SD},props:{activeColor:{type:String,default:""},overlay:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},duration:{type:[Number,String],default:.3},closeOnClickOverlay:{type:Boolean,default:!0},direction:{type:String,default:"down"},scrollFixed:{type:[Boolean,String,Number],default:!1},titleClass:{type:String,default:""}},setup(e){const t=H(),n=H(0),r=H(!1),{children:o,linkChildren:s}=hi(y4),i=F(()=>o.some(m=>m.state.showWrapper)),a=F(()=>({[oL]:!0,"scroll-fixed":r.value})),l=()=>{if(t.value){const m=gr(t);e.direction==="down"?n.value=m.bottom:n.value=window.innerHeight-m.top}};s({props:e,offset:n});const u=m=>{o.forEach((w,C)=>{C===m?(l(),w.toggle()):w.state.showPopup&&w.toggle(!1,{immediate:!0})})},c=m=>Math.max(0,"scrollTop"in m?m.scrollTop:m.pageYOffset),f=()=>{const{scrollFixed:m}=e,w=c(window);r.value=w>(typeof m=="boolean"?30:Number(m))},h=m=>{let w="";const{titleClass:C}=e;return m&&(w+="active"),C&&(w+=` ${C}`),w};return tt(()=>{const{scrollFixed:m}=e;m&&window.addEventListener("scroll",f)}),_r(()=>{const{scrollFixed:m}=e;m&&window.removeEventListener("scroll",f)}),{toggleItem:u,children:o,opened:i,classes:a,barRef:t,getClasses:h}}}),aL=["onClick"],lL={class:"nut-menu__title-text"},uL={class:"nut-menu__title-icon"};function cL(e,t,n,r,o,s){const i=ue("RectUp"),a=ue("RectDown");return y(),T("view",{class:z(e.classes)},[$("view",{ref:"barRef",class:z(["nut-menu__bar",{opened:e.opened}])},[(y(!0),T(le,null,Re(e.children,(l,u)=>(y(),T("view",{key:u,class:z(["nut-menu__item",{disabled:l.disabled,active:l.state.showPopup}]),style:W({color:l.state.showPopup?e.activeColor:""}),onClick:c=>!l.disabled&&e.toggleItem(u)},[$("view",{class:z(["nut-menu__title",e.getClasses(l.state.showPopup)])},[$("view",lL,x(l.renderTitle()),1),$("span",uL,[U(e.$slots,"icon",{},()=>[e.direction==="up"?(y(),ye(i,{key:0})):(y(),ye(a,{key:1}))])])],2)],14,aL))),128))],2),U(e.$slots,"default")],2)}const dL=Ne(iL,[["render",cL]]);var fL=Object.defineProperty,hL=Object.defineProperties,pL=Object.getOwnPropertyDescriptors,gy=Object.getOwnPropertySymbols,mL=Object.prototype.hasOwnProperty,gL=Object.prototype.propertyIsEnumerable,vy=(e,t,n)=>t in e?fL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yy=(e,t)=>{for(var n in t||(t={}))mL.call(t,n)&&vy(e,n,t[n]);if(gy)for(var n of gy(t))gL.call(t,n)&&vy(e,n,t[n]);return e},_y=(e,t)=>hL(e,pL(t));const{create:vL}=Oe("menu-item"),yL=vL({props:{title:String,options:{type:Array,default:[]},disabled:{type:Boolean,default:!1},modelValue:null,cols:{type:Number,default:1},activeTitleClass:String,inactiveTitleClass:String},components:{NutPopup:Hn,Check:K$},emits:["update:modelValue","change","open","close"],setup(e,{emit:t}){const n=qe({showPopup:!1,showWrapper:!1}),{parent:r}=Pi(y4),o=F(()=>r.props.direction==="down"?{top:r.offset.value+"px"}:{bottom:r.offset.value+"px"}),s=F(()=>{const f={height:r.offset.value+"px"};return r.props.direction==="down"?_y(yy({},f),{top:"0px"}):_y(yy({},f),{bottom:"0px"})});return{style:o,placeholderElementStyle:s,renderTitle:()=>{var f;if(e.title)return e.title;const h=(f=e.options)==null?void 0:f.find(m=>m.value===e.modelValue);return h?h.text:""},state:n,parent:r,toggle:(f=!n.showPopup)=>{f!==n.showPopup&&(n.showPopup=f,f&&(n.showWrapper=!0,t("open")))},onClick:f=>{n.showPopup=!1,f.value!==e.modelValue&&(t("update:modelValue",f.value),t("change",f.value))},handleClose:()=>{t("close"),n.showWrapper=!1},handleClickOutside:()=>{n.showPopup=!1,t("close")}}}}),_L={class:"nut-menu-item__content nut-menu-item__overflow"},wL=["onClick"];function bL(e,t,n,r,o,s){const i=ue("Check"),a=ue("nut-popup");return ct((y(),T("view",{class:"nut-menu-item",style:W(e.style)},[ct($("div",{class:"nut-menu-item-placeholder-element",style:W(e.placeholderElementStyle),onClick:t[0]||(t[0]=(...l)=>e.handleClickOutside&&e.handleClickOutside(...l))},null,4),[[jt,e.state.showPopup]]),X(a,ws(e.$attrs,{visible:e.state.showPopup,"onUpdate:visible":t[1]||(t[1]=l=>e.state.showPopup=l),style:{position:"absolute"},"overlay-style":{position:"absolute"},position:e.parent.props.direction==="down"?"top":"bottom",duration:e.parent.props.duration,"destroy-on-close":!1,overlay:e.parent.props.overlay,"lock-scroll":e.parent.props.lockScroll,"teleport-disable":!1,"close-on-click-overlay":e.parent.props.closeOnClickOverlay,onClosed:e.handleClose}),{default:de(()=>[$("view",_L,[(y(!0),T(le,null,Re(e.options,(l,u)=>(y(),T("view",{key:u,class:z(["nut-menu-item__option",[{active:l.value===e.modelValue}]]),style:W({"flex-basis":100/e.cols+"%"}),onClick:c=>e.onClick(l)},[l.value===e.modelValue?(y(),T("span",{key:0,class:z(["nut-menu-item__span",[l.value===e.modelValue?e.activeTitleClass:e.inactiveTitleClass]])},[U(e.$slots,"icon",{},()=>[X(i,ws({ref_for:!0},e.$attrs,{color:e.parent.props.activeColor}),null,16,["color"])])],2)):j("",!0),$("view",{class:z([l.value===e.modelValue?e.activeTitleClass:e.inactiveTitleClass]),style:W({color:l.value===e.modelValue?e.parent.props.activeColor:""})},x(l.text),7)],14,wL))),128)),U(e.$slots,"default")])]),_:3},16,["visible","position","duration","overlay","lock-scroll","close-on-click-overlay","onClosed"])],4)),[[jt,e.state.showWrapper]])}const $L=Ne(yL,[["render",bL]]),_4=Symbol("nut-tabbar");var TL=Object.defineProperty,SL=Object.defineProperties,CL=Object.getOwnPropertyDescriptors,wy=Object.getOwnPropertySymbols,EL=Object.prototype.hasOwnProperty,PL=Object.prototype.propertyIsEnumerable,by=(e,t,n)=>t in e?TL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,IL=(e,t)=>{for(var n in t||(t={}))EL.call(t,n)&&by(e,n,t[n]);if(wy)for(var n of wy(t))PL.call(t,n)&&by(e,n,t[n]);return e},kL=(e,t)=>SL(e,CL(t)),OL=(e,t,n)=>new Promise((r,o)=>{var s=l=>{try{a(n.next(l))}catch(u){o(u)}},i=l=>{try{a(n.throw(l))}catch(u){o(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,i);a((n=n.apply(e,t)).next())});const w4=Le(kL(IL({},{name:"NutTabbar"}),{__name:"tabbar",props:{modelValue:{default:0},bottom:{type:Boolean,default:!1},unactiveColor:{default:""},activeColor:{default:""},safeAreaInsetBottom:{type:Boolean,default:!1},placeholder:{type:Boolean,default:!1},beforeSwitch:{type:Function,default:()=>!0}},emits:["tabSwitch","update:modelValue"],setup(e,{emit:t}){const n=e,r=t,o=H(),s=H(null),i=H(n.modelValue),a=F(()=>({["nut-tabbar"]:!0,"nut-tabbar-bottom":n.bottom,"nut-tabbar-safebottom":n.safeAreaInsetBottom})),{children:l,linkChildren:u}=hi(_4);return u({props:n,activeIndex:i,changeIndex:(h,m)=>OL(this,null,function*(){if((yield n.beforeSwitch(l[h],m))===!1)return Promise.reject();i.value=m,r("update:modelValue",m),r("tabSwitch",l[h],m)})}),ve(()=>n.modelValue,h=>{i.value=h}),tt(()=>{n.bottom&&n.placeholder&&Et(()=>{var h;const m=(h=s.value)==null?void 0:h.getBoundingClientRect().height;m&&(o.value=m)})}),(h,m)=>(y(),T("div",{class:z({"nut-tabbar__placeholder":h.bottom&&h.placeholder}),style:W({height:o.value+"px"})},[$("view",{ref_key:"nutTabbar",ref:s,class:z(a.value)},[U(h.$slots,"default")],2)],6))}}));et(w4);const Lo=(e,t)=>e?Ct(e,t):"";var AL=Object.defineProperty,DL=Object.defineProperties,RL=Object.getOwnPropertyDescriptors,$y=Object.getOwnPropertySymbols,NL=Object.prototype.hasOwnProperty,VL=Object.prototype.propertyIsEnumerable,Ty=(e,t,n)=>t in e?AL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,LL=(e,t)=>{for(var n in t||(t={}))NL.call(t,n)&&Ty(e,n,t[n]);if($y)for(var n of $y(t))VL.call(t,n)&&Ty(e,n,t[n]);return e},ML=(e,t)=>DL(e,RL(t));const BL={class:"nut-badge"},hp=Le(ML(LL({},{name:"NutBadge"}),{__name:"badge",props:{value:{},max:{default:1e4},dot:{type:Boolean,default:!1},bubble:{type:Boolean,default:!1},hidden:{type:Boolean,default:!1},top:{default:"0"},right:{default:"0"},zIndex:{default:9},color:{default:""}},setup(e){const t=e,n=F(()=>({top:`${t.top}px`,right:`${t.right}px`,zIndex:t.zIndex,background:t.color})),r=F(()=>{if(t.dot)return;const o=t.value,s=t.max;return typeof o=="number"&&typeof s=="number"&&s<o?`${s}+`:o});return(o,s)=>(y(),T("view",BL,[ct($("view",{class:"nut-badge__icon",style:W(n.value)},[U(o.$slots,"icon")],4),[[jt,!o.hidden&&!o.dot&&o.$slots.icon]]),U(o.$slots,"default"),ct($("view",{class:z(["nut-badge__content nut-badge__content--sup",{"nut-badge__content--dot":o.dot,"nut-badge__content--bubble":!o.dot&&o.bubble}]),style:W(n.value)},x(r.value),7),[[jt,!o.hidden&&(r.value||o.dot)]])]))}}));et(hp);var FL=Object.defineProperty,jL=Object.defineProperties,xL=Object.getOwnPropertyDescriptors,Sy=Object.getOwnPropertySymbols,UL=Object.prototype.hasOwnProperty,zL=Object.prototype.propertyIsEnumerable,Cy=(e,t,n)=>t in e?FL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HL=(e,t)=>{for(var n in t||(t={}))UL.call(t,n)&&Cy(e,n,t[n]);if(Sy)for(var n of Sy(t))zL.call(t,n)&&Cy(e,n,t[n]);return e},qL=(e,t)=>jL(e,xL(t)),WL=(e,t,n)=>new Promise((r,o)=>{var s=l=>{try{a(n.next(l))}catch(u){o(u)}},i=l=>{try{a(n.throw(l))}catch(u){o(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,i);a((n=n.apply(e,t)).next())});const KL={class:"nut-tabbar-item_icon-box"},GL={key:0,class:"nut-tabbar-item_icon-box_icon"},YL={key:1},QL={key:0},b4=Le(qL(HL({},{name:"NutTabbarItem"}),{__name:"tabbar-item",props:{tabTitle:{default:""},name:{},icon:{},href:{default:""},to:{}},setup(e){const t=e,n=cp(),{parent:r,index:o}=Pi(_4),s=F(()=>{var l;return((l=t.name)!=null?l:o.value)===r.activeIndex.value}),i=F(()=>s.value?r.props.activeColor:r.props.unactiveColor),a=()=>WL(this,null,function*(){var l,u,c;try{const f=(l=t.name)!=null?l:o.value;if(yield r.changeIndex(o.value,f),(u=r.children[o.value])!=null&&u.href){window.location.href=r.children[o.value].href;return}if((c=r.children[o.value])!=null&&c.to){const h=r.children[o.value].to;h&&n?n.push(h):location.replace(h)}}catch{}});return(l,u)=>(y(),T("div",{class:z(["nut-tabbar-item",{"nut-tabbar-item__icon--unactive":!s.value}]),style:W({color:i.value}),onClick:a},[X(Ae(hp),R3(cb(l.$attrs)),{default:de(()=>[$("view",KL,[l.$slots.icon?(y(),T("div",GL,[U(l.$slots,"icon",{active:s.value})])):j("",!0),l.icon&&!l.$slots.icon?(y(),T("view",YL,[(y(),ye(Yn(Ae(Lo)(l.icon)),{class:"nut-popover-item-img"}))])):j("",!0),$("view",{class:z(["nut-tabbar-item_icon-box_nav-word",{"nut-tabbar-item_icon-box_big-word":!l.icon&&!l.$slots.icon}])},[U(l.$slots,"default",{},()=>[l.tabTitle?(y(),T("view",QL,x(l.tabTitle),1)):j("",!0)])],2)])]),_:3},16)],6))}}));et(b4);var XL=Object.defineProperty,JL=Object.defineProperties,ZL=Object.getOwnPropertyDescriptors,Ey=Object.getOwnPropertySymbols,eM=Object.prototype.hasOwnProperty,tM=Object.prototype.propertyIsEnumerable,Py=(e,t,n)=>t in e?XL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nM=(e,t)=>{for(var n in t||(t={}))eM.call(t,n)&&Py(e,n,t[n]);if(Ey)for(var n of Ey(t))tM.call(t,n)&&Py(e,n,t[n]);return e},rM=(e,t)=>JL(e,ZL(t));const{create:oM}=Oe("elevator"),sM=oM({props:{height:{type:[Number,String],default:"200px"},acceptKey:{type:[String],default:"title"},indexList:{type:Array,default:()=>[]},isSticky:{type:[Boolean],default:!1},spaceHeight:{type:[Number],default:23},titleHeight:{type:[Number],default:35}},emits:["clickItem","clickIndex","change"],setup(e,{emit:t,expose:n}){const r=H(null),o=qe({anchorIndex:0,codeIndex:0,listHeight:[],listGroup:[],touchState:{y1:0,y2:0},scrollStart:!1,currentIndex:0,currentData:{},currentKey:"",scrollY:0,diff:-1,fixedTop:0}),s=F(()=>r.value.clientHeight),i=(p,g)=>p.getAttribute("data-"+g),a=p=>{Et(()=>{!o.listGroup.includes(p)&&p!=null&&o.listGroup.push(p)})},l=()=>{let p=0;o.listHeight.push(p);for(let g=0;g<o.listGroup.length;g++){let b=o.listGroup[g];p+=Math.floor(b.clientHeight),o.listHeight.push(p)}},u=p=>{!p&&p!==0||(p<0&&(p=0),p>o.listHeight.length-2&&(p=o.listHeight.length-2),o.codeIndex=p,r.value.scrollTo(0,o.listHeight[p]))},c=p=>{o.scrollStart=!0;let g=i(p.target,"index"),b=p.touches[0];o.touchState.y1=b.pageY,o.anchorIndex=+g,o.codeIndex=+g,u(+g)},f=p=>{let g=p.touches[0];o.touchState.y2=g.pageY;let b=(o.touchState.y2-o.touchState.y1)/e.spaceHeight|0;o.codeIndex=o.anchorIndex+b,u(o.codeIndex)},h=()=>{o.scrollStart=!1},m=(p,g)=>{t("clickItem",p,g),o.currentData=g,o.currentKey=p},w=p=>{t("clickIndex",p)},C=p=>{let b=p.target.scrollTop;const O=o.listHeight;o.scrollY=b;for(let A=0;A<O.length-1;A++){let L=O[A],N=O[A+1];if(o.scrollY>=L&&o.scrollY<N){o.currentIndex=A,o.diff=N-o.scrollY;return}}o.currentIndex=O.length-2};return tt(()=>{r.value&&r.value.addEventListener("scroll",C)}),n({scrollTo:u}),ve(()=>o.listGroup.length,()=>{o.listHeight=[],Et(l)}),ve(()=>o.diff,p=>{const g=o.listHeight;let b=p>0&&p<e.titleHeight?p-e.titleHeight:0;o.scrollY+s.value===g[g.length-1]&&b!==0&&(b=0),o.fixedTop!==b&&(o.fixedTop=b)}),ve(()=>o.currentIndex,p=>{t("change",p)}),rM(nM({},rt(o)),{clientHeight:s,setListGroup:a,listview:r,touchStart:c,touchMove:f,touchEnd:h,handleClickItem:m,handleClickIndex:w})}}),iM={class:"nut-elevator"},aM={class:"nut-elevator__list__item__code"},lM=["onClick"],uM=["innerHTML"],cM={class:"nut-elevator__list__fixed"},dM={class:"nut-elevator__list__fixed-title"},fM={class:"nut-elevator__bars__inner"},hM=["data-index","onClick"];function pM(e,t,n,r,o,s){var i,a;return y(),T("view",iM,[$("view",{ref:"listview",class:"nut-elevator__list",style:W({height:isNaN(+e.height)?e.height:`${e.height}px`})},[(y(!0),T(le,null,Re(e.indexList,l=>(y(),T("view",{key:l[e.acceptKey],ref_for:!0,ref:e.setListGroup,class:"nut-elevator__list__item"},[$("view",aM,x(l[e.acceptKey]),1),(y(!0),T(le,null,Re(l.list,u=>(y(),T("view",{key:u.id,class:z(["nut-elevator__list__item__name",{"nut-elevator__list__item__name--highcolor":e.currentData.id===u.id&&e.currentKey===l[e.acceptKey]}]),onClick:c=>e.handleClickItem(l[e.acceptKey],u)},[e.$slots.default?U(e.$slots,"default",{key:1,item:u}):(y(),T("span",{key:0,innerHTML:u.name},null,8,uM))],10,lM))),128))]))),128))],4),ct($("view",cM,[$("view",dM,x((a=(i=e.indexList)==null?void 0:i[e.currentIndex])==null?void 0:a[e.acceptKey]),1)],512),[[jt,e.scrollY>0&&e.isSticky]]),e.indexList.length?ct((y(),T("view",{key:0,class:"nut-elevator__code--current"},x(e.indexList[e.codeIndex][e.acceptKey]),513)),[[jt,e.scrollStart]]):j("",!0),$("view",{class:"nut-elevator__bars",onTouchstart:t[0]||(t[0]=(...l)=>e.touchStart&&e.touchStart(...l)),onTouchmove:t[1]||(t[1]=Vt((...l)=>e.touchMove&&e.touchMove(...l),["stop","prevent"])),onTouchend:t[2]||(t[2]=(...l)=>e.touchEnd&&e.touchEnd(...l))},[$("view",fM,[(y(!0),T(le,null,Re(e.indexList,(l,u)=>(y(),T("view",{key:l[e.acceptKey],class:z(["nut-elevator__bars__inner__item",{active:l[e.acceptKey]===e.indexList[e.currentIndex][e.acceptKey]}]),"data-index":u,onClick:c=>e.handleClickIndex(l[e.acceptKey])},x(l[e.acceptKey]),11,hM))),128))])],32)])}const $4=Ne(sM,[["render",pM]]),{create:mM}=Oe("pagination"),gM="NutPagination",vM=mM({props:{modelValue:{type:Number,default:1},mode:{type:String,default:"multi"},prevText:{type:String,default:""},nextText:{type:String,default:""},pageCount:{type:[String,Number],default:""},totalItems:{type:[String,Number],default:"0"},itemsPerPage:{type:[String,Number],default:"10"},showPageSize:{type:[String,Number],default:"5"},forceEllipses:{type:Boolean,default:!1}},components:{},emits:["change","update:modelValue"],setup(e,{emit:t}){const n=It(gM),{modelValue:r,mode:o,showPageSize:s,forceEllipses:i}=rt(e),a=F(()=>{const{pageCount:f,totalItems:h,itemsPerPage:m}=rt(e),w=+f.value||Math.ceil(+h.value/+m.value);return Math.max(1,w)}),l=(f,h)=>{f>a.value||f<1||(f!=r.value&&t("update:modelValue",f),h&&t("change",f))},u=(f,h,m=!1)=>({number:f,text:h,active:m}),c=F(()=>{if(o.value=="simple")return;let f=[];const h=a.value,m=+s.value;let w=1,C=h;const p=h>m;p&&(w=Math.max(r.value-Math.floor(m/2),1),C=w+ +m-1,C>h&&(C=h,w=C-+m+1));for(var g=w;g<=C;g++){const b=u(g,g,r.value==g);f.push(b)}if(p&&m>0&&i.value){if(w>1){const b=u(w-1,"...");f.unshift(b)}if(C<h){const b=u(C+1,"...");f.push(b)}}return f});return ni(()=>{l(r.value,!1)}),{modelValue:r,select:l,countRef:a,mode:o,pages:c,forceEllipses:i,translate:n}}}),yM={class:"nut-pagination"},_M={key:0,class:"nut-pagination-contain"},wM=["onClick"],bM={key:1,class:"nut-pagination-contain"},$M={class:"nut-pagination-simple"};function TM(e,t,n,r,o,s){return y(),T("view",yM,[$("view",{class:z(["nut-pagination-prev",e.mode=="multi"?"":"simple-border",e.modelValue==1?"disabled":""]),onClick:t[0]||(t[0]=i=>e.select(e.modelValue-1,!0))},[U(e.$slots,"prev-text",{},()=>[Ie(x(e.prevText||e.translate("prev")),1)])],2),e.mode=="multi"?(y(),T("view",_M,[(y(!0),T(le,null,Re(e.pages,(i,a)=>(y(),T("view",{key:a+"pagination",class:z(["nut-pagination-item",i.active?"active":""]),onClick:l=>e.select(i.number,!0)},[U(e.$slots,"page",{item:i},()=>[Ie(x(i.text),1)])],10,wM))),128))])):j("",!0),e.mode=="simple"?(y(),T("view",bM,[$("view",$M,x(e.modelValue)+"/"+x(e.countRef),1)])):j("",!0),$("view",{class:z(["nut-pagination-next",e.modelValue>=e.countRef?"disabled":""]),onClick:t[1]||(t[1]=i=>e.select(e.modelValue+1,!0))},[U(e.$slots,"next-text",{},()=>[Ie(x(e.nextText||e.translate("next")),1)])],2)])}const SM=Ne(vM,[["render",TM]]),Bl=window,CM=typeof window<"u";function EM(){return typeof Bl<"u"?Bl.requestAnimationFrame||Bl.webkitRequestAnimationFrame||function(e){Bl.setTimeout(e,1e3/60)}:function(e){setTimeout(e,1e3/60)}}function PM(e){CM?cancelAnimationFrame(e):clearTimeout(e)}const nr=EM(),Iy=10;function IM(e,t){return e>t&&e>Iy?"horizontal":t>e&&t>Iy?"vertical":""}function fo(){const e=H(0),t=H(0),n=H(0),r=H(0),o=H(0),s=H(0),i=H(0),a=H(0),l=H(""),u=()=>l.value==="vertical",c=()=>l.value==="horizontal",f=()=>{o.value=0,s.value=0,i.value=0,a.value=0,l.value=""};return{move:w=>{const C=w.touches[0];o.value=C.clientX-e.value,s.value=C.clientY-t.value,n.value=C.clientX,r.value=C.clientY,i.value=Math.abs(o.value),a.value=Math.abs(s.value),l.value||(l.value=IM(i.value,a.value))},start:w=>{f(),e.value=w.touches[0].clientX,t.value=w.touches[0].clientY},reset:f,startX:e,startY:t,moveX:n,moveY:r,deltaX:o,deltaY:s,offsetX:i,offsetY:a,direction:l,isVertical:u,isHorizontal:c}}const T4=Symbol("nut-tab");var kM=Object.defineProperty,ky=Object.getOwnPropertySymbols,OM=Object.prototype.hasOwnProperty,AM=Object.prototype.propertyIsEnumerable,Pf=(e,t,n)=>t in e?kM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Oy=(e,t)=>{for(var n in t||(t={}))OM.call(t,n)&&Pf(e,n,t[n]);if(ky)for(var n of ky(t))AM.call(t,n)&&Pf(e,n,t[n]);return e},Fl=(e,t,n)=>Pf(e,typeof t!="symbol"?t+"":t,n),DM=(e,t,n)=>new Promise((r,o)=>{var s=l=>{try{a(n.next(l))}catch(u){o(u)}},i=l=>{try{a(n.throw(l))}catch(u){o(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,i);a((n=n.apply(e,t)).next())});const RM=(e,t,n,r)=>{const o=H(),s=H({width:0,height:0}),i=()=>DM(void 0,null,function*(){var h,m;s.value.width=((h=o.value)==null?void 0:h.clientWidth)||0,s.value.height=((m=o.value)==null?void 0:m.clientHeight)||0});tt(()=>{setTimeout(()=>{i()},100)});const a=qe({offset:0,moving:!1}),l=fo();let u="";const c=(h,m)=>{var w;let C=h;switch(e.direction=="horizontal"?(u=h>0?"right":"left",C=Math.abs(C)/s.value.width*100):(u=m>0?"bottom":"top",C=m,C=Math.abs(C)/((w=s.value)==null?void 0:w.height)*100),C>85&&(C=85),u){case"left":case"top":t.isEnd()&&(C=0,a.moving=!1);break;case"right":case"bottom":C=-C,t.isBegin()&&(C=0,a.moving=!1);break}a.offset=C};return{touchMethods:{onTouchStart(h){e.swipeable&&l.start(h)},onTouchMove(h){e.swipeable&&(l.move(h),a.moving=!0,c(l.deltaX.value,l.deltaY.value),e.direction=="horizontal"&&l.isHorizontal()&&(h.preventDefault(),h.stopPropagation()),e.direction=="vertical"&&l.isVertical()&&(h.preventDefault(),h.stopPropagation()))},onTouchEnd(){if(a.moving)switch(a.moving=!1,u){case"left":case"top":a.offset>35&&t.next();break;case"right":case"bottom":a.offset<-35&&t.prev();break}}},touchState:a,tabsContentRef:o}};class NM{constructor(){Fl(this,"title",""),Fl(this,"titleSlot"),Fl(this,"paneKey",""),Fl(this,"disabled",!1)}}const{create:VM}=Oe("tabs"),LM=VM({components:{NutSticky:u4,JoySmile:m9},props:{modelValue:{type:[String,Number],default:0},color:{type:String,default:""},direction:{type:String,default:"horizontal"},size:{type:String,default:"normal"},type:{type:String,default:"line"},titleScroll:{type:Boolean,default:!1},ellipsis:{type:Boolean,default:!0},swipeable:{type:Boolean,default:!1},autoHeight:{type:Boolean,default:!1},background:{type:String,default:""},animatedTime:{type:[Number,String],default:300},titleGutter:{type:[Number,String],default:0},sticky:{type:Boolean,default:!1},top:{type:Number,default:0},align:{type:String,default:"center"}},emits:["update:modelValue","click","change"],setup(e,{emit:t,slots:n}){const r=H(null);let o;hn(T4,{activeKey:F(()=>e.modelValue||"0"),autoHeight:F(()=>e.autoHeight),animatedTime:F(()=>e.animatedTime)});const s=H([]),i=_=>{_.forEach((P,k)=>{var R,D,oe,J,Q,K,re,ie,Te;let Pe=P.type;if(Pe=Pe.name||Pe,Pe=="NutTabPane"){let ke=new NM;if((R=P.props)!=null&&R.title||(D=P.props)!=null&&D["pane-key"]||(oe=P.props)!=null&&oe.paneKey){let xe=Sf((J=P.props)==null?void 0:J["pane-key"]),vt=xe=="number"||xe=="string"?String((Q=P.props)==null?void 0:Q["pane-key"]):null,ee=Sf((K=P.props)==null?void 0:K.paneKey),pe=ee=="number"||ee=="string"?String((re=P.props)==null?void 0:re.paneKey):null;ke.title=(ie=P.props)==null?void 0:ie.title,ke.paneKey=vt||pe||String(k),ke.disabled=(Te=P.props)==null?void 0:Te.disabled}s.value.push(ke)}else{if(P.children==" ")return;i(P.children)}})},a=H(e.modelValue||0),l=_=>{let P=s.value.findIndex(k=>k.paneKey==_);s.value.length==0||P==-1||(a.value=P)},u=F(()=>e.titleScroll&&e.direction==="vertical"),c=H(),f=H([]),h=_=>{const P=c.value,k=f.value;if(!P||!k||!k[a.value])return;const R=k[a.value];let D=0;e.direction==="vertical"?D=R.offsetTop-P.offsetTop+10-(P.offsetHeight-R.offsetHeight)/2:D=R.offsetLeft-(P.offsetWidth-R.offsetWidth)/2,m(P,D,.3,e.direction)},m=(_,P,k,R)=>{let D=0;const oe=R==="horizontal"?_.scrollLeft:_.scrollTop,J=Math.round(k*1e3/16);function Q(){R==="horizontal"?_.scrollLeft+=(P-oe)/J:_.scrollTop+=(P-oe)/J,++D<J&&nr(Q)}Q()},w=(_=(P=>(P=n.default)==null?void 0:P.call(n))())=>{s.value=[],_=_==null?void 0:_.filter(P=>typeof P.children!="string"),_&&_.length&&i(_),l(e.modelValue),Et(()=>{h()})},C=_=>{o=_.fixed};ve(()=>{var _;return(_=n.default)==null?void 0:_.call(n)},_=>{w(_)});const p=()=>window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;ve(()=>e.modelValue,_=>{if(l(_),h(),o){let P=gr(r.value).top+p(),k=Math.ceil(P-e.top);window.scrollTo({top:k,behavior:"smooth"})}}),tt(w),_i(w);const g={isBegin:()=>a.value==0,isEnd:()=>a.value==s.value.length-1,next:()=>{a.value+=1;const _=s.value[a.value].disabled;if(g.isEnd()&&_){g.prev();return}if(_&&a.value<s.value.length-1){g.next();return}g.updateValue(s.value[a.value])},prev:()=>{a.value-=1;const _=s.value[a.value].disabled;if(g.isBegin()&&_){g.next();return}if(_&&a.value>0){g.prev();return}g.updateValue(s.value[a.value])},updateValue:_=>{t("update:modelValue",_.paneKey),t("change",_)},tabChange:(_,P)=>{t("click",_),!(_.disabled||a.value==P)&&(a.value=P,g.updateValue(_))},setTabItemRef:(_,P)=>{f.value[P]=_}},{tabsContentRef:b,touchState:O,touchMethods:A}=RM(e,g),L=F(()=>{let _=a.value*100;O.moving&&(_+=O.offset);let P={transform:e.direction=="horizontal"?`translate3d(-${_}%, 0, 0)`:`translate3d( 0,-${_}%, 0)`,transitionDuration:O.moving?void 0:`${e.animatedTime}ms`};return e.animatedTime==0&&(P={}),P}),N=F(()=>({background:e.background})),I=F(()=>({color:e.type=="smile"?e.color:"",background:e.type=="line"?e.color:""})),S=F(()=>{if(!e.titleGutter)return{};const _=Ht(e.titleGutter);return e.direction==="vertical"?{paddingTop:_,paddingBottom:_}:{paddingLeft:_,paddingRight:_}});return Oy(Oy({navRef:c,tabsContentRef:b,titles:s,contentStyle:L,tabsNavStyle:N,titleStyle:S,tabsActiveStyle:I,container:r,getScrollY:u,onStickyScroll:C},g),A)}}),MM=["onClick"],BM=["onClick"];function FM(e,t,n,r,o,s){const i=ue("JoySmile"),a=ue("nut-sticky");return y(),T("view",{ref:"container",class:z(["nut-tabs",[e.direction]])},[e.sticky?(y(),ye(a,{key:0,top:e.top,container:e.container,onScroll:e.onStickyScroll},{default:de(()=>[$("view",{ref:"navRef",class:z(["nut-tabs__titles",{"nut-tabs__titles-left":e.align==="left",[e.type]:e.type,scrollable:e.titleScroll,[e.size]:e.size}]),style:W(e.tabsNavStyle)},[e.$slots.titles?U(e.$slots,"titles",{key:0}):(y(!0),T(le,{key:1},Re(e.titles,(l,u)=>(y(),T("view",{key:l.paneKey,class:z(["nut-tabs__titles-item",{"nut-tabs__titles-item-left":e.align==="left",active:l.paneKey==e.modelValue,disabled:l.disabled}]),style:W(e.titleStyle),onClick:c=>e.tabChange(l,u)},[e.type=="line"?(y(),T("view",{key:0,class:"nut-tabs__titles-item__line",style:W(e.tabsActiveStyle)},null,4)):j("",!0),e.type=="smile"?(y(),T("view",{key:1,class:"nut-tabs__titles-item__smile",style:W(e.tabsActiveStyle)},[X(i,{color:e.color},null,8,["color"])],4)):j("",!0),$("view",{class:z(["nut-tabs__titles-item__text",{ellipsis:e.ellipsis}])},x(l.title),3)],14,MM))),128))],6)]),_:3},8,["top","container","onScroll"])):(y(),T("view",{key:1,ref:"navRef",class:z(["nut-tabs__titles",{"nut-tabs__titles-left":e.align==="left",[e.type]:e.type,scrollable:e.titleScroll,[e.size]:e.size}]),style:W(e.tabsNavStyle)},[e.$slots.titles?U(e.$slots,"titles",{key:0}):(y(!0),T(le,{key:1},Re(e.titles,(l,u)=>(y(),T("view",{key:l.paneKey,ref_for:!0,ref:c=>e.setTabItemRef(c,u),class:z(["nut-tabs__titles-item",{"nut-tabs__titles-item-left":e.align==="left",active:l.paneKey==e.modelValue,disabled:l.disabled}]),style:W(e.titleStyle),onClick:c=>e.tabChange(l,u)},[e.type=="line"?(y(),T("view",{key:0,class:"nut-tabs__titles-item__line",style:W(e.tabsActiveStyle)},null,4)):j("",!0),e.type=="smile"?(y(),T("view",{key:1,class:"nut-tabs__titles-item__smile",style:W(e.tabsActiveStyle)},[X(i,{color:e.color},null,8,["color"])],4)):j("",!0),$("view",{class:z(["nut-tabs__titles-item__text",{ellipsis:e.ellipsis}])},x(l.title),3)],14,BM))),128))],6)),$("view",{ref:"tabsContentRef",class:"nut-tabs__content",style:W(e.contentStyle),onTouchstart:t[0]||(t[0]=(...l)=>e.onTouchStart&&e.onTouchStart(...l)),onTouchmove:t[1]||(t[1]=(...l)=>e.onTouchMove&&e.onTouchMove(...l)),onTouchend:t[2]||(t[2]=(...l)=>e.onTouchEnd&&e.onTouchEnd(...l)),onTouchcancel:t[3]||(t[3]=(...l)=>e.onTouchEnd&&e.onTouchEnd(...l))},[U(e.$slots,"default")],36)],2)}const S4=Ne(LM,[["render",FM]]);var jM=Object.defineProperty,xM=Object.defineProperties,UM=Object.getOwnPropertyDescriptors,Ay=Object.getOwnPropertySymbols,zM=Object.prototype.hasOwnProperty,HM=Object.prototype.propertyIsEnumerable,Dy=(e,t,n)=>t in e?jM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qM=(e,t)=>{for(var n in t||(t={}))zM.call(t,n)&&Dy(e,n,t[n]);if(Ay)for(var n of Ay(t))HM.call(t,n)&&Dy(e,n,t[n]);return e},WM=(e,t)=>xM(e,UM(t));const{create:KM}=Oe("tab-pane"),GM=KM({props:{title:{type:[String,Number],default:""},paneKey:{type:[String,Number],default:""},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e){const t=Lt(T4),n=F(()=>({display:(t==null?void 0:t.animatedTime.value)==0&&e.paneKey!=(t==null?void 0:t.activeKey.value)?"none":void 0}));return WM(qM({},t),{paneStyle:n})}});function YM(e,t,n,r,o,s){return y(),T("view",{class:z(["nut-tab-pane",{inactive:e.paneKey!=e.activeKey&&e.autoHeight}]),style:W(e.paneStyle)},[U(e.$slots,"default")],6)}const C4=Ne(GM,[["render",YM]]);var QM=Object.defineProperty,XM=Object.defineProperties,JM=Object.getOwnPropertyDescriptors,Ry=Object.getOwnPropertySymbols,ZM=Object.prototype.hasOwnProperty,eB=Object.prototype.propertyIsEnumerable,Ny=(e,t,n)=>t in e?QM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tB=(e,t)=>{for(var n in t||(t={}))ZM.call(t,n)&&Ny(e,n,t[n]);if(Ry)for(var n of Ry(t))eB.call(t,n)&&Ny(e,n,t[n]);return e},nB=(e,t)=>XM(e,JM(t));const rB={key:0,class:"nut-indicator--number"},oB={key:1,class:"nut-indicator--dot"},E4=Le(nB(tB({},{name:"NutIndicator"}),{__name:"indicator",props:{size:{default:3},current:{default:1},block:{type:Boolean,default:!1},align:{default:"center"},fillZero:{type:Boolean,default:!0}},setup(e){const t=e,n=F(()=>{const r="nut-indicator";return{[r]:!0,[`${r}--block`]:t.block,[`${r}--align__${t.align}`]:t.block&&t.align}});return(r,o)=>(y(),T("view",{class:z(n.value)},[(y(!0),T(le,null,Re(r.size,s=>(y(),T(le,{key:s},[s===r.current?(y(),T("view",rB,x(r.fillZero&&Ae(no)(s)||s),1)):(y(),T("view",oB))],64))),128))],2))}}));et(E4);var sB=Object.defineProperty,iB=Object.defineProperties,aB=Object.getOwnPropertyDescriptors,Vy=Object.getOwnPropertySymbols,lB=Object.prototype.hasOwnProperty,uB=Object.prototype.propertyIsEnumerable,Ly=(e,t,n)=>t in e?sB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cB=(e,t)=>{for(var n in t||(t={}))lB.call(t,n)&&Ly(e,n,t[n]);if(Vy)for(var n of Vy(t))uB.call(t,n)&&Ly(e,n,t[n]);return e},dB=(e,t)=>iB(e,aB(t));const{create:fB}=Oe("side-navbar"),hB=fB({props:{offset:{type:[String,Number],default:15}},setup:e=>{const t=H(null),n=qe({count:1,observer:null}),r=(s,i=1)=>{var a;for(let l=0;l<s.length;l++){let u=s[l];(a=u==null?void 0:u.children)!=null&&a[0]&&(u.children[0].style.paddingLeft=+e.offset*i+"px",u.className.includes("nut-side-navbar-item")||r(Array.from(u.children[1].children),++n.count))}n.count--},o=()=>{let s=t.value.childNodes;s!=null&&s.length&&(s=Array.from(s).filter(i=>i.nodeType!==3).map(i=>i),r(s))};return tt(()=>{o(),n.observer=new MutationObserver(function(){n.count=1,o()}),n.observer.observe(t.value,{attributes:!1,childList:!0,characterData:!1,subtree:!0})}),dB(cB({},rt(n)),{list:t})}}),pB={class:"nut-side-navbar"},mB={class:"nut-side-navbar__content"},gB={ref:"list",class:"nut-side-navbar__content__list"};function vB(e,t,n,r,o,s){return y(),T("view",pB,[$("view",mB,[$("view",gB,[U(e.$slots,"default")],512)])])}const yB=Ne(hB,[["render",vB]]),{create:_B}=Oe("side-navbar-item"),wB=_B({props:{title:{type:String,default:""}}}),bB={class:"nut-side-navbar-item"},$B={class:"nut-side-navbar-item__title"};function TB(e,t,n,r,o,s){return y(),T("view",bB,[$("span",$B,x(e.title),1)])}const SB=Ne(wB,[["render",TB]]);var CB=Object.defineProperty,EB=Object.defineProperties,PB=Object.getOwnPropertyDescriptors,My=Object.getOwnPropertySymbols,IB=Object.prototype.hasOwnProperty,kB=Object.prototype.propertyIsEnumerable,By=(e,t,n)=>t in e?CB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OB=(e,t)=>{for(var n in t||(t={}))IB.call(t,n)&&By(e,n,t[n]);if(My)for(var n of My(t))kB.call(t,n)&&By(e,n,t[n]);return e},AB=(e,t)=>EB(e,PB(t));const{create:DB}=Oe("sub-side-navbar"),RB=DB({props:{title:{type:String,default:""},open:{type:Boolean,default:!0}},components:{ArrowDown2:P8,ArrowUp2:D8},emits:["titleClick"],setup:(e,{emit:t})=>{const n=qe({direction:""}),r=F(()=>({height:n.direction?"0px":"auto"})),o=()=>{t("titleClick"),n.direction=n.direction?"":"up"};return tt(()=>{n.direction=e.open?"":"up"}),AB(OB({},rt(n)),{style:r,handleClick:o})}}),NB={class:"nut-sub-side-navbar"},VB={class:"nut-sub-side-navbar__title__text"},LB={class:"nut-sub-side-navbar__title__icon"};function MB(e,t,n,r,o,s){const i=ue("ArrowDown2"),a=ue("ArrowUp2");return y(),T("view",NB,[$("view",{class:"nut-sub-side-navbar__title",onClick:t[0]||(t[0]=Vt((...l)=>e.handleClick&&e.handleClick(...l),["stop"]))},[$("span",VB,x(e.title),1),$("span",LB,[e.direction?(y(),ye(a,{key:1})):(y(),ye(i,{key:0}))])]),ct($("view",{class:z(["nut-sub-side-navbar__list",e.direction?"nutFadeOut":"nutFadeIn"]),style:W(e.style)},[U(e.$slots,"default")],6),[[jt,!e.direction]])])}const BB=Ne(RB,[["render",MB]]),P4=Symbol("nut-form"),I4=Symbol("nut-form-disabled"),k4=Symbol("nut-form-tip"),zr=e=>{const{parent:t}=Pi(I4);return F(()=>{var n;return e.value||((n=t==null?void 0:t.props)==null?void 0:n.disabled)||!1})};var FB=Object.defineProperty,jB=Object.defineProperties,xB=Object.getOwnPropertyDescriptors,Fy=Object.getOwnPropertySymbols,UB=Object.prototype.hasOwnProperty,zB=Object.prototype.propertyIsEnumerable,jy=(e,t,n)=>t in e?FB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HB=(e,t)=>{for(var n in t||(t={}))UB.call(t,n)&&jy(e,n,t[n]);if(Fy)for(var n of Fy(t))zB.call(t,n)&&jy(e,n,t[n]);return e},qB=(e,t)=>jB(e,xB(t));const{componentName:WB,create:KB}=Oe("range"),GB=KB({props:{range:{type:Boolean,default:!1},disabled:Boolean,activeColor:String,inactiveColor:String,buttonColor:String,vertical:{type:Boolean,default:!1},marks:{type:Object,default:{}},hiddenRange:{type:Boolean,default:!1},hiddenTag:{type:Boolean,default:!1},min:{type:[Number,String],default:0},max:{type:[Number,String],default:100},step:{type:[Number,String],default:1},modelValue:{type:[Number,Array],default:0}},emits:["change","dragEnd","dragStart","update:modelValue"],setup(e,{emit:t}){const n=zr(lo(e,"disabled")),r=H(0);let o,s;const i=H(),a=H(),l=fo(),u=F(()=>{const{marks:J,max:Q,min:K}=e;return Object.keys(J).map(parseFloat).sort((Te,Pe)=>Te-Pe).filter(Te=>Te>=+K&&Te<=+Q)}),c=F(()=>Number(e.max)-Number(e.min)),f=F(()=>{const J=WB;return{[J]:!0,[`${J}-disabled`]:n.value,[`${J}-vertical`]:e.vertical,[`${J}-show-number`]:!e.hiddenRange}}),h=F(()=>{const J="nut-range-container";return{[J]:!0,[`${J}-vertical`]:e.vertical}}),m=F(()=>({background:e.inactiveColor})),w=F(()=>({borderColor:e.buttonColor})),C=J=>!!e.range&&Array.isArray(J),p=()=>{const{modelValue:J,min:Q}=e;return C(J)?`${(J[1]-J[0])*100/c.value}%`:`${(J-Number(Q))*100/c.value}%`},g=()=>{const{modelValue:J,min:Q}=e;return C(J)?`${(J[0]-Number(Q))*100/c.value}%`:"0%"},b=F(()=>e.vertical?{height:p(),top:g(),background:e.activeColor,transition:a.value?"none":void 0}:{width:p(),left:g(),background:e.activeColor,transition:a.value?"none":void 0}),O=J=>{const Q="nut-range-mark",{modelValue:K,max:re,min:ie}=e;let Te=Number(ie),Pe=Number(re);if(e.range){const[xe,vt]=K;Te=xe,Pe=vt}else Pe=K;let ke=J<=+Pe&&J>=Te;return{[`${Q}-text`]:!0,[`${Q}-text-active`]:ke}},A=J=>{const{min:Q,vertical:K}=e;let re={left:`${(J-Number(Q))/c.value*100}%`};return K&&(re={top:`${(J-Number(Q))/c.value*100}%`}),re},L=J=>{const{modelValue:Q,max:K,min:re}=e;let ie=Number(re),Te=Number(K);if(e.range){const[xe,vt]=Q;ie=xe,Te=vt}return{background:J<=Te&&J>=ie?e.activeColor:e.inactiveColor}},N=J=>{const{min:Q,max:K,step:re}=e;return J=Math.max(+Q,Math.min(J,+K)),Math.round(J/+re)*+re},I=(J,Q)=>JSON.stringify(J)===JSON.stringify(Q),S=J=>J[0]>J[1]?J.slice(0).reverse():J,_=(J,Q)=>{C(J)?J=S(J).map(N):J=N(J),I(J,e.modelValue)||t("update:modelValue",J),Q&&!I(J,o)&&t("change",J)},P=J=>{if(n.value)return;const{min:Q,modelValue:K}=e,re=gr(i);let ie=J.clientX-re.left,Te=re.width;e.vertical&&(ie=J.clientY-re.top,Te=re.height);const Pe=Number(Q)+ie/Te*c.value;if(C(K)){const[ke,xe]=K,vt=(ke+xe)/2;Pe<=vt?_([Pe,xe],!0):_([ke,Pe],!0)}else _(Pe,!0)},k=J=>{n.value||(l.start(J),s=e.modelValue,C(s)?o=s.map(N):o=N(s),a.value="start")},R=J=>{if(n.value)return;a.value==="start"&&t("dragStart"),l.move(J),a.value="draging";const Q=gr(i);let K=l.deltaX.value,re=Q.width,ie=K/re*c.value;e.vertical&&(K=l.deltaY.value,re=Q.height,ie=K/re*c.value),C(o)?s[r.value]=o[r.value]+ie:s=o+ie,_(s)},D=()=>{n.value||(a.value==="draging"&&(_(s,!0),t("dragEnd")),a.value="")},oe=J=>J$(e.modelValue)&&typeof J=="number"?e.modelValue[J]:Number(e.modelValue);return qB(HB({root:i,classes:f,wrapperStyle:m,buttonStyle:w,onClick:P,onTouchStart:k,onTouchMove:R,onTouchEnd:D},rt(e)),{barStyle:b,curValue:oe,buttonIndex:r,containerClasses:h,markClassName:O,marksStyle:A,marksList:u,tickStyle:L,disabled:n})}}),YB={key:0,class:"nut-range-min"},QB={key:0,class:"nut-range-mark"},XB=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax","onTouchstart"],JB={key:0,class:"number"},ZB=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax"],eF={key:0,class:"number"},tF={key:1,class:"nut-range-max"};function nF(e,t,n,r,o,s){return y(),T("view",{class:z(e.containerClasses)},[e.hiddenRange?j("",!0):(y(),T("view",YB,x(+e.min),1)),$("view",{ref:"root",style:W(e.wrapperStyle),class:z(e.classes),onClick:t[9]||(t[9]=Vt((...i)=>e.onClick&&e.onClick(...i),["stop"]))},[e.marksList.length>0?(y(),T("view",QB,[(y(!0),T(le,null,Re(e.marksList,i=>(y(),T("span",{key:i,class:z(e.markClassName(i)),style:W(e.marksStyle(i))},[Ie(x(i)+" ",1),$("span",{class:"nut-range-tick",style:W(e.tickStyle(i))},null,4)],6))),128))])):j("",!0),$("view",{class:"nut-range-bar",style:W(e.barStyle)},[e.range?(y(),T(le,{key:0},Re([0,1],i=>$("view",{key:i,role:"slider",class:z({"nut-range-button-wrapper-left":i==0,"nut-range-button-wrapper-right":i==1}),tabindex:e.disabled?-1:0,"aria-valuemin":+e.min,"aria-valuenow":e.curValue(i),"aria-valuemax":+e.max,"aria-orientation":"horizontal",onTouchstart:Vt(a=>{typeof i=="number"&&(e.buttonIndex=i),e.onTouchStart(a)},["stop","prevent"]),onTouchmove:t[0]||(t[0]=Vt((...a)=>e.onTouchMove&&e.onTouchMove(...a),["stop","prevent"])),onTouchend:t[1]||(t[1]=Vt((...a)=>e.onTouchEnd&&e.onTouchEnd(...a),["stop","prevent"])),onTouchcancel:t[2]||(t[2]=Vt((...a)=>e.onTouchEnd&&e.onTouchEnd(...a),["stop","prevent"])),onClick:t[3]||(t[3]=a=>a.stopPropagation())},[e.$slots.button?U(e.$slots,"button",{key:0}):(y(),T("view",{key:1,class:"nut-range-button",style:W(e.buttonStyle)},[e.hiddenTag?j("",!0):(y(),T("view",JB,x(e.curValue(i)),1))],4))],42,XB)),64)):(y(),T("view",{key:1,role:"slider",class:"nut-range-button-wrapper",tabindex:e.disabled?-1:0,"aria-valuemin":+e.min,"aria-valuenow":e.curValue(),"aria-valuemax":+e.max,"aria-orientation":"horizontal",onTouchstart:t[4]||(t[4]=Vt(i=>{e.onTouchStart(i)},["stop","prevent"])),onTouchmove:t[5]||(t[5]=Vt((...i)=>e.onTouchMove&&e.onTouchMove(...i),["stop","prevent"])),onTouchend:t[6]||(t[6]=Vt((...i)=>e.onTouchEnd&&e.onTouchEnd(...i),["stop","prevent"])),onTouchcancel:t[7]||(t[7]=Vt((...i)=>e.onTouchEnd&&e.onTouchEnd(...i),["stop","prevent"])),onClick:t[8]||(t[8]=i=>i.stopPropagation())},[e.$slots.button?U(e.$slots,"button",{key:0}):(y(),T("view",{key:1,class:"nut-range-button",style:W(e.buttonStyle)},[e.hiddenTag?j("",!0):(y(),T("view",eF,x(e.curValue()),1))],4))],40,ZB))],4)],6),e.hiddenRange?j("",!0):(y(),T("view",tF,x(+e.max),1))],2)}const O4=Ne(GB,[["render",nF]]);var rF=Object.defineProperty,oF=Object.defineProperties,sF=Object.getOwnPropertyDescriptors,xy=Object.getOwnPropertySymbols,iF=Object.prototype.hasOwnProperty,aF=Object.prototype.propertyIsEnumerable,Uy=(e,t,n)=>t in e?rF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,If=(e,t)=>{for(var n in t||(t={}))iF.call(t,n)&&Uy(e,n,t[n]);if(xy)for(var n of xy(t))aF.call(t,n)&&Uy(e,n,t[n]);return e},lF=(e,t)=>oF(e,sF(t));const{create:uF}=Oe("searchbar"),cF="NutSearchbar",dF=uF({props:{modelValue:{type:[String,Number],default:""},inputType:{type:String,default:"text"},label:{type:String,default:""},shape:{type:String,default:"round"},maxLength:{type:[String,Number],default:"9999"},placeholder:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:Object,default:()=>ap},background:{type:String,default:""},inputBackground:{type:String,default:""},focusStyle:{type:Object,default:()=>({})},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inputAlign:{type:String,default:"left"},safeAreaInsetBottom:{type:Boolean,default:!1}},emits:["change","update:modelValue","blur","focus","clear","search","clickInput","clickLeftIcon","clickRightIcon"],setup(e,{emit:t}){const n=zr(lo(e,"disabled")),r=It(cF),o=qe({active:!1}),s=F(()=>({background:e.background})),i=F(()=>({background:e.inputBackground})),a=b=>{let A=b.target.value;e.maxLength&&A.length>Number(e.maxLength)&&(A=A.slice(0,Number(e.maxLength))),t("update:modelValue",A,b),t("change",A,b)},l=H({}),u=b=>{let A=b.target.value;o.active=!0,l.value=e.focusStyle,t("focus",A,b)},c=b=>{setTimeout(()=>{o.active=!1},0);let A=b.target.value;e.maxLength&&A.length>Number(e.maxLength)&&(A=A.slice(0,Number(e.maxLength))),l.value={},t("blur",A,b)},f=b=>{t("update:modelValue","",b),t("change","",b),t("clear","")},h=()=>{t("search",e.modelValue)},m=b=>{t("clickInput",b)},w=b=>{t("clickLeftIcon",e.modelValue,b)},C=b=>{t("clickRightIcon",e.modelValue,b)},p=F(()=>({textAlign:e.inputAlign})),g=H(null);return tt(()=>{e.autofocus&&g.value.focus()}),lF(If({renderIcon:Lo,inputsearch:g},rt(o)),{valueChange:a,valueFocus:u,valueBlur:c,handleClear:f,handleSubmit:h,searchbarStyle:s,inputSearchbarStyle:i,focusCss:l,translate:r,clickInput:m,leftIconClick:w,rightIconClick:C,styleSearchbar:p,disabled:n})}}),fF={key:0,class:"nut-searchbar__search-label"},hF={key:1,class:"nut-searchbar__search-icon nut-searchbar__left-search-icon"},pF=["type","maxlength","placeholder","value","disabled","readonly"],mF={key:1,class:"nut-searchbar__search-icon nut-searchbar__iptright-search-icon"},gF={key:2,class:"nut-searchbar__search-icon nut-searchbar__right-search-icon"};function vF(e,t,n,r,o,s){return y(),T("view",{class:z(["nut-searchbar",{"safe-area-inset-bottom":e.safeAreaInsetBottom}]),style:W(e.searchbarStyle)},[e.label?(y(),T("span",fF,x(e.label),1)):j("",!0),e.$slots.leftout?(y(),T("view",hF,[U(e.$slots,"leftout")])):j("",!0),$("view",{class:z(["nut-searchbar__search-input",e.shape]),style:W(If(If({},e.inputSearchbarStyle),e.focusCss))},[e.$slots.leftin?(y(),T("view",{key:0,class:"nut-searchbar__search-icon nut-searchbar__iptleft-search-icon",onClick:t[0]||(t[0]=(...i)=>e.leftIconClick&&e.leftIconClick(...i))},[U(e.$slots,"leftin")])):j("",!0),$("view",{class:z(["nut-searchbar__input-inner",e.$slots.rightin&&"nut-searchbar__input-inner-absolute"])},[$("form",{class:"nut-searchbar__input-form",action:"#",onSubmit:t[5]||(t[5]=Vt((...i)=>e.handleSubmit&&e.handleSubmit(...i),["prevent"]))},[$("input",{ref:"inputsearch",class:z(["nut-searchbar__input-bar",e.clearable&&"nut-searchbar__input-bar_clear"]),type:e.inputType,maxlength:e.maxLength,placeholder:e.placeholder||e.translate("placeholder"),value:e.modelValue,disabled:e.disabled,readonly:e.readonly,style:W(e.styleSearchbar),onClick:t[1]||(t[1]=(...i)=>e.clickInput&&e.clickInput(...i)),onInput:t[2]||(t[2]=(...i)=>e.valueChange&&e.valueChange(...i)),onFocus:t[3]||(t[3]=(...i)=>e.valueFocus&&e.valueFocus(...i)),onBlur:t[4]||(t[4]=(...i)=>e.valueBlur&&e.valueBlur(...i))},null,46,pF)],32)],2),$("view",{class:z(["nut-searchbar__input-inner-icon",e.$slots.rightin&&"nut-searchbar__input-inner-icon-absolute"])},[e.clearable?ct((y(),T("view",{key:0,class:"nut-searchbar__search-icon nut-searchbar__input-clear",onClick:t[6]||(t[6]=(...i)=>e.handleClear&&e.handleClear(...i))},[e.$slots["clear-icon"]?U(e.$slots,"clear-icon",{key:0}):(y(),ye(Yn(e.renderIcon(e.clearIcon)),{key:1}))],512)),[[jt,String(e.modelValue).length>0]]):j("",!0),e.$slots.rightin?(y(),T("view",mF,[U(e.$slots,"rightin")])):j("",!0)],2)],6),e.$slots.rightout?(y(),T("view",gF,[U(e.$slots,"rightout")])):j("",!0)],6)}const yF=Ne(dF,[["render",vF]]);var _F=Object.defineProperty,wF=Object.defineProperties,bF=Object.getOwnPropertyDescriptors,Lu=Object.getOwnPropertySymbols,A4=Object.prototype.hasOwnProperty,D4=Object.prototype.propertyIsEnumerable,kf=(e,t,n)=>t in e?_F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vs=(e,t)=>{for(var n in t||(t={}))A4.call(t,n)&&kf(e,n,t[n]);if(Lu)for(var n of Lu(t))D4.call(t,n)&&kf(e,n,t[n]);return e},R4=(e,t)=>wF(e,bF(t)),Td=e=>typeof e=="symbol"?e:e+"",$F=(e,t)=>{var n={};for(var r in e)A4.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Lu)for(var r of Lu(e))t.indexOf(r)<0&&D4.call(e,r)&&(n[r]=e[r]);return n},zy=(e,t,n)=>kf(e,typeof t!="symbol"?t+"":t,n),Gi=(e,t,n)=>new Promise((r,o)=>{var s=l=>{try{a(n.next(l))}catch(u){o(u)}},i=l=>{try{a(n.throw(l))}catch(u){o(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,i);a((n=n.apply(e,t)).next())});const tu=(e,t,n)=>e.map(r=>{const{value:o="value",text:s="text",children:i="children"}=n,a=r,{[o]:l,[s]:u,[i]:c}=a,f=$F(a,[Td(o),Td(s),Td(i)]),h=R4(vs({loading:!1},f),{level:t?(t&&t.level||0)+1:0,value:l,text:u,children:c,_parent:t});return h.children&&h.children.length&&(h.children=tu(h.children,h,n)),h}),N4=(e,t)=>{let n=0,r;for(;(r=e[n++])&&t(r)!==!0;)r.children&&r.children.length&&N4(r.children,t)},TF={topId:null,idKey:"id",pidKey:"pid",sortKey:""},SF=(e,t)=>{const n=vs(vs({},TF),t||{}),{topId:r,idKey:o,pidKey:s,sortKey:i}=n;let a=[],l={};return e.forEach(u=>{u=vs({},u);const{[o]:c,[s]:f}=u,h=l[f]=l[f]||[];!a.length&&f===r&&(a=h),h.push(u),u.children=l[c]||(l[c]=[])}),i&&Object.keys(l).forEach(u=>{l[u].length>1&&l[u].sort((c,f)=>c[i]-f[i])}),l=null,a};class Hy{constructor(t,n){zy(this,"nodes"),zy(this,"config"),this.config=vs({value:"value",text:"text",children:"children"},n||{}),this.nodes=tu(t,null,this.config)}updateChildren(t,n){n?n.children=tu(t,n,this.config):this.nodes=tu(t,null,this.config)}getNodeByValue(t){let n;return N4(this.nodes,r=>{if(r.value===t)return n=r,!0}),n}getPathNodesByValue(t){if(!t.length)return[];const n=[];let r=this.nodes;for(;r&&r.length;){const o=r.find(s=>s.value===t[s.level]);if(!o)break;n.push(o),r=o.children}return n}isLeaf(t,n){const{leaf:r,children:o}=t,s=Array.isArray(o)&&!!o.length;return r||!s&&!n}hasChildren(t,n){if(this.isLeaf(t,n))return!1;const{children:o}=t;return Array.isArray(o)&&!!o.length}}const{create:CF}=Oe("cascader-item"),EF=CF({components:{Loading:Ei,Checklist:c7,NutTabs:S4,NutTabPane:C4},props:{visible:Boolean,modelValue:Array,options:{type:Array,default:()=>[]},lazy:Boolean,lazyLoad:Function,valueKey:{type:String,default:"value"},textKey:{type:String,default:"text"},childrenKey:{type:String,default:"children"},convertConfig:Object},emits:["update:modelValue","change","pathChange"],setup(e,{emit:t}){const n=It(),r=F(()=>({lazy:e.lazy,lazyLoad:e.lazyLoad,valueKey:e.valueKey,textKey:e.textKey,childrenKey:e.childrenKey,convertConfig:e.convertConfig})),o=H(0),s=H(!1),i=H(e.modelValue),a=H(new Hy([],{})),l=H([]),u=F(()=>r.value.lazy&&!!r.value.lazyLoad),c=new Map;let f;const h=()=>Gi(this,null,function*(){c.clear(),l.value=[],o.value=0,s.value=!1,f=null;let{options:g}=e;r.value.convertConfig&&(g=SF(g,r.value.convertConfig)),a.value=new Hy(g,{value:r.value.valueKey,text:r.value.textKey,children:r.value.childrenKey}),u.value&&!a.value.nodes.length&&(yield w({root:!0,loading:!0,text:"",value:""})),l.value=[{nodes:a.value.nodes,selectedNode:null}],m()}),m=()=>Gi(this,null,function*(){const g=i.value;if(g===void 0||!a.value.nodes.length)return;if(g.length===0){o.value=0,l.value=[{nodes:a.value.nodes,selectedNode:null}];return}let b=g;if(u.value&&Array.isArray(g)&&g.length){b=[];let O=a.value.nodes.find(A=>A.value===g[0]);if(O){b=[O.value],s.value=!0;const A=yield g.slice(1).reduce((L,N)=>Gi(this,null,function*(){var I;const S=yield L;yield w(S);const _=(I=S==null?void 0:S.children)==null?void 0:I.find(P=>P.value===N);return _&&b.push(N),Promise.resolve(_)}),Promise.resolve(O));yield w(A),s.value=!1}}b.length&&g===e.modelValue&&a.value.getPathNodesByValue(b).map((A,L)=>{o.value=L,p.handleNode(A,!0)})}),w=g=>Gi(this,null,function*(){if(!g)return;if(!r.value.lazyLoad){g.leaf=!0;return}if(a.value.isLeaf(g,u.value)||a.value.hasChildren(g,u.value))return;g.loading=!0;const b=g.root?null:g;let O=c.get(g);O||(O=new Promise(L=>{var N,I;(I=(N=r.value).lazyLoad)==null||I.call(N,g,L)}),c.set(g,O));const A=yield O;Array.isArray(A)&&A.length>0?a.value.updateChildren(A,b):g.leaf=!0,g.loading=!1,c.delete(g)}),C=g=>{const b=g.map(O=>O.value);i.value=b,t("change",b,g),t("update:modelValue",b,g)},p={handleNode(g,b){return Gi(this,null,function*(){const{disabled:O,loading:A}=g;if(!(!b&&O||!l.value[o.value])){if(a.value.isLeaf(g,u.value)){if(g.leaf=!0,l.value[o.value].selectedNode=g,l.value=l.value.slice(0,g.level+1),!b){const L=l.value.map(N=>N.selectedNode);C(L),t("pathChange",L)}return}if(a.value.hasChildren(g,u.value)){const L=g.level+1;if(l.value[o.value].selectedNode=g,l.value=l.value.slice(0,L),l.value.push({nodes:g.children||[],selectedNode:null}),o.value=L,!b){const N=l.value.map(I=>I.selectedNode);t("pathChange",N)}return}f=g,!A&&(yield w(g),f===g&&(l.value[o.value].selectedNode=g,p.handleNode(g,b)))}})},handleTabClick(g){f=null,o.value=Number(g.paneKey)},formatTabTitle(g){return g.selectedNode?g.selectedNode.text:n("select")},isSelected(g,b){var O;return((O=g==null?void 0:g.selectedNode)==null?void 0:O.value)===b.value}};return ve([r,()=>e.options],()=>{h()},{deep:!0,immediate:!0}),ve(()=>e.modelValue,g=>{g!==i.value&&(i.value=g,m())}),ve(()=>e.visible,g=>{g&&Array.isArray(i.value)&&i.value.length>0&&m()}),vs({panes:l,initLoading:s,tabsCursor:o},p)}}),PF={role:"menu",class:"nut-cascader-pane"},IF=["aria-checked","aria-disabled","onClick"],kF={class:"nut-cascader-item__title"},OF=$("view",{class:"nut-cascader-pane"},null,-1);function AF(e,t,n,r,o,s){const i=ue("Loading"),a=ue("Checklist"),l=ue("nut-tab-pane"),u=ue("nut-tabs");return y(),ye(u,{modelValue:e.tabsCursor,"onUpdate:modelValue":t[0]||(t[0]=c=>e.tabsCursor=c),class:"nut-cascader","title-scroll":"",onClick:e.handleTabClick},{default:de(()=>[!e.initLoading&&e.panes.length?(y(!0),T(le,{key:0},Re(e.panes,(c,f)=>(y(),ye(l,{key:f,title:e.formatTabTitle(c)},{default:de(()=>[$("view",PF,[(y(!0),T(le,null,Re(c.nodes,h=>(y(),T("view",{key:h.value,class:z(["nut-cascader-item",{active:e.isSelected(c,h),disabled:h.disabled}]),"aria-checked":e.isSelected(c,h),"aria-disabled":h.disabled||void 0,role:"menuitemradio",onClick:m=>e.handleNode(h,!1)},[$("view",kF,x(h.text),1),h.loading?(y(),ye(i,{key:0,class:"nut-cascader-item__icon-loading",name:"loading"})):(y(),ye(a,{key:1,class:"nut-cascader-item__icon-check",name:"checklist"}))],10,IF))),128))])]),_:2},1032,["title"]))),128)):(y(),ye(l,{key:1,title:"Loading..."},{default:de(()=>[OF]),_:1}))]),_:1},8,["modelValue","onClick"])}const DF=Ne(EF,[["render",AF]]),{create:RF}=Oe("cascader"),NF=RF({components:{NutCascaderItem:DF,NutPopup:Hn},props:R4(vs({},ol),{modelValue:Array,visible:Boolean,title:String,options:{type:Array,default:()=>[]},lazy:Boolean,lazyLoad:Function,valueKey:{type:String,default:"value"},textKey:{type:String,default:"text"},childrenKey:{type:String,default:"children"},poppable:{type:Boolean,default:!0},convertConfig:Object}),emits:["update:modelValue","change","pathChange","update:visible"],setup(e,{emit:t}){const n=H(e.modelValue),r=F({get(){return e.visible},set(i){t("update:visible",i)}}),o=(i,a)=>{n.value=i,r.value=!1,t("change",i,a),t("update:modelValue",i)},s=i=>{t("pathChange",i)};return ve(()=>e.modelValue,i=>{i!==n.value&&(n.value=i)}),{onChange:o,onPathChange:s,innerValue:n,innerVisible:r}}}),VF=["innerHTML"];function LF(e,t,n,r,o,s){const i=ue("nut-cascader-item"),a=ue("nut-popup");return e.poppable?(y(),ye(a,{key:0,visible:e.innerVisible,"onUpdate:visible":t[0]||(t[0]=l=>e.innerVisible=l),position:"bottom","pop-class":"nut-cascader__popup",round:"","lock-scroll":e.lockScroll,teleport:e.teleport,"teleport-disable":e.teleportDisable,closeable:e.closeable,"destroy-on-close":!1,"close-icon-position":e.closeIconPosition,"z-index":e.zIndex},{default:de(()=>[e.title?(y(),T("view",{key:0,class:"nut-cascader__bar",innerHTML:e.title},null,8,VF)):j("",!0),X(i,{"model-value":e.innerValue,options:e.options,lazy:e.lazy,"lazy-load":e.lazyLoad,"value-key":e.valueKey,"text-key":e.textKey,"children-key":e.childrenKey,"convert-config":e.convertConfig,visible:e.innerVisible,onChange:e.onChange,onPathChange:e.onPathChange},null,8,["model-value","options","lazy","lazy-load","value-key","text-key","children-key","convert-config","visible","onChange","onPathChange"])]),_:1},8,["visible","lock-scroll","teleport","teleport-disable","closeable","close-icon-position","z-index"])):(y(),ye(i,{key:1,"model-value":e.innerValue,options:e.options,lazy:e.lazy,"lazy-load":e.lazyLoad,"value-key":e.valueKey,"text-key":e.textKey,"children-key":e.childrenKey,"convert-config":e.convertConfig,visible:e.innerVisible,onChange:e.onChange,onPathChange:e.onPathChange},null,8,["model-value","options","lazy","lazy-load","value-key","text-key","children-key","convert-config","visible","onChange","onPathChange"]))}const MF=Ne(NF,[["render",LF]]),ze={isLeapYear:function(e){return e%4==0&&e%100!=0||e%400==0},getWhatDay:function(e,t,n){const o=new Date(e+"/"+t+"/"+n).getDay();return["星期日","星期一","星期二","星期三","星期四","星期五","星期六"][o]},getMonthPreDay:function(e,t){let r=new Date(e+"/"+t+"/01").getDay();return r==0&&(r=7),r},getMonthDays:function(e,t){return/^0/.test(t)&&(t=t.split("")[1]),[0,31,this.isLeapYear(Number(e))?29:28,31,30,31,30,31,31,30,31,30,31][t]},getNumTwoBit:function(e){return e=Number(e),(e>9?"":"0")+e},date2Str:function(e,t){t=t||"-";const n=e.getFullYear(),r=this.getNumTwoBit(e.getMonth()+1),o=this.getNumTwoBit(e.getDate());return[n,r,o].join(t)},getDay:function(e){e=e||0;let t=new Date;const n=e*(1e3*60*60*24);return t=new Date(t.getTime()+n),this.date2Str(t)},compareDate:function(e,t){const n=new Date(e.replace("-","/").replace("-","/")),r=new Date(t.replace("-","/").replace("-","/"));return!(n>=r)},isEqual:function(e,t){const n=new Date(e).getTime(),r=new Date(t).getTime();return n==r},getMonthWeek:function(e,t,n,r=0){const o=new Date(Number(e),parseInt(t)-1,Number(n));let s=o.getDay();const i=o.getDate();let a=6-s;return r!==0&&(s=s==0?7:s,a=7-s),Math.ceil((i+a)/7)},getYearWeek:function(e,t,n,r=0){const o=new Date(Number(e),parseInt(t)-1,Number(n)),s=new Date(Number(e),0,1),i=Math.round((o.valueOf()-s.valueOf())/864e5);return Math.ceil((i+(s.getDay()+1-1))/7)},getWeekDate:function(e,t,n,r=0){const o=new Date(Number(e),parseInt(t)-1,Number(n)),s=o.getTime();let i=o.getDay();if(r===0){const l=s-i*864e5,u=s+(6-i)*864e5,c=this.date2Str(new Date(l)),f=this.date2Str(new Date(u));return[c,f]}else{i=i==0?7:i;const a=24*60*60*1e3,l=s-(i-1)*a,u=s+(7-i)*a,c=this.date2Str(new Date(l)),f=this.date2Str(new Date(u));return[c,f]}},formatResultDate:function(e){const t=[...e.split("-")];return t[2]=ze.getNumTwoBit(Number(t[2])),t[3]=`${t[0]}-${t[1]}-${t[2]}`,t[4]=ze.getWhatDay(+t[0],+t[1],+t[2]),t}};var BF=Object.defineProperty,FF=Object.defineProperties,jF=Object.getOwnPropertyDescriptors,qy=Object.getOwnPropertySymbols,xF=Object.prototype.hasOwnProperty,UF=Object.prototype.propertyIsEnumerable,Wy=(e,t,n)=>t in e?BF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ky=(e,t)=>{for(var n in t||(t={}))xF.call(t,n)&&Wy(e,n,t[n]);if(qy)for(var n of qy(t))UF.call(t,n)&&Wy(e,n,t[n]);return e},zF=(e,t)=>FF(e,jF(t));const{create:HF}=Oe("calendar-item"),qF="NutCalendarItem",WF=HF({props:{type:{type:String,default:"one"},isAutoBackFill:{type:Boolean,default:!1},toDateAnimation:{type:Boolean,default:!0},poppable:{type:Boolean,default:!0},showTitle:{type:Boolean,default:!0},showSubTitle:{type:Boolean,default:!0},showToday:{type:Boolean,default:!0},title:{type:String,default:""},confirmText:{type:String,default:""},startText:{type:String,default:""},endText:{type:String,default:""},defaultValue:{type:[String,Array],default:""},startDate:{type:String,default:ze.getDay(0)},endDate:{type:String,default:ze.getDay(365)},firstDayOfWeek:{type:Number,default:0},disabledDate:Function},emits:["choose","update","close","select"],setup(e,{emit:t,slots:n,expose:r}){const o=It(qF),s=o("weekdays").map((ee,pe)=>({day:ee,weekend:pe===0||pe===6})),i=H([...s.slice(e.firstDayOfWeek,7),...s.slice(0,e.firstDayOfWeek)]),a=H(null),l=H(null),u=H(null),c=H(null),f=H(0),h=F(()=>p.monthsData.slice(p.defaultRange[0],p.defaultRange[1])),m=F(()=>n.btn),w=F(()=>n["top-info"]),C=F(()=>n["bottom-info"]),p=qe({yearMonthTitle:"",defaultRange:[],currDate:"",propStartDate:"",propEndDate:"",unLoadPrev:!1,touchParams:{startY:0,endY:0,startTime:0,endTime:0,lastY:0,lastTime:0},transformY:0,translateY:0,scrollDistance:0,defaultData:[],chooseData:[],monthsData:[],dayPrefix:"nut-calendar__day",startData:"",endData:"",isRange:e.type==="range",timer:0,currentIndex:0,avgHeight:0,monthsNum:0}),g=ee=>ee.split("-"),b=ee=>ze.isEqual(p.currDate[0],ee),O=ee=>ze.isEqual(p.currDate[1],ee),A=ee=>{var pe,q;return((pe=p.currDate)==null?void 0:pe.length)>0?(q=p.currDate)==null?void 0:q.some(te=>ze.isEqual(te,ee)):!1},L=(ee,pe)=>pe.curData[0]+"-"+pe.curData[1]+"-"+ze.getNumTwoBit(+ee.day),N=(ee,pe,q)=>{const te=[];typeof q=="number"&&((q+1+e.firstDayOfWeek)%7===0||(q+e.firstDayOfWeek)%7===0)&&te.push("weekend");const se=L(ee,pe),{type:_e}=e;return ee.type=="curr"?ze.isEqual(p.currDate,se)||(_e=="range"||_e=="week")&&(b(se)||O(se))||_e=="multiple"&&A(se)?te.push(`${p.dayPrefix}--active`):p.propStartDate&&ze.compareDate(se,p.propStartDate)||p.propEndDate&&ze.compareDate(p.propEndDate,se)||e.disabledDate&&e.disabledDate(se)?te.push(`${p.dayPrefix}--disabled`):(_e=="range"||_e=="week")&&Array.isArray(p.currDate)&&Object.values(p.currDate).length==2&&ze.compareDate(p.currDate[0],se)&&ze.compareDate(se,p.currDate[1])&&te.push(`${p.dayPrefix}--choose`):te.push(`${p.dayPrefix}--disabled`),te},I=()=>{const{type:ee}=e;if(ee=="range"&&p.chooseData.length==2||ee!="range"){let pe=p.chooseData.slice(0);if(ee=="week"){if(p.chooseData.length!==2)return;pe={weekDate:[_(p.chooseData[0]),_(p.chooseData[1])]}}t("choose",pe),e.poppable&&t("update")}},S=(ee,pe,q=!1)=>{var te,se;if(!N(ee,pe).includes(`${p.dayPrefix}--disabled`)){const{type:_e}=e;let[Ke,nt]=pe.curData,M=[...pe.curData];if(M[2]=ze.getNumTwoBit(Number(ee.day)),M[3]=`${M[0]}-${M[1]}-${M[2]}`,M[4]=ze.getWhatDay(+M[0],+M[1],+M[2]),_e=="multiple")if(((te=p.currDate)==null?void 0:te.length)>0){let B;(se=p.currDate)==null||se.forEach((Y,ae)=>{Y==M[3]&&(B=ae)}),q?p.chooseData.push([...M]):B!==void 0?(p.currDate.splice(B,1),p.chooseData.splice(B,1)):(p.currDate.push(M[3]),p.chooseData.push([...M]))}else p.currDate=[M[3]],p.chooseData=[[...M]];else if(_e=="range"){let B=Object.values(p.currDate).length;B==2||B==0?p.currDate=[M[3]]:ze.compareDate(p.currDate[0],M[3])?Array.isArray(p.currDate)&&p.currDate.push(M[3]):Array.isArray(p.currDate)&&p.currDate.unshift(M[3]),p.chooseData.length==2||!p.chooseData.length?p.chooseData=[[...M]]:ze.compareDate(p.chooseData[0][3],M[3])?p.chooseData=[...p.chooseData,[...M]]:p.chooseData=[[...M],...p.chooseData]}else if(_e=="week"){let B=ze.getWeekDate(Ke,nt,ee.day,e.firstDayOfWeek);p.propStartDate&&ze.compareDate(B[0],p.propStartDate)&&B.splice(0,1,p.propStartDate),p.propEndDate&&ze.compareDate(p.propEndDate,B[1])&&B.splice(1,1,p.propEndDate),p.currDate=B,p.chooseData=[ze.formatResultDate(B[0]),ze.formatResultDate(B[1])]}else p.currDate=M[3],p.chooseData=[...M];if(!q){let B=p.chooseData;_e=="week"&&(B={weekDate:[_(p.chooseData[0]),_(p.chooseData[1])]}),t("select",B),(e.isAutoBackFill||!e.poppable)&&I()}}},_=ee=>{let[pe,q,te]=ee;return{date:ee,monthWeekNum:ze.getMonthWeek(pe,q,te,e.firstDayOfWeek),yearWeekNum:ze.getYearWeek(pe,q,te,e.firstDayOfWeek)}},P=ee=>{const pe=p.monthsData[p.monthsData.length-1];let q=parseInt(pe.curData[0]),te=parseInt(pe.curData[1].toString().replace(/^0/,""));switch(ee){case"prev":te==1&&(q-=1),te=te==1?12:--te;break;case"next":te==12&&(q+=1),te=te==12?1:++te;break}return[q+"",ze.getNumTwoBit(te),ze.getMonthDays(String(q),String(te))+""]},k=(ee,pe,q)=>{let{year:te,month:se}=q;return Array.from(Array(ee),(_e,Ke)=>({day:String(Ke+1),type:pe,year:te,month:se}))},R=(ee,pe,q,te)=>{ee=ee-e.firstDayOfWeek;let{year:se,month:_e}=q;return ee>=7&&(ee-=7),Array.from(Array(te),(nt,M)=>({day:String(M+1),type:pe,year:se,month:_e})).slice(te-ee)},D=(ee,pe)=>{const q=ze.getMonthPreDay(+ee[0],+ee[1]);let te=Number(ee[1])-1,se=Number(ee[0]);te<=0&&(te=12,se+=1);const _e=ze.getMonthDays(String(ee[0]),String(ee[1])),Ke=ze.getMonthDays(se+"",te+""),nt={year:ee[0],month:ee[1]},M={curData:ee,title:o("monthTitle",nt.year,nt.month),monthData:[...R(q,"prev",{month:String(te),year:String(se)},Ke),...k(_e,"curr",nt)],cssHeight:0,cssScrollHeight:0};M.cssHeight=39+(M.monthData.length>35?384:320);let B=0;p.monthsData.length>0&&(B=p.monthsData[p.monthsData.length-1].cssScrollHeight+p.monthsData[p.monthsData.length-1].cssHeight),M.cssScrollHeight=B,(!p.endData||!ze.compareDate(`${p.endData[0]}-${p.endData[1]}-${ze.getMonthDays(p.endData[0],p.endData[1])}`,`${ee[0]}-${ee[1]}-${ee[2]}`))&&p.monthsData.push(M)},oe=()=>{let ee=e.startDate?e.startDate:ze.getDay(0),pe=e.endDate?e.endDate:ze.getDay(365);p.propStartDate=ee,p.propEndDate=pe,p.startData=g(ee),p.endData=g(pe),(e.defaultValue||Array.isArray(e.defaultValue)&&e.defaultValue.length>0)&&(p.currDate=e.type!=="one"?[...e.defaultValue]:e.defaultValue);const q={year:Number(p.startData[0]),month:Number(p.startData[1])},te={year:Number(p.endData[0]),month:Number(p.endData[1])};let se=te.month-q.month;te.year-q.year>0&&(se=se+12*(te.year-q.year)),se<=0&&(se=1),D(p.startData);let _e=1;do D(P("next"));while(_e++<se);if(p.monthsNum=se,e.type=="range"&&Array.isArray(p.currDate))p.currDate.length>0&&(ee&&ze.compareDate(p.currDate[0],ee)&&p.currDate.splice(0,1,ee),pe&&ze.compareDate(pe,p.currDate[1])&&p.currDate.splice(1,1,pe),p.defaultData=[...g(p.currDate[0]),...g(p.currDate[1])]);else if(e.type=="multiple"&&Array.isArray(p.currDate)){if(p.currDate.length>0){let Y=[],ae={};p.currDate.forEach(ne=>{ee&&!ze.compareDate(ne,ee)&&pe&&!ze.compareDate(pe,ne)&&(Object.hasOwnProperty.call(ae,ne)||(Y.push(ne),ae[ne]=ne))}),p.currDate=[...Y],p.defaultData=[...g(Y[0])]}}else if(e.type=="week"&&Array.isArray(p.currDate)){if(p.currDate.length>0){let[Y,ae,ne]=g(p.currDate[0]),he=ze.getWeekDate(Y,ae,ne,e.firstDayOfWeek);p.currDate=he,ee&&ze.compareDate(p.currDate[0],ee)&&p.currDate.splice(0,1,ee),pe&&ze.compareDate(pe,p.currDate[1])&&p.currDate.splice(1,1,pe),p.defaultData=[...g(p.currDate[0]),...g(p.currDate[1])]}}else p.currDate&&(ee&&ze.compareDate(p.currDate,ee)?p.currDate=ee:pe&&!ze.compareDate(p.currDate,pe)&&(p.currDate=pe),p.defaultData=[...g(p.currDate)]);let Ke=0,nt=0;p.defaultData.length>0&&p.monthsData.forEach((Y,ae)=>{Y.title==o("monthTitle",p.defaultData[0],p.defaultData[1])&&(Ke=ae),(e.type=="range"||e.type=="week")&&Y.title==o("monthTitle",p.defaultData[3],p.defaultData[4])&&(nt=ae)}),K(se,Ke),p.currentIndex=Ke,p.yearMonthTitle=p.monthsData[p.currentIndex].title,p.defaultData.length>0&&(p.isRange?(S({day:p.defaultData[2],type:"curr"},p.monthsData[p.currentIndex],!0),S({day:p.defaultData[5],type:"curr"},p.monthsData[nt],!0)):e.type=="week"?S({day:p.defaultData[2],type:"curr"},p.monthsData[p.currentIndex],!0):e.type=="multiple"?[...p.currDate].forEach(Y=>{let ae=g(Y),ne=p.currentIndex;p.monthsData.forEach((he,Se)=>{he.title==o("monthTitle",ae[0],ae[1])&&(ne=Se)}),S({day:ae[2],type:"curr"},p.monthsData[ne],!0)}):S({day:p.defaultData[2],type:"curr"},p.monthsData[p.currentIndex],!0));let M=p.monthsData[p.monthsData.length-1],B=M.cssHeight+M.cssScrollHeight;nr(()=>{a!=null&&a.value&&(l!=null&&l.value)&&(c!=null&&c.value)&&(f.value=a.value.clientHeight,l.value.style.height=`${B}px`,a.value.scrollTop=p.monthsData[p.currentIndex].cssScrollHeight)}),p.avgHeight=Math.floor(B/(se+1))};r({scrollToDate:ee=>{ze.compareDate(ee,p.propStartDate)?ee=p.propStartDate:ze.compareDate(ee,p.propEndDate)||(ee=p.propEndDate);let pe=g(ee);p.monthsData.forEach((q,te)=>{if(q.title==o("monthTitle",pe[0],pe[1])&&a.value){let se=p.monthsData[te].cssScrollHeight-a.value.scrollTop;if(e.toDateAnimation){let _e=0,Ke=setInterval(()=>{if(_e++,a.value){let nt=se/10;a.value.scrollTop=a.value.scrollTop+nt}_e>=10&&(clearInterval(Ke),a.value&&(a.value.scrollTop=p.monthsData[te].cssScrollHeight))},40)}else a.value.scrollTop=p.monthsData[te].cssScrollHeight}})},initPosition:()=>{a!=null&&a.value&&(a.value.scrollTop=p.monthsData[p.currentIndex].cssScrollHeight)}});const K=(ee,pe)=>{ee>=3?pe>0&&pe<ee?p.defaultRange=[pe-1,pe+3]:pe==0?p.defaultRange=[pe,pe+4]:pe==ee&&(p.defaultRange=[pe-2,pe+2]):p.defaultRange=[0,ee+2];let q=p.monthsData[p.defaultRange[0]].cssScrollHeight;p.translateY=q},re=(ee,pe)=>(e.type=="range"||e.type=="week")&&ee.type=="curr"&&N(ee,pe).includes("nut-calendar__day--active"),ie=(ee,pe)=>re(ee,pe)&&b(L(ee,pe)),Te=(ee,pe)=>p.currDate.length>=2&&O(L(ee,pe))?re(ee,pe):!1,Pe=()=>{if(p.currDate.length>=2)return ze.isEqual(p.currDate[0],p.currDate[1])},ke=ee=>{const pe=`${ee.year}-${ee.month}-${Number(ee.day)<10?"0"+ee.day:ee.day}`;return ze.isEqual(pe,ze.date2Str(new Date))},xe=ee=>{if(p.monthsData.length<=1)return;const pe=ee.target.scrollTop;let q=Math.floor(pe/p.avgHeight);if(q==0)pe>=p.monthsData[q+1].cssScrollHeight&&(q+=1);else if(q>0&&q<p.monthsNum-1)pe>=p.monthsData[q+1].cssScrollHeight&&(q+=1),pe<p.monthsData[q].cssScrollHeight&&(q-=1);else{const te=Math.round(pe+f.value);te<p.monthsData[q].cssScrollHeight+p.monthsData[q].cssHeight&&pe>p.monthsData[q-1].cssScrollHeight&&(q-=1),q+1<=p.monthsNum&&te>=p.monthsData[q+1].cssScrollHeight+p.monthsData[q+1].cssHeight&&(q+=1),q>=1&&pe<p.monthsData[q-1].cssScrollHeight&&(q-=1)}p.currentIndex!==q&&(p.currentIndex=q,K(p.monthsNum,q)),p.yearMonthTitle=p.monthsData[q].title},vt=()=>{p.chooseData.splice(0),p.monthsData.splice(0),oe()};return tt(()=>{oe()}),ve(()=>e.defaultValue,ee=>{ee&&e.poppable&&vt()}),zF(Ky(Ky({weeks:i,compConthsData:h,showTopBtn:m,topInfo:w,bottomInfo:C,rangeTip:Pe,mothsViewScroll:xe,getClass:N,isStartTip:ie,isEndTip:Te,chooseDay:S,isCurrDay:ke,confirm:I,months:a},rt(p)),rt(e)),{translate:o,monthsPanel:l,weeksPanel:u,viewArea:c})}}),KF={class:"nut-calendar__header"},GF={key:0,class:"nut-calendar__header-title"},YF={key:1,class:"nut-calendar__header-slot"},QF={key:2,class:"nut-calendar__header-subtitle"},XF={ref:"weeksPanel",class:"nut-calendar__weekdays"},JF={ref:"monthsPanel",class:"nut-calendar__panel"},ZF={class:"nut-calendar__month-title"},ej={class:"nut-calendar__days"},tj=["onClick"],nj={class:"nut-calendar__day-value"},rj={key:0,class:"nut-calendar__day-tips nut-calendar__day-tips--top"},oj={key:1,class:"nut-calendar__day-tips nut-calendar__day-tips--bottom"},sj={key:2,class:"nut-calendar__day-tips--curr"},ij={key:4,class:"nut-calendar__day-tip"},aj={key:0,class:"nut-calendar__footer"};function lj(e,t,n,r,o,s){return y(),T("view",{class:z(["nut-calendar",{"nut-calendar--nopop":!e.poppable,"nut-calendar--nofooter":e.isAutoBackFill}])},[$("view",KF,[e.showTitle?(y(),T("view",GF,x(e.title||e.translate("title")),1)):j("",!0),e.showTopBtn?(y(),T("view",YF,[U(e.$slots,"btn")])):j("",!0),e.showSubTitle?(y(),T("view",QF,x(e.yearMonthTitle),1)):j("",!0),$("view",XF,[(y(!0),T(le,null,Re(e.weeks,(i,a)=>(y(),T("view",{key:a,class:z(["nut-calendar__weekday",{weekend:i.weekend}])},x(i.day),3))),128))],512)]),$("view",{ref:"months",class:"nut-calendar__content",onScroll:t[0]||(t[0]=(...i)=>e.mothsViewScroll&&e.mothsViewScroll(...i))},[$("view",JF,[$("view",{ref:"viewArea",class:"nut-calendar__body",style:W({transform:`translateY(${e.translateY}px)`})},[(y(!0),T(le,null,Re(e.compConthsData,(i,a)=>(y(),T("view",{key:a,class:"nut-calendar__month"},[$("view",ZF,x(i.title),1),$("view",ej,[$("view",{class:z(["nut-calendar__days-item",e.type==="range"?"nut-calendar__days-item--range":""])},[(y(!0),T(le,null,Re(i.monthData,(l,u)=>(y(),T("view",{key:u,class:z(["nut-calendar__day",e.getClass(l,i,u)]),onClick:c=>e.chooseDay(l,i)},[$("view",nj,[U(e.$slots,"day",{date:l.type=="curr"?l:""},()=>[Ie(x(l.type=="curr"?l.day:""),1)])]),e.topInfo?(y(),T("view",rj,[U(e.$slots,"top-info",{date:l.type=="curr"?l:""})])):j("",!0),e.bottomInfo?(y(),T("view",oj,[U(e.$slots,"bottom-info",{date:l.type=="curr"?l:""})])):j("",!0),!e.bottomInfo&&e.showToday&&e.isCurrDay(l)?(y(),T("view",sj,x(e.translate("today")),1)):j("",!0),e.isStartTip(l,i)?(y(),T("view",{key:3,class:z(["nut-calendar__day-tip",{"nut-calendar__day-tips--top":e.rangeTip()}])},x(e.startText||e.translate("start")),3)):j("",!0),e.isEndTip(l,i)?(y(),T("view",ij,x(e.endText||e.translate("end")),1)):j("",!0)],10,tj))),128))],2)])]))),128))],4)],512)],544),e.poppable&&!e.isAutoBackFill?(y(),T("view",aj,[U(e.$slots,"footer-info",{date:e.chooseData},()=>[$("view",{class:"nut-calendar__confirm",onClick:t[1]||(t[1]=(...i)=>e.confirm&&e.confirm(...i))},x(e.confirmText||e.translate("confirm")),1)])])):j("",!0)],2)}const uj=Ne(WF,[["render",lj]]),{create:cj}=Oe("calendar"),dj=cj({components:{NutCalendarItem:uj,NutPopup:Hn},props:{type:{type:String,default:"one"},isAutoBackFill:{type:Boolean,default:!1},toDateAnimation:{type:Boolean,default:!0},poppable:{type:Boolean,default:!0},showTitle:{type:Boolean,default:!0},showSubTitle:{type:Boolean,default:!0},visible:{type:Boolean,default:!1},showToday:{type:Boolean,default:!0},title:{type:String,default:""},confirmText:{type:String,default:""},startText:{type:String,default:""},endText:{type:String,default:""},defaultValue:{type:[String,Array]},startDate:{type:String,default:ze.getDay(0)},endDate:{type:String,default:ze.getDay(365)},firstDayOfWeek:{type:Number,default:0,validator:e=>e>=0&&e<=6},lockScroll:{type:Boolean,default:!0},disabledDate:Function},emits:["choose","close","update:visible","select"],setup(e,{emit:t,slots:n,expose:r}){const o=F({get(){return e.visible},set(O){t("update:visible",O)}}),s=F(()=>n.btn),i=F(()=>n["top-info"]),a=F(()=>n.day),l=F(()=>n["bottom-info"]),u=F(()=>n["footer-info"]),c=H(null);r({scrollToDate:O=>{var A;(A=c.value)==null||A.scrollToDate(O)},initPosition:()=>{var O;(O=c.value)==null||O.initPosition()}});const m=()=>{t("update:visible",!1)},w=()=>{t("close"),t("update:visible",!1)};return{visible:o,closePopup:()=>{w()},opened:()=>{var O;(O=c.value)==null||O.initPosition()},update:m,close:w,select:O=>{t("select",O)},choose:O=>{w(),t("choose",O)},calendarRef:c,showTopBtn:s,topInfo:i,dayInfo:a,bottomInfo:l,footerInfo:u}}});function fj(e,t,n,r,o,s){const i=ue("nut-calendar-item"),a=ue("nut-popup");return e.poppable?(y(),ye(a,ws({key:0,visible:e.visible,"onUpdate:visible":t[0]||(t[0]=l=>e.visible=l),position:"bottom",round:"",closeable:""},e.$attrs,{style:{height:"85vh"},"lock-scroll":e.lockScroll,onOpened:e.opened}),{default:de(()=>[X(i,{ref:"calendarRef",type:e.type,"is-auto-back-fill":e.isAutoBackFill,poppable:e.poppable,title:e.title,"default-value":e.defaultValue,"start-date":e.startDate,"end-date":e.endDate,"confirm-text":e.confirmText,"start-text":e.startText,"end-text":e.endText,"show-today":e.showToday,"show-title":e.showTitle,"show-sub-title":e.showSubTitle,"to-date-animation":e.toDateAnimation,"first-day-of-week":e.firstDayOfWeek,"disabled-date":e.disabledDate,onUpdate:e.update,onClose:e.close,onChoose:e.choose,onSelect:e.select},Aa({_:2},[e.showTopBtn?{name:"btn",fn:de(()=>[U(e.$slots,"btn")]),key:"0"}:void 0,e.dayInfo?{name:"day",fn:de(l=>[U(e.$slots,"day",{date:l.date})]),key:"1"}:void 0,e.topInfo?{name:"top-info",fn:de(l=>[U(e.$slots,"top-info",{date:l.date})]),key:"2"}:void 0,e.bottomInfo?{name:"bottom-info",fn:de(l=>[U(e.$slots,"bottom-info",{date:l.date})]),key:"3"}:void 0,e.footerInfo?{name:"footer-info",fn:de(l=>[U(e.$slots,"footer-info",{date:l.date})]),key:"4"}:void 0]),1032,["type","is-auto-back-fill","poppable","title","default-value","start-date","end-date","confirm-text","start-text","end-text","show-today","show-title","show-sub-title","to-date-animation","first-day-of-week","disabled-date","onUpdate","onClose","onChoose","onSelect"])]),_:3},16,["visible","lock-scroll","onOpened"])):(y(),ye(i,{key:1,ref:"calendarRef",type:e.type,"is-auto-back-fill":e.isAutoBackFill,poppable:e.poppable,title:e.title,"confirm-text":e.confirmText,"start-text":e.startText,"end-text":e.endText,"default-value":e.defaultValue,"start-date":e.startDate,"end-date":e.endDate,"show-title":e.showTitle,"show-sub-title":e.showSubTitle,"to-date-animation":e.toDateAnimation,"show-today":e.showToday,"first-day-of-week":e.firstDayOfWeek,"disabled-date":e.disabledDate,onUpdate:e.update,onClose:e.close,onChoose:e.choose,onSelect:e.select},Aa({_:2},[e.showTopBtn?{name:"btn",fn:de(()=>[U(e.$slots,"btn")]),key:"0"}:void 0,e.dayInfo?{name:"day",fn:de(l=>[U(e.$slots,"day",{date:l.date})]),key:"1"}:void 0,e.topInfo?{name:"top-info",fn:de(l=>[U(e.$slots,"top-info",{date:l.date})]),key:"2"}:void 0,e.bottomInfo?{name:"bottom-info",fn:de(l=>[U(e.$slots,"bottom-info",{date:l.date})]),key:"3"}:void 0]),1032,["type","is-auto-back-fill","poppable","title","confirm-text","start-text","end-text","default-value","start-date","end-date","show-title","show-sub-title","to-date-animation","show-today","first-day-of-week","disabled-date","onUpdate","onClose","onChoose","onSelect"]))}const hj=Ne(dj,[["render",fj]]);var pj=Object.defineProperty,mj=Object.defineProperties,gj=Object.getOwnPropertyDescriptors,Gy=Object.getOwnPropertySymbols,vj=Object.prototype.hasOwnProperty,yj=Object.prototype.propertyIsEnumerable,Yy=(e,t,n)=>t in e?pj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_j=(e,t)=>{for(var n in t||(t={}))vj.call(t,n)&&Yy(e,n,t[n]);if(Gy)for(var n of Gy(t))yj.call(t,n)&&Yy(e,n,t[n]);return e},wj=(e,t)=>mj(e,gj(t));const bj=()=>Ct("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[Ct("path",{d:"M6.605 9.49a.771.771 0 0 1 0-.98l3.6-4.372a.771.771 0 0 1 1.19.981L8.2 9l3.197 3.881a.771.771 0 1 1-1.191.98l-3.6-4.37Z"})]),$j=()=>Ct("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[Ct("path",{d:"M11.396 9.49a.771.771 0 0 0 0-.98l-3.6-4.372a.771.771 0 0 0-1.191.981L9.8 9l-3.196 3.881a.771.771 0 0 0 1.19.98l3.6-4.37Z"})]),Tj=()=>Ct("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[Ct("path",{d:"M13.853 4.026a.771.771 0 0 1 .12 1.085L10.864 9l3.11 3.889a.771.771 0 1 1-1.204.963L9.272 9.482a.771.771 0 0 1 0-.964l3.497-4.371a.771.771 0 0 1 1.084-.12Zm-5.245 0a.771.771 0 0 1 .12 1.085L5.617 9l3.111 3.889a.771.771 0 0 1-1.205.963L4.026 9.482a.771.771 0 0 1 0-.964l3.497-4.371a.771.771 0 0 1 1.085-.12Z"})]),Sj=()=>Ct("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[Ct("path",{d:"M4.147 13.974a.771.771 0 0 1-.12-1.085L7.136 9 4.028 5.11a.771.771 0 1 1 1.204-.963l3.497 4.371a.771.771 0 0 1 0 .964l-3.497 4.371a.771.771 0 0 1-1.084.12Zm5.245 0a.771.771 0 0 1-.12-1.085L12.383 9 9.272 5.11a.771.771 0 1 1 1.205-.963l3.497 4.371a.771.771 0 0 1 0 .964l-3.497 4.371a.771.771 0 0 1-1.085.12Z"})]),ko=e=>e?{year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate()}:null,Of=e=>e?new Date(e.year,e.month-1,e.date):null,Qy=e=>Array.isArray(e)?e.map(t=>ko(t)):e?[ko(e)]:[],Cj=e=>Array.isArray(e)?e.map(t=>Of(t)):e?[Of(e)]:[],Ej=(e,t,n)=>{let r=t-1,o=e;r<=0&&(r=12,o-=1);let s=ze.getMonthPreDay(e,t);s-=n,s>=7&&(s-=7);const i=ze.getMonthDays(`${o}`,`${r}`);return Array.from(Array(i),(l,u)=>({type:"prev",year:o,month:r,date:u+1})).slice(i-s)},Pj=(e,t)=>{const n=ze.getMonthDays(`${e}`,`${t}`);return Array.from(Array(n),(r,o)=>({type:"current",year:e,month:t,date:o+1}))},Ij=(e,t)=>{const n=new Date(e.year,e.month-1,e.date),r=(n.getDay()+7-t)%7;return[ko(new Date(n.getTime()-24*60*60*1e3*r)),ko(new Date(n.getTime()+24*60*60*1e3*(6-r)))]},kj=(e,t)=>{const n=e.year,r=e.month,o=[...Ej(n,r,t),...Pj(n,r)],s=o.length,i=e.month===12?e.year+1:e.year,a=e.month===12?1:e.month+1;for(let l=1;l<=42-s;l++)o.push({type:"next",year:i,month:a,date:l});return o},$o=(e,t)=>{if(e&&t)return e.year===t.year?e.month===t.month?e.date-t.date:e.month-t.month:e.year-t.year},Fs=(e,t)=>$o(e,t)===0,Oj={class:"nut-calendarcard"},Aj={class:"nut-calendarcard-header"},Dj={class:"nut-calendarcard-header-left"},Rj={class:"nut-calendarcard-header-title"},Nj={class:"nut-calendarcard-header-right"},Vj={class:"nut-calendarcard-content"},Lj={class:"nut-calendarcard-days"},Mj={class:"nut-calendarcard-days"},Bj=["onClick"],Fj={class:"nut-calendarcard-day-top"},jj={class:"nut-calendarcard-day-inner"},xj={class:"nut-calendarcard-day-bottom"},Xy="NutCalendarCard",V4=Le(wj(_j({},{name:Xy}),{__name:"calendar-card",props:{type:{default:"single"},firstDayOfWeek:{default:0},modelValue:{default:null},startDate:{default:null},endDate:{default:null},disableDay:{type:Function,default:()=>!1}},emits:["update:modelValue","change","dayClick","pageChange"],setup(e,{expose:t,emit:n}){const r=e,o=n,s=It(Xy),a=H((()=>{let N=new Date(Date.now());const I=r.modelValue;return Array.isArray(I)?I.length&&(N=I[0]):I&&(N=I),{year:N.getFullYear(),month:N.getMonth()+1}})()),l=H([]),u=F(()=>{const N=s("weekdays").map((I,S)=>({name:I,key:S}));return[...N.slice(r.firstDayOfWeek,7),...N.slice(0,r.firstDayOfWeek)]}),c=H(r.modelValue?Qy(r.modelValue):[]);ni(()=>{const N=r.modelValue?Qy(r.modelValue):[];c.value=N});const f=N=>{if(c.value=N,r.type==="single"){const I=Of(N[0]);o("update:modelValue",I),o("change",I)}else if(r.type==="multiple"||r.type==="range"||r.type==="week"){const I=Cj(N);o("update:modelValue",I),o("change",I)}};ni(()=>{const N=kj(a.value,r.firstDayOfWeek);l.value=N,o("pageChange",a.value)});const h=N=>!!(r.disableDay&&r.disableDay(N)||r.startDate&&Number($o(N,ko(r.startDate)))<0||r.endDate&&Number($o(N,ko(r.endDate)))>0),m=N=>{if(r.type==="single"||r.type==="multiple"){for(const I in c.value)if(Fs(N,c.value[I]))return!0}else if(r.type==="range"&&c.value.length===1&&Fs(c.value[0],N))return!0;return!1},w=N=>(r.type==="range"||r.type==="week")&&c.value.length===2&&Fs(N,c.value[0]),C=N=>(r.type==="range"||r.type==="week")&&c.value.length===2&&Fs(N,c.value[1]),p=N=>{if((r.type==="range"||r.type==="week")&&c.value.length===2){const I=$o(c.value[0],N),S=$o(N,c.value[1]);if(I&&I<0&&S&&S<0)return!0}return!1},g=N=>{const I=new Date(N.year,N.month-1,N.date).getDay();return I===0||I===6},b=N=>{if(h(N))return["disabled"];const I=[];return N.type==="current"&&(m(N)&&I.push("active"),w(N)&&I.push("start"),C(N)&&I.push("end"),p(N)&&I.push("mid"),g(N)&&I.push("weekend")),I},O=(N,I)=>{if(r.startDate){const S=$o({year:N,month:I,date:31},ko(r.startDate));if(S&&S<0)return}if(r.endDate){const S=$o({year:N,month:I,date:1},ko(r.endDate));if(S&&S>0)return}a.value={year:N,month:I}},A=(N=1)=>{const I=a.value.year*12+a.value.month;let S=(I+N)%12;S===0&&(S=12);const _=Math.floor((I+N-S)/12);O(_,S)},L=N=>{if(!(N.type==="prev"||N.type==="next"||h(N)))switch(o("dayClick",N),r.type){case"single":{c.value[0]&&Fs(c.value[0],N)?f([]):f([N]);break}case"multiple":{const I=c.value.find(S=>Fs(S,N));f(I?c.value.filter(S=>S!==I):[...c.value,N]);break}case"range":{const I=c.value.length;if(I===0||I===2)f([N]);else if(I===1){const S=$o(c.value[0],N);S==null?f([]):S<0?f([c.value[0],N]):f([N,c.value[0]])}else console.warn("[NutUI] Calendar range error");break}case"week":{if(c.value.length===2||c.value.length===0){const[I,S]=Ij(N,r.firstDayOfWeek);f([I,S])}else console.warn("[NutUI] Calendar week error");break}default:console.warn("[NutUI] Calendar type error")}};return t({jump:A,jumpTo:O}),(N,I)=>ct((y(),T("div",Oj,[$("div",Aj,[$("div",Dj,[$("div",{class:"double-left",onClick:I[0]||(I[0]=S=>A(-12))},[X(Ae(Tj))]),$("div",{class:"left",onClick:I[1]||(I[1]=S=>A(-1))},[X(Ae(bj))])]),$("div",Rj,x(Ae(s)("monthTitle",a.value.year,a.value.month)),1),$("div",Nj,[$("div",{class:"right",onClick:I[2]||(I[2]=S=>A(1))},[X(Ae($j))]),$("div",{class:"double-right",onClick:I[3]||(I[3]=S=>A(12))},[X(Ae(Sj))])])]),$("div",Vj,[$("div",Lj,[(y(!0),T(le,null,Re(u.value,S=>(y(),T("div",{key:S.name,class:z(["nut-calendarcard-day header",S.key===0||S.key===6?"weekend":""])},x(S.name),3))),128))]),$("div",Mj,[(y(!0),T(le,null,Re(l.value,S=>(y(),T("div",{key:`${S.year}-${S.month}-${S.date}`,class:z(["nut-calendarcard-day",[S.type,...b(S)]]),onClick:_=>L(S)},[$("div",Fj,[U(N.$slots,"top",{day:S})]),$("div",jj,[U(N.$slots,"default",{day:S},()=>[Ie(x(S.date),1)])]),$("div",xj,[U(N.$slots,"bottom",{day:S})])],10,Bj))),128))])])],512)),[[jt,l.value.length>0]])}}));et(V4);const L4=Symbol("nut-checkbox"),{create:Uj,componentName:_o}=Oe("checkbox"),zj=Uj({props:{modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},textPosition:{type:String,default:"right"},iconSize:{type:[String,Number],default:""},label:{type:String,default:""},indeterminate:{type:Boolean,default:!1},shape:{type:String,default:"round"}},emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=zr(lo(e,"disabled")),o=Lt(L4,null),s=qe({partialSelect:e.indeterminate}),i=F(()=>!!o),a=F(()=>i.value?o.value.value.includes(e.label):e.modelValue),l=F(()=>i.value&&o.disabled.value?o.disabled.value:r.value),u=F(()=>!!e.modelValue),c=F(()=>l.value?"nut-checkbox__icon--disable":s.partialSelect?"nut-checkbox__icon--indeterminate":a.value?"nut-checkbox__icon":"nut-checkbox__icon--unchecked");let f="";const h=(g,b)=>{f="click",t("update:modelValue",g),t("change",g,b)};ve(()=>e.modelValue,g=>{f=="click"?f="":t("change",g)});const m=()=>{const{iconSize:g}=e,b={CheckNormal:n.icon?n.icon:W$,Checked:n.checkedIcon?n.checkedIcon:G$,CheckDisabled:n.indeterminate?n.indeterminate:K8},O=s.partialSelect?b.CheckDisabled:a.value?b.Checked:b.CheckNormal,A=Ht(g);return Ct(O,{width:A,height:A,size:A,class:c.value})},w=()=>{var g;return Ct("view",{class:`${_o}__label ${l.value?`${_o}__label--disabled`:""}`},(g=n.default)==null?void 0:g.call(n))},C=()=>{var g;return Ct("view",{class:`${_o}__button ${a.value&&`${_o}__button--active`} ${l.value?`${_o}__button--disabled`:""}`},(g=n.default)==null?void 0:g.call(n))},p=()=>{var g,b;if(!l.value){if(u.value&&s.partialSelect){s.partialSelect=!1,h(u.value,(g=n.default)==null?void 0:g.call(n)[0].children);return}if(h(!u.value,(b=n.default)==null?void 0:b.call(n)[0].children),i.value){const O=o.value.value,A=o.max.value,{label:L}=e,N=O.indexOf(L);N>-1?O.splice(N,1):N<=-1&&(O.length<A||!A)&&O.push(L),o.updateValue(O)}}};return tt(()=>{i.value&&o.link(Mr())}),Ga(()=>{i.value&&o.unlink(Mr())}),ve(()=>e.indeterminate,g=>{s.partialSelect=g}),()=>Ct("view",{class:`${_o} ${_o}--${e.shape} ${e.textPosition==="left"?`${_o}--reverse`:""}`,onClick:p},[e.shape=="button"?C():[m(),w()]])}}),{create:Hj,componentName:qj}=Oe("checkbox-group"),Wj=Hj({props:{modelValue:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},max:{type:Number,default:0}},emits:["change","update:modelValue"],setup(e,{slots:t,emit:n,expose:r}){const o=qe({children:[]}),s=c=>{c.proxy&&o.children.push(c.proxy)},i=c=>{c.proxy&&(o.children=o.children.filter(f=>f!==c.proxy))},a=c=>{n("update:modelValue",c),n("change",c)},l=c=>{const f=[];c&&o.children.forEach(h=>{h!=null&&h.disabled||f.push(h==null?void 0:h.label)}),n("update:modelValue",f)},u=()=>{const c=o.children.filter(f=>f!=null&&f.disabled?!1:!e.modelValue.includes(f.label)).map(f=>f.label);n("update:modelValue",c)};return hn(L4,{value:F(()=>e.modelValue),disabled:F(()=>e.disabled),max:F(()=>e.max),updateValue:a,link:s,unlink:i}),ve(()=>e.modelValue,c=>{n("change",c)}),r({toggleAll:l,toggleReverse:u}),()=>{var c;return Ct("view",{class:qj},(c=t.default)==null?void 0:c.call(t))}}});var Kj=Object.defineProperty,Gj=Object.defineProperties,Yj=Object.getOwnPropertyDescriptors,Jy=Object.getOwnPropertySymbols,Qj=Object.prototype.hasOwnProperty,Xj=Object.prototype.propertyIsEnumerable,Zy=(e,t,n)=>t in e?Kj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ya=(e,t)=>{for(var n in t||(t={}))Qj.call(t,n)&&Zy(e,n,t[n]);if(Jy)for(var n of Jy(t))Xj.call(t,n)&&Zy(e,n,t[n]);return e},M4=(e,t)=>Gj(e,Yj(t));const Jj={text:"text",value:"value",children:"children",className:"className"},Zj=(e,t)=>{const n=qe({formattedColumns:e.columns}),r=F(()=>ya(ya({},Jj),e.fieldNames)),o=H([]),s=F(()=>{const p=r.value;return c.value.map((g,b)=>{const O=g.findIndex(A=>A[p.value]===o.value[b]);return O===-1?0:O})}),i=H([]),a=p=>{p&&i.value.length<c.value.length&&i.value.push(p)},l=F(()=>{const p=r.value;return c.value.map((g,b)=>g.find(O=>O[p.value]===o.value[b])||g[0])}),u=F(()=>{const p=n.formattedColumns[0],g=r.value;if(p){if(Array.isArray(p))return"multiple";if(g.children in p)return"cascade"}return"single"}),c=F(()=>{let p=[];switch(u.value){case"multiple":p=n.formattedColumns;break;case"cascade":p=f(n.formattedColumns,o.value?o.value:[]);break;default:p=[n.formattedColumns];break}return p}),f=(p,g)=>{const b=[],O=r.value;let A={text:"",value:"",[O.children]:p},L=0;for(;A&&A[O.children];){const N=A[O.children],I=g[L];let S=N.findIndex(_=>_[O.value]===I);S===-1&&(S=0),A=A[O.children][S],L++,b.push(N)}return b},h=()=>{t("cancel",{selectedValue:o.value,selectedOptions:l.value})},m=(p,g)=>{var b;const O=r.value;if(g&&Object.keys(g).length){if(o.value=o.value?o.value:[],u.value==="cascade"){o.value[p]=(b=g[O.value])!=null?b:"";let A=p,L=g;for(;L&&L[O.children]&&L[O.children][0];)o.value[A+1]=L[O.children][0][O.value],A++,L=L[O.children][0];L&&L[O.children]&&L[O.children].length===0&&(o.value=o.value.slice(0,A+1))}else o.value[p]=Object.prototype.hasOwnProperty.call(g,O.value)?g[O.value]:"";t("change",{columnIndex:p,selectedValue:o.value,selectedOptions:l.value})}},w=()=>{const p=r.value;o.value&&!o.value.length&&c.value.forEach(g=>{o.value.push(g[0][p.value])}),t("confirm",{selectedValue:o.value,selectedOptions:l.value})},C=(p,g)=>JSON.stringify(p)===JSON.stringify(g);return ve(()=>e.modelValue,p=>{C(p,o.value)||(o.value=p)},{deep:!0,immediate:!0}),ve(o,p=>{C(p,e.modelValue)||t("update:modelValue",p)},{deep:!0}),ve(()=>e.columns,p=>{n.formattedColumns=p}),M4(ya({},rt(n)),{columnsType:u,columnsList:c,columnFieldNames:r,cancel:h,changeHandler:m,confirm:w,defaultValues:o,defaultIndexes:s,pickerColumn:i,swipeRef:a,selectedOptions:l,isSameValue:C})},{create:ex}=Oe("picker-column"),tx=ex({props:{value:[String,Number],columnsType:String,column:{type:Array,default:()=>[]},threeDimensional:{type:Boolean,default:!0},swipeDuration:{type:[Number,String],default:1e3},visibleOptionNum:{type:[Number,String],default:7},optionHeight:{type:[Number,String],default:36},fieldNames:{type:Object,default:()=>({})},taro:{type:Boolean,default:!1}},emits:["click","change"],setup(e,{emit:t}){const n=fo(),r=qe({touchParams:{startY:0,endY:0,startTime:0,endTime:0,lastY:0,lastTime:0},currIndex:1,transformY:0,scrollDistance:0,rotation:20}),o=H(null),s=H(!1),i=H(0),a=H(0),l=200,u=300,c=15,f=F(()=>({transition:`transform ${a.value}ms cubic-bezier(0.17, 0.89, 0.45, 1)`,transform:`rotate3d(1, 0, 0, ${i.value})`,top:`calc(50% - ${+e.optionHeight/2}px)`})),h=F(()=>{const{optionHeight:P}=e;return{transition:`transform ${a.value}ms cubic-bezier(0.17, 0.89, 0.45, 1)`,transform:`translate3d(0, ${r.scrollDistance}px, 0)`,top:`calc(50% - ${+P/2}px)`,height:`${P}px`}}),m=P=>`transform: rotate3d(1, 0, 0, ${-r.rotation*P}deg) translate3d(0px, 0px, 104px)`,w=F(()=>({backgroundSize:`100% ${(+e.visibleOptionNum-1)*+e.optionHeight/2}px`})),C=P=>{if(n.start(P),s.value&&!e.taro){const k=o.value,{transform:R}=window.getComputedStyle(k);if(e.threeDimensional){const D=Math.floor(parseInt(i.value)/360),oe=+R.split(", ")[5],J=+R.split(", ")[6]<0?180:0,Q=D*360+Math.acos(oe)/Math.PI*180+J;r.scrollDistance=-Math.abs((Q/r.rotation-1)*+e.optionHeight)}else r.scrollDistance=+R.slice(7,R.length-1).split(", ")[5]}fi(P,!0),r.touchParams.startY=n.deltaY.value,r.touchParams.startTime=Date.now(),r.transformY=r.scrollDistance},p=P=>{n.move(P),n.isVertical()&&(s.value=!0,fi(P,!0)),r.touchParams.lastY=n.deltaY.value;let k=r.touchParams.lastY-r.touchParams.startY;N(k)},g=()=>{r.touchParams.lastY=n.deltaY.value,r.touchParams.lastTime=Date.now();let P=r.touchParams.lastY-r.touchParams.startY,k=r.touchParams.lastTime-r.touchParams.startTime;if(k<=u&&Math.abs(P)>c){const R=b(P,k);N(R,"end",+e.swipeDuration);return}else N(P,"end");setTimeout(()=>{n.reset(),s.value=!1},0)},b=(P,k)=>(P=Math.abs(P/k)/.003*(P<0?-1:1),P),O=P=>P>=r.currIndex+8||P<=r.currIndex-8,A=P=>P==r.currIndex,L=(P=0,k,R=l,D)=>{k==="end"?a.value=R:a.value=0,i.value=D,r.scrollDistance=P},N=(P,k,R)=>{const{optionHeight:D}=e;let oe=P+r.transformY;if(k==="end"){oe>0&&(oe=0),oe<-(e.column.length-1)*+D&&(oe=-(e.column.length-1)*+D);let J=Math.round(oe/+D)*+D,Q=`${(Math.abs(Math.round(J/+D))+1)*r.rotation}deg`;L(J,k,R,Q),r.currIndex=Math.abs(Math.round(J/+D))+1}else{let J=0,Q=(-oe/+D+1)*r.rotation;const K=(e.column.length+1)*r.rotation,re=0;J=Kn(Q,re,K),re<J&&J<K&&(L(oe,null,void 0,J+"deg"),r.currIndex=Math.abs(Math.round(oe/+D))+1)}},I=()=>{t("change",e.column[r.currIndex-1])},S=P=>{const{column:k}=e;let R=k.findIndex(oe=>oe[e.fieldNames.value]===e.value);r.currIndex=R===-1?1:R+1;let D=R===-1?0:R*+e.optionHeight;P&&I(),N(-D)},_=()=>{s.value=!1,a.value=0,I()};return ve(()=>e.column,()=>{e.column&&e.column.length>0&&(r.transformY=0,S(!1))},{deep:!0}),ve(()=>e.value,()=>{r.transformY=0,S(!1)},{deep:!0}),tt(()=>{S(!0)}),M4(ya(ya({},rt(r)),rt(e)),{setRollerStyle:m,isHidden:O,isCurrPick:A,roller:o,onTouchStart:C,onTouchMove:p,onTouchEnd:g,touchRollerStyle:f,touchTileStyle:h,setMove:N,stopMomentum:_,pxCheck:Ht,maskStyles:w})}});function nx(e,t,n,r,o,s){return y(),T("view",{class:"nut-picker__list",onTouchstart:t[1]||(t[1]=(...i)=>e.onTouchStart&&e.onTouchStart(...i)),onTouchmove:t[2]||(t[2]=(...i)=>e.onTouchMove&&e.onTouchMove(...i)),onTouchend:t[3]||(t[3]=(...i)=>e.onTouchEnd&&e.onTouchEnd(...i))},[$("view",{ref:"roller",class:"nut-picker-roller",style:W(e.threeDimensional?e.touchRollerStyle:e.touchTileStyle),onTransitionend:t[0]||(t[0]=(...i)=>e.stopMomentum&&e.stopMomentum(...i))},[(y(!0),T(le,null,Re(e.column,(i,a)=>{var l;return y(),T(le,{key:(l=i[e.fieldNames.value])!=null?l:a},[i&&i[e.fieldNames.text]&&e.threeDimensional?(y(),T("view",{key:0,class:z(["nut-picker-roller-item",{"nut-picker-roller-item-hidden":e.isHidden(a+1),[i[e.fieldNames.className]]:i[e.fieldNames.className]}]),style:W(e.setRollerStyle(a+1))},x(i[e.fieldNames.text]),7)):j("",!0),i&&i[e.fieldNames.text]&&!e.threeDimensional?(y(),T("view",{key:1,class:z(["nut-picker-roller-item-tile",{[i[e.fieldNames.className]]:i[e.fieldNames.className],"nut-picker-roller-item-selected":e.isCurrPick(a+1)}]),style:W({height:e.pxCheck(e.optionHeight),lineHeight:e.pxCheck(e.optionHeight)})},x(i[e.fieldNames.text]),7)):j("",!0)],64)}),128))],36),$("view",{class:"nut-picker-roller-mask",style:W(e.maskStyles)},null,4)],32)}const rx=Ne(tx,[["render",nx]]),ox={modelValue:{type:Array,default:()=>[]},title:{type:String,default:""},cancelText:{type:String,default:""},okText:{type:String,default:""},columns:{type:Array,default:()=>[]},threeDimensional:{type:Boolean,default:!1},swipeDuration:{type:[Number,String],default:1e3},showToolbar:{type:Boolean,default:!0},visibleOptionNum:{type:[Number,String],default:7},optionHeight:{type:[Number,String],default:36},fieldNames:{type:Object,default:()=>({})}},{create:sx}=Oe("picker"),ix="NutPicker",ax=sx({components:{NutPickerColumn:rx},props:ox,emits:["cancel","change","confirm","update:modelValue"],setup(e,{emit:t}){const n=It(ix),{changeHandler:r,confirm:o,defaultValues:s,columnsList:i,columnsType:a,columnFieldNames:l,cancel:u}=Zj(e,t),c=H([]),f=w=>{w&&c.value.length<i.value.length&&c.value.push(w)},h=F(()=>{const w={};return w.height=`${+e.visibleOptionNum*+e.optionHeight}px`,w["--lineHeight"]=`${+e.optionHeight}px`,w});return{columnsType:a,columnsList:i,columnFieldNames:l,cancel:u,changeHandler:r,confirmHandler:()=>{c.value.length>0&&c.value.forEach(w=>{w.stopMomentum()}),o()},defaultValues:s,translate:n,pickerColumn:c,swipeRef:f,columnStyle:h}}}),lx={class:"nut-picker"},ux={key:0,class:"nut-picker__bar"},cx={class:"nut-picker__title"};function dx(e,t,n,r,o,s){const i=ue("nut-picker-column");return y(),T("div",lx,[e.showToolbar?(y(),T("view",ux,[$("view",{class:"nut-picker__left",onClick:t[0]||(t[0]=(...a)=>e.cancel&&e.cancel(...a))},x(e.cancelText||e.translate("cancel")),1),$("view",cx,x(e.title),1),$("view",{class:"nut-picker__right",onClick:t[1]||(t[1]=(...a)=>e.confirmHandler&&e.confirmHandler(...a))},x(e.okText||e.translate("confirm")),1)])):j("",!0),U(e.$slots,"top"),$("view",{class:"nut-picker__column",style:W(e.columnStyle)},[(y(!0),T(le,null,Re(e.columnsList,(a,l)=>(y(),T("view",{key:l,class:"nut-picker__columnitem"},[X(i,{ref_for:!0,ref:e.swipeRef,column:a,"columns-type":e.columnsType,"field-names":e.columnFieldNames,value:e.defaultValues&&e.defaultValues[l],"three-dimensional":e.threeDimensional,"swipe-duration":e.swipeDuration,"visible-option-num":e.visibleOptionNum,"option-height":e.optionHeight,onChange:u=>{e.changeHandler(l,u)}},null,8,["column","columns-type","field-names","value","three-dimensional","swipe-duration","visible-option-num","option-height","onChange"])]))),128))],4),U(e.$slots,"default")])}const B4=Ne(ax,[["render",dx]]);var fx=Object.defineProperty,hx=Object.defineProperties,px=Object.getOwnPropertyDescriptors,e1=Object.getOwnPropertySymbols,mx=Object.prototype.hasOwnProperty,gx=Object.prototype.propertyIsEnumerable,t1=(e,t,n)=>t in e?fx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vx=(e,t)=>{for(var n in t||(t={}))mx.call(t,n)&&t1(e,n,t[n]);if(e1)for(var n of e1(t))gx.call(t,n)&&t1(e,n,t[n]);return e},yx=(e,t)=>hx(e,px(t));const{create:_x}=Oe("date-picker"),n1=new Date().getFullYear();function Sd(e){return QR(e)&&!isNaN(e.getTime())}const wx={day:"日",year:"年",month:"月",hour:"时",minute:"分",seconds:"秒"},bx=_x({components:{NutPicker:B4},props:{modelValue:null,title:{type:String,default:""},okText:{type:String,default:""},cancelText:{type:String,default:""},type:{type:String,default:"date"},isShowChinese:{type:Boolean,default:!1},minuteStep:{type:Number,default:1},minDate:{type:Date,default:()=>new Date(n1-10,0,1),validator:Sd},maxDate:{type:Date,default:()=>new Date(n1+10,11,31),validator:Sd},formatter:{type:Function,default:null},threeDimensional:{type:Boolean,default:!0},swipeDuration:{type:[Number,String],default:1e3},filter:Function,showToolbar:{type:Boolean,default:!0},visibleOptionNum:{type:[Number,String],default:7},optionHeight:{type:[Number,String],default:36}},emits:["click","cancel","change","confirm","update:modelValue"],setup(e,{emit:t}){const n=qe({currentDate:new Date,title:e.title,selectedValue:[]}),r=p=>{Sd(p)||(p=e.minDate);let g=Math.max(p.getTime(),e.minDate.getTime());return g=Math.min(g,e.maxDate.getTime()),new Date(g)};function o(p,g){return 32-new Date(p,g-1,32).getDate()}const s=(p,g)=>{const b=p=="min"?e.minDate:e.maxDate,O=b.getFullYear();let A=1,L=1,N=0,I=0;p==="max"&&(A=12,L=o(g.getFullYear(),g.getMonth()+1),N=23,I=59);let S=I;return g.getFullYear()===O&&(A=b.getMonth()+1,g.getMonth()+1===A&&(L=b.getDate(),g.getDate()===L&&(N=b.getHours(),g.getHours()===N&&(I=b.getMinutes(),g.getMinutes()===I&&(S=b.getSeconds()))))),{[`${p}Year`]:O,[`${p}Month`]:A,[`${p}Date`]:L,[`${p}Hour`]:N,[`${p}Minute`]:I,[`${p}Seconds`]:S}},i=F(()=>{const{maxYear:p,maxDate:g,maxMonth:b,maxHour:O,maxMinute:A,maxSeconds:L}=s("max",n.currentDate),{minYear:N,minDate:I,minMonth:S,minHour:_,minMinute:P,minSeconds:k}=s("min",n.currentDate);return w([{type:"year",range:[N,p]},{type:"month",range:[S,b]},{type:"day",range:[I,g]},{type:"hour",range:[_,O]},{type:"minute",range:[P,A]},{type:"seconds",range:[k,L]}])}),a=F(()=>i.value.map((g,b)=>c(g.range[0],g.range[1],f(g.type),g.type,b))),l=({columnIndex:p,selectedValue:g,selectedOptions:b})=>{let O=[];g.forEach(S=>{O.push(S)}),e.type=="month-day"&&O.length<3&&O.unshift(new Date(n.currentDate||e.minDate||e.maxDate).getFullYear()),e.type=="year-month"&&O.length<3&&O.push(new Date(n.currentDate||e.minDate||e.maxDate).getDate());const A=Number(O[0]),L=Number(O[1])-1,N=Math.min(Number(O[2]),o(Number(O[0]),Number(O[1])));let I=null;if(e.type==="date"||e.type==="month-day"||e.type==="year-month")I=new Date(A,L,N);else if(e.type==="datetime")I=new Date(A,L,N,Number(O[3]),Number(O[4]));else if(e.type==="datehour")I=new Date(A,L,N,Number(O[3]));else if(e.type==="hour-minute"||e.type==="time"){I=new Date(n.currentDate);const S=I.getFullYear(),_=I.getMonth(),P=I.getDate();I=new Date(S,_,P,Number(O[0]),Number(O[1]),Number(O[2]||0))}n.currentDate=r(I),t("change",{columnIndex:p,selectedValue:g,selectedOptions:b})},u=(p,g)=>{const{formatter:b,isShowChinese:O}=e;let A=null;if(b)A=b(p,{text:no(g,2),value:no(g,2)});else{const L=no(g,2),N=O?wx[p]:"";A={text:L+N,value:L}}return A},c=(p,g,b,O,A)=>{const L=[];let N=0;for(;p<=g;)L.push(u(O,p)),O==="minute"?p+=e.minuteStep:p++,p<=Number(b)&&N++;return n.selectedValue[A]=L[N].value,e.filter?e.filter(O,L):L},f=p=>p==="year"?n.currentDate.getFullYear():p==="month"?n.currentDate.getMonth()+1:p==="day"?n.currentDate.getDate():p==="hour"?n.currentDate.getHours():p==="minute"?n.currentDate.getMinutes():p==="seconds"?n.currentDate.getSeconds():0,h=p=>{t("cancel",p)},m=p=>{t("confirm",p)},w=p=>{switch(e.type){case"date":p=p.slice(0,3);break;case"datetime":p=p.slice(0,5);break;case"time":p=p.slice(3,6);break;case"year-month":p=p.slice(0,2);break;case"month-day":p=p.slice(1,3);break;case"datehour":p=p.slice(0,4);break;case"hour-minute":p=p.slice(3,5);break}return p},C=p=>{const g=[p.getFullYear(),p.getMonth()+1,p.getDate(),p.getHours(),p.getMinutes(),p.getSeconds()];return w(g.map(b=>String(b)))};return dh(()=>{n.currentDate=r(e.modelValue)}),ve(()=>e.modelValue,p=>{const g=r(p);JSON.stringify(g)===JSON.stringify(n.currentDate)||(n.currentDate=g,n.selectedValue=C(g))}),ve(()=>n.currentDate,p=>{JSON.stringify(p)===JSON.stringify(e.modelValue)||t("update:modelValue",p)}),ve(()=>e.title,p=>{n.title=p}),yx(vx({},rt(n)),{changeHandler:l,closeHandler:h,confirm:m,columns:a})}});function $x(e,t,n,r,o,s){const i=ue("nut-picker");return y(),ye(i,{modelValue:e.selectedValue,"onUpdate:modelValue":t[0]||(t[0]=a=>e.selectedValue=a),"ok-text":e.okText,"cancel-text":e.cancelText,columns:e.columns,title:e.title,"three-dimensional":e.threeDimensional,"swipe-duration":e.swipeDuration,"show-toolbar":e.showToolbar,"visible-option-num":e.visibleOptionNum,"option-height":e.optionHeight,onCancel:e.closeHandler,onChange:e.changeHandler,onConfirm:e.confirm},{top:de(()=>[U(e.$slots,"top")]),default:de(()=>[U(e.$slots,"default")]),_:3},8,["modelValue","ok-text","cancel-text","columns","title","three-dimensional","swipe-duration","show-toolbar","visible-option-num","option-height","onCancel","onChange","onConfirm"])}const Tx=Ne(bx,[["render",$x]]);var Sx=Object.defineProperty,Cx=Object.defineProperties,Ex=Object.getOwnPropertyDescriptors,r1=Object.getOwnPropertySymbols,Px=Object.prototype.hasOwnProperty,Ix=Object.prototype.propertyIsEnumerable,o1=(e,t,n)=>t in e?Sx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kx=(e,t)=>{for(var n in t||(t={}))Px.call(t,n)&&o1(e,n,t[n]);if(r1)for(var n of r1(t))Ix.call(t,n)&&o1(e,n,t[n]);return e},Ox=(e,t)=>Cx(e,Ex(t));const Ax=["min","max","disabled","readonly","value"],Tc=Le(Ox(kx({},{name:"NutInputNumber",inheritAttrs:!1}),{__name:"input-number",props:{modelValue:{default:0},inputWidth:{default:""},buttonSize:{default:""},min:{default:1},max:{default:9999},step:{default:1},decimalPlaces:{default:0},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},emits:["update:modelValue","change","blur","focus","reduce","add","overlimit"],setup(e,{emit:t}){const n=e,r=t,o=zr(lo(n,"disabled")),s=F(()=>{const p="nut-input-number";return{[p]:!0,[`${p}--disabled`]:o.value}}),i=p=>Number(p).toFixed(Number(n.decimalPlaces)),a=p=>{const g=p.target;r("update:modelValue",g.value,p),r("change",g.value,p)},l=(p,g)=>{let b=i(p);r("update:modelValue",b,g),Number(n.modelValue)!==Number(b)&&r("change",b,g)},u=(p=Number(n.modelValue))=>p<Number(n.max)&&!o.value,c=(p=Number(n.modelValue))=>p>Number(n.min)&&!o.value,f=p=>{if(o.value)return;r("reduce",p);let g=Number(n.modelValue)-Number(n.step);c()&&g>=Number(n.min)?l(g,p):(l(Number(n.min),p),r("overlimit",p,"reduce"))},h=p=>{if(o.value)return;r("add",p);let g=Number(n.modelValue)+Number(n.step);u()&&g<=Number(n.max)?l(g,p):(l(Number(n.max),p),r("overlimit",p,"add"))},m=p=>{o.value||n.readonly||r("focus",p)},w=p=>{if(o.value||n.readonly)return;const g=p.target;let b=Number(g.value);b<Number(n.min)?b=Number(n.min):b>Number(n.max)&&(b=Number(n.max)),l(b,p),r("blur",p)},C=p=>{let g=Number(p);return g<Number(n.min)?g=Number(n.min):g>Number(n.max)&&(g=Number(n.max)),g};return ve(()=>[n.max,n.min],()=>{Number(n.min)>Number(n.max)&&console.warn("[NutUI] <InputNumber>","props.max < props.min");const p=C(n.modelValue);p!==Number(n.modelValue)&&l(p,{})}),(p,g)=>(y(),T("view",{class:z(s.value)},[$("view",{class:z(["nut-input-number__icon nut-input-number__left",{"nut-input-number__icon--disabled":!c()}]),onClick:f},[U(p.$slots,"left-icon",{},()=>[X(Ae(Z9),{width:Ae(Ht)(p.buttonSize),height:Ae(Ht)(p.buttonSize)},null,8,["width","height"])])],2),$("input",ws({type:"number"},p.$attrs,{min:p.min,max:p.max,style:{width:Ae(Ht)(p.inputWidth),height:Ae(Ht)(p.buttonSize)},disabled:Ae(o),readonly:p.readonly,value:p.modelValue,onInput:a,onBlur:w,onFocus:m}),null,16,Ax),$("view",{class:z(["nut-input-number__icon nut-input-number__right",{"nut-input-number__icon--disabled":!u()}]),onClick:h},[U(p.$slots,"right-icon",{},()=>[X(Ae(_D),{width:Ae(Ht)(p.buttonSize),height:Ae(Ht)(p.buttonSize)},null,8,["width","height"])])],2)],2))}}));et(Tc);var Dx=Object.defineProperty,Rx=Object.defineProperties,Nx=Object.getOwnPropertyDescriptors,s1=Object.getOwnPropertySymbols,Vx=Object.prototype.hasOwnProperty,Lx=Object.prototype.propertyIsEnumerable,i1=(e,t,n)=>t in e?Dx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,a1=(e,t)=>{for(var n in t||(t={}))Vx.call(t,n)&&i1(e,n,t[n]);if(s1)for(var n of s1(t))Lx.call(t,n)&&i1(e,n,t[n]);return e},Mx=(e,t)=>Rx(e,Nx(t));function l1(e,t,n){const r=e.indexOf(t);return r===-1?e:t==="-"&&r!==0?e.slice(0,r):e.slice(0,r+1)+e.slice(r).replace(n,"")}function Bx(e,t=!0,n=!0){t?e=l1(e,".",/\./g):e=e.split(".")[0],n?e=l1(e,"-",/-/g):e=e.replace(/-/,"");const r=t?/[^-0-9.]/g:/[^-0-9]/g;return e.replace(r,"")}function Fx(e){return e==="number"?{type:"text",inputmode:"decimal"}:e==="digit"?{type:"tel",inputmode:"numeric"}:{type:e}}const jx={class:"nut-input-value"},xx={class:"nut-input-inner"},Ux={key:0,class:"nut-input-left-box"},zx={class:"nut-input-box"},Hx={key:0,class:"nut-input-word-limit"},qx={class:"nut-input-word-num"},Wx={class:"nut-input-right-box"},pp=Le(Mx(a1({},{name:"NutInput"}),{__name:"input",props:{type:{default:"text"},modelValue:{default:""},placeholder:{default:""},inputAlign:{default:"left"},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},maxLength:{default:""},clearable:{type:Boolean,default:!1},clearSize:{default:"14"},border:{type:Boolean,default:!0},formatTrigger:{default:"onChange"},formatter:{},showWordLimit:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},confirmType:{default:"done"},error:{type:Boolean,default:!1},showClearIcon:{type:Boolean,default:!1}},emits:["update:modelValue","blur","focus","clear","keypress","click","clickInput","confirm"],setup(e,{expose:t,emit:n}){const r=e,o=n,s=zr(lo(r,"disabled")),i=H(!1),a=H(),l=()=>{var k;return String((k=r.modelValue)!=null?k:"")},u=k=>Ct("input",a1({},Fx(k))),c=qe({focused:!1,validateFailed:!1,validateMessage:""}),f=F(()=>{const k="nut-input";return{[k]:!0,[`${k}--disabled`]:s.value,[`${k}--required`]:r.required,[`${k}--error`]:r.error,[`${k}--border`]:r.border}}),h=F(()=>({textAlign:r.inputAlign})),m=k=>{if(!k.target.composing){let D=k.target.value;r.maxLength&&D.length>Number(r.maxLength)&&(D=D.slice(0,Number(r.maxLength))),w(D)}},w=(k,R="onChange")=>{var D;if(["number","digit"].includes(r.type)){const oe=r.type==="number";k=Bx(k,oe,oe)}r.formatter&&R===r.formatTrigger&&(k=r.formatter(k)),((D=a==null?void 0:a.value)==null?void 0:D.value)!==k&&(a.value.value=k),k!==r.modelValue&&o("update:modelValue",k)},C=k=>{s.value||r.readonly||(i.value=!0,o("focus",k))},p=k=>{if(s.value||r.readonly)return;setTimeout(()=>{i.value=!1},200);let D=k.target.value;r.maxLength&&D.length>Number(r.maxLength)&&(D=D.slice(0,Number(r.maxLength))),w(l(),"onBlur"),o("blur",k)},g=k=>{k.stopPropagation(),!s.value&&(o("update:modelValue","",k),o("clear","",k))},b=()=>{c.validateFailed&&(c.validateFailed=!1,c.validateMessage="")},O=k=>{s.value||o("clickInput",k)},A=k=>{o("click",k)},L=({target:k})=>{k.composing=!0},N=({target:k})=>{k.composing&&(k.composing=!1,k.dispatchEvent(new Event("input")))};ve(()=>r.modelValue,()=>{w(l()),b()}),tt(()=>{w(l(),r.formatTrigger)});const I=()=>{var k;(k=a.value)==null||k.focus()},S=()=>{var k;(k=a.value)==null||k.blur()},_=()=>{var k;(k=a.value)==null||k.select()},P=k=>{k.key==="Enter"&&o("confirm",k)};return t({focus:I,blur:S,select:_}),(k,R)=>(y(),T("view",{class:z(f.value),onClick:A},[$("view",jx,[$("view",xx,[k.$slots.left?(y(),T("view",Ux,[U(k.$slots,"left")])):j("",!0),$("view",zx,[(y(),ye(Yn(u(k.type)),{ref_key:"inputRef",ref:a,class:"input-text",style:W(h.value),maxlength:k.maxLength,placeholder:k.placeholder,disabled:Ae(s),readonly:k.readonly,value:k.modelValue,"format-trigger":k.formatTrigger,autofocus:k.autofocus,enterkeyhint:k.confirmType,onInput:m,onFocus:C,onBlur:p,onClick:O,onChange:N,onCompositionend:N,onCompositionstart:L,onKeyup:P},null,40,["style","maxlength","placeholder","disabled","readonly","value","format-trigger","autofocus","enterkeyhint"])),k.showWordLimit&&k.maxLength?(y(),T("view",Hx,[$("span",qx,x(l()?l().length:0),1),Ie("/"+x(k.maxLength),1)])):j("",!0)]),k.clearable&&!k.readonly?ct((y(),T("view",{key:1,class:"nut-input-clear-box",onClick:g},[U(k.$slots,"clear",{},()=>[X(Ae(G9),ws({class:"nut-input-clear"},k.$attrs,{size:k.clearSize,width:k.clearSize,height:k.clearSize}),null,16,["size","width","height"])])],512)),[[jt,(i.value||k.showClearIcon)&&l().length>0]]):j("",!0),$("view",Wx,[U(k.$slots,"right")])])])],2))}}));et(pp);const F4=Symbol("nut-radio");var Kx=Object.defineProperty,Gx=Object.defineProperties,Yx=Object.getOwnPropertyDescriptors,u1=Object.getOwnPropertySymbols,Qx=Object.prototype.hasOwnProperty,Xx=Object.prototype.propertyIsEnumerable,c1=(e,t,n)=>t in e?Kx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jx=(e,t)=>{for(var n in t||(t={}))Qx.call(t,n)&&c1(e,n,t[n]);if(u1)for(var n of u1(t))Xx.call(t,n)&&c1(e,n,t[n]);return e},Zx=(e,t)=>Gx(e,Yx(t));const mp=Le(Zx(Jx({},{name:"NutRadio"}),{__name:"radio",props:{disabled:{type:Boolean,default:!1},shape:{default:"round"},label:{type:[String,Number,Boolean],default:""},iconSize:{default:""},size:{default:"normal"}},setup(e){const t=e,n=zr(lo(t,"disabled")),r=Lt(F4,null),o=F(()=>r.label.value===t.label),s=F(()=>n.value?"nut-radio__icon--disable":o.value?"nut-radio__icon":"nut-radio__icon--unchecked"),i=F(()=>Ht(t.iconSize)),a=F(()=>({"nut-radio__label":!0,"nut-radio__label--disabled":n.value})),l=F(()=>({"nut-radio__button":!0,"nut-radio__button--active":o.value,[`nut-radio__button--${t.size}`]:!0,"nut-radio__button--disabled":t.disabled})),u=()=>{o.value||n.value||r.updateValue(t.label)},c=F(()=>r.position.value==="left"),f=F(()=>({"nut-radio":!0,[`nut-radio--${t.shape}`]:!0,"nut-radio--reverse":c.value}));return(h,m)=>(y(),T("div",{class:z(f.value),onClick:u},[h.shape==="button"?(y(),T("div",{key:0,class:z(l.value)},[U(h.$slots,"default")],2)):(y(),T(le,{key:1},[o.value?U(h.$slots,"checkedIcon",{key:0},()=>[X(Ae(U8),{width:i.value,height:i.value,class:z(s.value)},null,8,["width","height","class"])]):U(h.$slots,"icon",{key:1},()=>[X(Ae(W$),{width:i.value,height:i.value,class:z(s.value)},null,8,["width","height","class"])]),$("div",{class:z(a.value)},[U(h.$slots,"default")],2)],64))],2))}}));et(mp);var eU=Object.defineProperty,tU=Object.defineProperties,nU=Object.getOwnPropertyDescriptors,d1=Object.getOwnPropertySymbols,rU=Object.prototype.hasOwnProperty,oU=Object.prototype.propertyIsEnumerable,f1=(e,t,n)=>t in e?eU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sU=(e,t)=>{for(var n in t||(t={}))rU.call(t,n)&&f1(e,n,t[n]);if(d1)for(var n of d1(t))oU.call(t,n)&&f1(e,n,t[n]);return e},iU=(e,t)=>tU(e,nU(t));const gp=Le(iU(sU({},{name:"NutRadioGroup"}),{__name:"radio-group",props:{modelValue:{type:[String,Number,Boolean],default:""},direction:{default:"vertical"},textPosition:{default:"right"}},emits:["change","update:modelValue"],setup(e,{emit:t}){const n=e,r=t,o=s=>{r("update:modelValue",s)};return hn(F4,{label:uu(F(()=>n.modelValue)),position:uu(F(()=>n.textPosition)),updateValue:o}),ve(()=>n.modelValue,s=>{r("change",s)}),(s,i)=>(y(),T("div",{class:z(["nut-radio-group",`nut-radio-group--${s.direction}`])},[U(s.$slots,"default")],2))}}));et(gp);var aU=Object.defineProperty,lU=Object.defineProperties,uU=Object.getOwnPropertyDescriptors,h1=Object.getOwnPropertySymbols,cU=Object.prototype.hasOwnProperty,dU=Object.prototype.propertyIsEnumerable,p1=(e,t,n)=>t in e?aU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fU=(e,t)=>{for(var n in t||(t={}))cU.call(t,n)&&p1(e,n,t[n]);if(h1)for(var n of h1(t))dU.call(t,n)&&p1(e,n,t[n]);return e},hU=(e,t)=>lU(e,uU(t));const pU=["id"],mU={class:"nut-rate-item__icon--full"},gU={key:0,class:"nut-rate-item__icon--half"},vU={key:1,class:"nut-rate-item__icon--half"},vp=Le(hU(fU({},{name:"NutRate"}),{__name:"rate",props:{count:{default:5},modelValue:{default:0},customIcon:{default:()=>ZD},size:{},activeColor:{default:""},voidColor:{default:""},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},allowHalf:{type:Boolean,default:!1},touchable:{type:Boolean,default:!0},spacing:{}},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=e,r=t,o=Math.random().toString(36).slice(-8),s=zr(lo(n,"disabled")),i=H([]),a=m=>{r("update:modelValue",m),r("change",m)},l=(m,w)=>{if(s.value||n.readonly)return;let C=0;w===1&&n.modelValue===w?C=0:(C=w,n.allowHalf&&m==2&&(C-=.5)),a(C)},u=(m,w,C)=>{let p=0;for(let g=w.value.length-1;g>=0;g--){const b=w.value[g];if(m>b.offsetLeft){C?p=g+(m>b.offsetLeft+b.clientWidth/2?1:.5):p=g+1;break}}return p},c=fo(),f=m=>{!n.touchable||n.readonly||c.start(m)},h=m=>{n.touchable&&(c.move(m),c.isHorizontal()&&i.value&&(m.preventDefault(),a(u(c.moveX.value,i,n.allowHalf))))};return(m,w)=>(y(),T("view",{class:"nut-rate",onTouchstart:f,onTouchmove:h},[(y(!0),T(le,null,Re(Number(m.count),C=>(y(),T("view",{id:"rateRefs-"+Ae(o)+C,key:C,ref_for:!0,ref_key:"rateRefs",ref:i,class:"nut-rate-item",style:W(C<Number(m.count)?{marginRight:Ae(Ht)(m.spacing)}:{})},[$("view",mU,[(y(),ye(Yn(Ae(Lo)(m.customIcon,{width:m.size,height:m.size,size:m.size,color:C<=Number(m.modelValue)?m.activeColor:m.voidColor})),{class:z(["nut-rate-item__icon",{"nut-rate-item__icon--disabled":Ae(s)||C>Number(m.modelValue)}]),onClick:p=>l(1,C)},null,8,["class","onClick"]))]),m.allowHalf&&Number(m.modelValue)+1>C?(y(),T("view",gU,[(y(),ye(Yn(Ae(Lo)(m.customIcon,{width:m.size,height:m.size,size:m.size,color:C<=Number(m.modelValue)+1?m.activeColor:m.voidColor})),{class:"nut-rate-item__icon",onClick:p=>l(2,C)},null,8,["onClick"]))])):m.allowHalf&&Number(m.modelValue)+1<C?(y(),T("view",vU,[(y(),ye(Yn(Ae(Lo)(m.customIcon,{width:m.size,height:m.size,size:m.size,color:m.voidColor})),{class:"nut-rate-item__icon nut-rate-item__icon--disabled",onClick:p=>l(2,C)},null,8,["onClick"]))])):j("",!0)],12,pU))),128))],32))}}));et(vp);const{create:yU}=Oe("short-password"),_U="NutShortPassword",wU=yU({components:{NutPopup:Hn,Tips:oR},props:{title:{type:String,default:""},desc:{type:String,default:""},tips:{type:String,default:""},visible:{type:Boolean,default:!1},modelValue:{type:String,default:""},errorMsg:{type:String,default:""},closeOnClickOverlay:{type:Boolean,default:!0},length:{type:[String,Number],default:6},lockScroll:{type:Boolean,default:!0}},emits:["update:modelValue","update:visible","complete","tips","close","focus"],setup(e,{emit:t}){const n=It(_U),r=H(e.modelValue),o=F(()=>l(Number(e.length))),s=H(e.visible),i=c=>{c.stopPropagation(),t("focus")};ve(()=>e.visible,c=>{s.value=c}),ve(()=>e.modelValue,c=>{r.value=c,String(c).length===o.value&&t("complete",c)});const a=()=>{t("update:visible",!1),t("close")},l=c=>Math.min(Math.max(4,c),6);return{comLen:o,realInput:r,onTouchStart:i,range:l,close:a,onTips:()=>{t("tips")},show:s,translate:n}}}),bU={class:"nut-short-password-title"},$U={class:"nut-short-password-subtitle"},TU={class:"nut-short-password-wrapper"},SU={key:0,class:"nut-short-password__item-icon"},CU={class:"nut-short-password__message"},EU={class:"nut-short-password--error"},PU={key:0,class:"nut-short-password--forget"};function IU(e,t,n,r,o,s){const i=ue("tips"),a=ue("nut-popup");return y(),T("view",null,[X(a,{visible:e.show,"onUpdate:visible":t[2]||(t[2]=l=>e.show=l),style:{padding:"30px 24px 20px 24px",borderRadius:"12px",textAlign:"center",top:"45%"},closeable:!0,"close-on-click-overlay":e.closeOnClickOverlay,"teleport-disable":!1,"lock-scroll":e.lockScroll,onClickCloseIcon:e.close,onClickOverlay:e.close},{default:de(()=>[$("view",bU,x(e.title||e.translate("title")),1),$("view",$U,x(e.desc||e.translate("desc")),1),$("div",TU,[$("view",{class:"nut-short-password__list",onTouchstart:t[0]||(t[0]=(...l)=>e.onTouchStart&&e.onTouchStart(...l))},[(y(!0),T(le,null,Re(new Array(e.comLen),(l,u)=>(y(),T("view",{key:u,class:"nut-short-password__item"},[String(e.realInput).length>u?(y(),T("view",SU)):j("",!0)]))),128))],32)]),$("view",CU,[$("view",EU,x(e.errorMsg),1),e.tips||e.translate("tips")?(y(),T("view",PU,[X(i,{class:"icon",width:"11px",height:"11px"}),$("view",{onClick:t[1]||(t[1]=(...l)=>e.onTips&&e.onTips(...l))},x(e.tips||e.translate("tips")),1)])):j("",!0)])]),_:1},8,["visible","close-on-click-overlay","lock-scroll","onClickCloseIcon","onClickOverlay"])])}const kU=Ne(wU,[["render",IU]]);var OU=Object.defineProperty,AU=Object.defineProperties,DU=Object.getOwnPropertyDescriptors,m1=Object.getOwnPropertySymbols,RU=Object.prototype.hasOwnProperty,NU=Object.prototype.propertyIsEnumerable,g1=(e,t,n)=>t in e?OU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VU=(e,t)=>{for(var n in t||(t={}))RU.call(t,n)&&g1(e,n,t[n]);if(m1)for(var n of m1(t))NU.call(t,n)&&g1(e,n,t[n]);return e},LU=(e,t)=>AU(e,DU(t));const MU=["rows","disabled","readonly","value","maxlength","placeholder","autofocus"],BU={key:0,class:"nut-textarea__limit"},v1="NutTextarea",j4=Le(LU(VU({},{name:v1}),{__name:"textarea",props:{modelValue:{default:""},textAlign:{},limitShow:{type:Boolean,default:!1},maxLength:{default:""},rows:{default:"2"},placeholder:{default:""},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autosize:{type:[Boolean,Object],default:!1},autofocus:{type:Boolean,default:!1}},emits:["update:modelValue","change","blur","focus"],setup(e,{emit:t}){const n=e,r=t,o=zr(lo(n,"disabled")),s=It(v1),i=H(null),a=F(()=>{const g="nut-textarea";return{[g]:!0,[`${g}--disabled`]:o.value}}),l=F(()=>({textAlign:n.textAlign})),u=g=>{const b=i.value;b&&b.style&&(b.style.height=typeof g=="number"?`${g}px`:g)},c=()=>{if(u("auto"),i.value){let g=i.value.scrollHeight;if(typeof n.autosize=="object"){const{maxHeight:b,minHeight:O}=n.autosize;b!==void 0&&(g=Math.min(g,b)),O!==void 0&&(g=Math.max(g,O))}g&&u(g)}};tt(()=>{n.modelValue&&f(String(n.modelValue)),n.autosize&&Et(c)}),ve(()=>n.modelValue,()=>{n.autosize&&Et(c)});const f=(g,b)=>{n.maxLength&&g.length>Number(n.maxLength)&&(g=g.substring(0,Number(n.maxLength))),r("update:modelValue",g,b),r("change",g,b)},h=g=>{const b=g.target;if(!b.composing){let O=b.value;n.maxLength&&O.length>Number(n.maxLength)&&(O=O.slice(0,Number(n.maxLength))),f(b.value,g)}},m=g=>{o.value||n.readonly||r("focus",g)},w=g=>{if(o.value||n.readonly)return;const O=g.target.value;f(O,g),r("blur",{value:O,event:g})},C=({target:g})=>{const b=g;b.composing=!0},p=({target:g})=>{const b=g;b.composing&&(b.composing=!1,b.dispatchEvent(new Event("input")))};return(g,b)=>(y(),T("view",{class:z(a.value)},[$("textarea",{ref_key:"textareaRef",ref:i,class:"nut-textarea__textarea",style:W(l.value),rows:g.rows,disabled:Ae(o),readonly:g.readonly,value:g.modelValue,maxlength:g.maxLength,placeholder:g.placeholder||Ae(s)("placeholder"),autofocus:g.autofocus,onInput:h,onBlur:w,onFocus:m,onChange:p,onCompositionend:p,onCompositionstart:C},null,44,MU),g.limitShow?(y(),T("view",BU,x(g.modelValue?g.modelValue.length:0)+"/"+x(g.maxLength),1)):j("",!0)],2))}}));et(j4);const yp=(e,{args:t=[],done:n,canceled:r})=>{if(e){const o=e(...t);Z$(o)?o.then(s=>{s?n(s):r&&r()}).catch(()=>{}):o?n():r&&r()}else n()};var FU=Object.defineProperty,jU=Object.defineProperties,xU=Object.getOwnPropertyDescriptors,y1=Object.getOwnPropertySymbols,UU=Object.prototype.hasOwnProperty,zU=Object.prototype.propertyIsEnumerable,_1=(e,t,n)=>t in e?FU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HU=(e,t)=>{for(var n in t||(t={}))UU.call(t,n)&&_1(e,n,t[n]);if(y1)for(var n of y1(t))zU.call(t,n)&&_1(e,n,t[n]);return e},qU=(e,t)=>jU(e,xU(t));const WU={class:"nut-progress"},_p=Le(qU(HU({},{name:"NutProgress"}),{__name:"progress",props:{percentage:{default:0},size:{default:"base"},status:{default:"text"},strokeWidth:{},textInside:{type:Boolean,default:!1},showText:{type:Boolean,default:!0},strokeColor:{},textColor:{},textBackground:{},isShowPercentage:{type:Boolean,default:!0}},setup(e){const t=e,n=F(()=>{if(t.strokeWidth)return t.strokeWidth+"px"}),r=F(()=>Number(t.percentage)>=100?100:Number(t.percentage)),o=F(()=>({width:r.value+"%",background:t.strokeColor||""})),s=F(()=>({color:t.textColor||""}));return(i,a)=>(y(),T("div",WU,[$("div",{class:z(["nut-progress-outer",[i.showText&&!i.textInside?"nut-progress-outer-part":"",i.size?"nut-progress-"+i.size:""]]),style:W({height:n.value})},[$("div",{class:z(["nut-progress-inner",i.status==="active"?"nut-active":""]),style:W(o.value)},null,6),i.showText&&i.textInside&&!i.$slots.default?(y(),T("div",{key:0,class:"nut-progress-text nut-progress-insidetext",style:W({lineHeight:n.value,left:`${r.value}%`,transform:`translate(-${+r.value}%,-50%)`,background:i.textBackground||i.strokeColor})},[$("span",{style:W(s.value)},x(r.value)+x(i.isShowPercentage?"%":""),5)],4)):j("",!0),i.showText&&i.textInside&&i.$slots.default?(y(),T("div",{key:1,class:"nut-progress-slot",style:W({position:"absolute",top:"50%",left:`${r.value}%`,transform:`translate(-${+r.value}%,-50%)`})},[U(i.$slots,"default")],4)):j("",!0)],6),i.showText&&!i.textInside?(y(),T("div",{key:0,class:"nut-progress-text",style:W({lineHeight:n.value})},[i.status==="text"||i.status==="active"?(y(),T("span",{key:0,style:W(s.value)},x(r.value)+x(i.isShowPercentage?"%":""),5)):i.status==="icon"?U(i.$slots,"icon-name",{key:1},()=>[X(Ae(G$),{width:"15px",height:"15px",color:"#439422"})]):j("",!0)],4)):j("",!0)]))}}));et(_p);var KU=Object.defineProperty,GU=(e,t,n)=>t in e?KU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rt=(e,t,n)=>GU(e,typeof t!="symbol"?t+"":t,n);class YU{constructor(){Rt(this,"url",""),Rt(this,"name","file"),Rt(this,"fileType","image"),Rt(this,"formData"),Rt(this,"sourceFile"),Rt(this,"method","post"),Rt(this,"xhrState",200),Rt(this,"timeout",30*1e3),Rt(this,"headers",{}),Rt(this,"withCredentials",!1),Rt(this,"onStart"),Rt(this,"taroFilePath"),Rt(this,"onProgress"),Rt(this,"onSuccess"),Rt(this,"onFailure"),Rt(this,"beforeXhrUpload")}}class QU{constructor(t){Rt(this,"options"),this.options=t}upload(){var t;const n=this.options,r=new XMLHttpRequest;if(r.timeout=n.timeout,r.upload){r.upload.addEventListener("progress",o=>{var s;(s=n.onProgress)==null||s.call(n,o,n)},!1),r.onreadystatechange=()=>{var o,s;r.readyState===4&&(r.status==n.xhrState?(o=n.onSuccess)==null||o.call(n,r.responseText,n):(s=n.onFailure)==null||s.call(n,r.responseText,n))},r.withCredentials=n.withCredentials,r.open(n.method,n.url,!0);for(const[o,s]of Object.entries(n.headers))r.setRequestHeader(o,s);(t=n.onStart)==null||t.call(n,n),n.beforeXhrUpload?n.beforeXhrUpload(r,n):r.send(n.formData)}else console.warn("浏览器不支持 XMLHttpRequest")}}class XU{constructor(){Rt(this,"status","ready"),Rt(this,"message",""),Rt(this,"uid",new Date().getTime().toString()),Rt(this,"name"),Rt(this,"url"),Rt(this,"type"),Rt(this,"path"),Rt(this,"percentage",0),Rt(this,"formData",{})}}const{create:JU}=Oe("uploader"),ZU="NutUploader",ez=JU({components:{NutProgress:_p,Photograph:pD,Failure:e9,Loading:Ei,Del:Q$,Link:S9},props:{name:{type:String,default:"file"},url:{type:String,default:""},timeout:{type:[Number,String],default:1e3*30},fileList:{type:Array,default:()=>[]},isPreview:{type:Boolean,default:!0},listType:{type:String,default:"picture"},isDeletable:{type:Boolean,default:!0},method:{type:String,default:"post"},capture:{type:Boolean,default:!1},maximize:{type:[Number,String],default:Number.MAX_VALUE},maximum:{type:[Number,String],default:1},clearInput:{type:Boolean,default:!0},accept:{type:String,default:"*"},headers:{type:Object,default:{}},data:{type:Object,default:{}},xhrState:{type:[Number,String],default:200},withCredentials:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autoUpload:{type:Boolean,default:!0},beforeUpload:{type:Function,default:null},beforeXhrUpload:{type:Function,default:null},beforeDelete:{type:Function,default:()=>!0},onChange:{type:Function}},emits:["start","progress","oversize","success","failure","change","delete","update:fileList","fileItemClick"],setup(e,{emit:t}){const n=zr(lo(e,"disabled")),r=It(ZU),o=H(e.fileList),s=H([]);ve(()=>e.fileList,()=>{o.value=e.fileList});const i=()=>{let b={class:"nut-uploader__input",type:"file",accept:e.accept,multiple:e.multiple,name:e.name,disabled:n.value};return e.capture&&(b.capture="camera",b.accept||(b.accept="image/*")),Ct("input",b)},a=b=>{b.value=""},l=b=>{t("fileItemClick",{fileItem:b})},u=(b,O)=>{const A=new YU;A.url=e.url,A.formData=b.formData,A.timeout=e.timeout*1,A.method=e.method,A.xhrState=e.xhrState,A.headers=e.headers,A.withCredentials=e.withCredentials,A.beforeXhrUpload=e.beforeXhrUpload;try{A.sourceFile=b.formData.get(e.name)}catch(N){console.warn("[NutUI] <Uploader> formData.get(name)",N)}A.onStart=N=>{b.status="ready",b.message=r("readyUpload"),c(O),t("start",N)},A.onProgress=(N,I)=>{b.status="uploading",b.message=r("uploading"),b.percentage=(N.loaded/N.total*100).toFixed(0),t("progress",{event:N,option:I,percentage:b.percentage})},A.onSuccess=(N,I)=>{b.status="success",b.message=r("success"),t("success",{responseText:N,option:I,fileItem:b}),t("update:fileList",o.value)},A.onFailure=(N,I)=>{b.status="error",b.message=r("error"),t("failure",{responseText:N,option:I,fileItem:b})};let L=new QU(A);e.autoUpload?L.upload():s.value.push(new Promise(N=>{N(L)}))},c=(b=-1)=>{b>-1?s.value.splice(b,1):(s.value=[],o.value=[],t("update:fileList",o.value))},f=()=>{Promise.all(s.value).then(b=>{b.forEach(O=>O.upload())})},h=b=>{b.forEach((O,A)=>{const L=new FormData;for(const[I,S]of Object.entries(e.data))L.append(I,S);L.append(e.name,O);const N=qe(new XU);if(N.name=O.name,N.status="ready",N.type=O.type,N.formData=L,N.message=r("waitingUpload"),u(N,A),e.isPreview&&O.type.includes("image")){const I=new FileReader;I.onload=S=>{N.url=S.target.result,o.value.push(N)},I.readAsDataURL(O)}else o.value.push(N)})},m=b=>{const O=e.maximum*1,A=e.maximize*1,L=new Array;b=b.filter(I=>I.size>A?(L.push(I),!1):!0),L.length&&t("oversize",L);let N=b.length+o.value.length;return N>O&&b.splice(b.length-(N-O)),b},w=(b,O)=>{o.value.splice(O,1),t("delete",{file:b,fileList:o.value,index:O})},C=(b,O)=>{n.value||(c(O),yp(e.beforeDelete,{args:[b,o.value],done:()=>w(b,O)}))},p=b=>{if(e.disabled||n.value)return;const O=b.target;let{files:A}=O;e.beforeUpload?e.beforeUpload(A).then(L=>g(L)):g(A),t("change",{fileList:o.value,event:b}),e.clearInput&&a(O)},g=b=>{const O=m(new Array().slice.call(b));h(O)};return{onChange:p,onDelete:C,fileList:o,fileItemClick:l,clearUploadQueue:c,submit:f,renderInput:i}}}),tz={class:"nut-uploader"},nz={key:0,class:"nut-uploader__slot"},rz={key:0,class:"nut-uploader__preview-img"},oz={key:0,class:"nut-uploader__preview__progress"},sz={class:"nut-uploader__preview__progress__msg"},iz=["onClick"],az=["src","onClick"],lz={key:3,class:"nut-uploader__preview-img__file"},uz=["onClick"],cz={class:"file__name_tips"},dz={class:"tips"},fz={key:1,class:"nut-uploader__preview-list"},hz=["onClick"],pz={class:"file__name_tips"};function mz(e,t,n,r,o,s){const i=ue("Failure"),a=ue("Loading"),l=ue("Link"),u=ue("Del"),c=ue("nut-progress"),f=ue("Photograph");return y(),T("view",tz,[e.$slots.default?(y(),T("view",nz,[U(e.$slots,"default"),Number(e.maximum)-e.fileList.length?(y(),ye(Yn(e.renderInput),{key:0,onChange:e.onChange},null,40,["onChange"])):j("",!0)])):j("",!0),(y(!0),T(le,null,Re(e.fileList,(h,m)=>{var w;return y(),T("view",{key:h.uid,class:z(["nut-uploader__preview",[e.listType]])},[e.listType=="picture"&&!e.$slots.default?(y(),T("view",rz,[h.status!="success"?(y(),T("view",oz,[h.status!="ready"?(y(),T(le,{key:0},[h.status=="error"?(y(),ye(i,{key:0,color:"#fff"})):(y(),ye(a,{key:1,name:"loading",color:"#fff"}))],64)):j("",!0),$("view",sz,x(h.message),1)])):j("",!0),e.isDeletable?(y(),T("view",{key:1,class:"close",onClick:C=>e.onDelete(h,m)},[U(e.$slots,"delete-icon",{},()=>[X(i)])],8,iz)):j("",!0),(w=h==null?void 0:h.type)!=null&&w.includes("image")&&h.url?(y(),T("img",{key:2,class:"nut-uploader__preview-img__c",src:h.url,onClick:C=>e.fileItemClick(h)},null,8,az)):(y(),T("view",lz,[$("view",{class:"nut-uploader__preview-img__file__name",onClick:C=>e.fileItemClick(h)},[$("view",cz,x(h.name),1)],8,uz)])),$("view",dz,x(h.name),1)])):e.listType=="list"?(y(),T("view",fz,[$("view",{class:z(["nut-uploader__preview-img__file__name",[h.status]]),onClick:C=>e.fileItemClick(h)},[X(l,{class:"nut-uploader__preview-img__file__link"}),$("view",pz,x(h.name),1),e.isDeletable?(y(),ye(u,{key:0,color:"#808080",class:"nut-uploader__preview-img__file__del",onClick:Vt(C=>e.onDelete(h,m),["stop"])},null,8,["onClick"])):j("",!0)],10,hz),h.status=="uploading"?(y(),ye(c,{key:0,size:"small",percentage:h.percentage,"stroke-color":"linear-gradient(270deg, rgba(18,126,255,1) 0%,rgba(32,147,255,1) 32.815625%,rgba(13,242,204,1) 100%)","show-text":!1},null,8,["percentage"])):j("",!0)])):j("",!0)],2)}),128)),e.listType=="picture"&&!e.$slots.default&&Number(e.maximum)-e.fileList.length?(y(),T("view",{key:1,class:z(["nut-uploader__upload",[e.listType]])},[U(e.$slots,"upload-icon",{},()=>[X(f,{color:"#808080"})]),(y(),ye(Yn(e.renderInput),{onChange:e.onChange},null,40,["onChange"]))],2)):j("",!0)])}const gz=Ne(ez,[["render",mz]]),{create:vz}=Oe("number-keyboard"),yz="NutNumberKeyboard",_z=vz({components:{NutPopup:Hn},props:{confirmText:{type:String,default:""},title:{type:String,default:""},visible:{type:Boolean,default:!1},type:{type:String,default:"default"},customKey:{type:Array,default:()=>[]},modelValue:{type:String,default:""},maxlength:{type:[Number,String],default:6},randomKeys:{type:Boolean,default:!1},popClass:{type:String,default:""},lockScroll:{type:Boolean,default:!0}},emits:["input","delete","close","blur","confirm","update:modelValue","update:visible"],setup(e,{emit:t}){const n=It(yz),r=H(void 0),o=H(e.visible),s=H();function i(){const{customKey:g}=e;let b={id:"lock",type:"lock"},O=Array.isArray(g)?g:[g];return O.length===1&&(b={id:O[0],type:"custom"}),[...a(),b,{id:0,type:"number"},{id:"delete",type:"delete"}]}function a(){const g=[];for(let b=1;b<=9;b++)g.push({id:b,type:"number"});return e.randomKeys?g.sort(()=>Math.random()>.5?1:-1):g}function l(){const g=a(),{customKey:b}=e;let O=Array.isArray(b)?b:[b];return O.length>2&&(O=[O[0],O[1]]),O.length==2&&e.title&&e.type!="rightColumn"&&(O=[O[0]]),O.length===1?e.title&&e.type!="rightColumn"?g.push({id:O[0],type:"custom"},{id:0,type:"number"},{id:"delete",type:"delete"}):g.push({id:0,type:"number"},{id:O[0],type:"custom"}):O.length===2&&g.push({id:O[0],type:"custom"},{id:0,type:"number"},{id:O[1],type:"custom"}),g}const u=F(()=>e.type=="rightColumn"||e.title!=""?l():i()),c=()=>{e.visible&&t("blur")},f=g=>{const b=s.value;b&&!b.contains(g.target)&&c()};ve(()=>e.visible,g=>{o.value=g,g?window.addEventListener("touchstart",f,!1):window.removeEventListener("touchstart",f,!1)});function h(g,b){b.stopPropagation(),r.value=g.id,(g.type=="number"||g.type=="custom")&&(t("input",g.id),e.modelValue.length<+e.maxlength&&t("update:modelValue",e.modelValue+g.id)),g.type=="lock"&&C(),g.type=="delete"&&(t("delete"),t("update:modelValue",e.modelValue.slice(0,e.modelValue.length-1)))}function m(g){g.stopPropagation()}function w(g){g.preventDefault(),r.value=void 0}function C(){t("update:visible",!1),t("close")}return{clickKeyIndex:r,defaultKey:i,closeBoard:C,confirm:()=>{t("confirm")},onTouchEnd:w,onTouchMove:m,onTouchstart:h,keysList:u,genCustomKeys:l,getBasicKeys:a,root:s,show:o,translate:n}}}),wz={ref:"root"},bz={class:"nut-number-keyboard"},$z={key:0,class:"nut-number-keyboard__header"},Tz={class:"nut-number-keyboard__title"},Sz={class:"nut-number-keyboard__body"},Cz={class:"nut-number-keyboard__keys"},Ez=["onTouchstart"],Pz={key:1,src:"https://img11.360buyimg.com/imagetools/jfs/t1/146371/38/8485/738/5f606425Eca239740/14f4b4f5f20d8a68.png"},Iz={key:2,src:"https://img11.360buyimg.com/imagetools/jfs/t1/129395/8/12735/2030/5f61ac37E70cab338/fb477dc11f46056c.png"},kz={key:0,class:"nut-number-keyboard__sidebar"},Oz={class:"nut-key__wrapper"},Az=$("img",{src:"https://img11.360buyimg.com/imagetools/jfs/t1/129395/8/12735/2030/5f61ac37E70cab338/fb477dc11f46056c.png"},null,-1),Dz=[Az];function Rz(e,t,n,r,o,s){const i=ue("nut-popup");return y(),T("div",wz,[X(i,{visible:e.show,"onUpdate:visible":t[7]||(t[7]=a=>e.show=a),position:"bottom","pop-class":e.popClass,overlay:!1,"lock-scroll":e.lockScroll,"teleport-disable":!1},{default:de(()=>[$("div",bz,[e.title?(y(),T("div",$z,[$("h3",Tz,x(e.title),1),e.type=="default"?(y(),T("span",{key:0,class:"nut-number-keyboard__close",onClick:t[0]||(t[0]=a=>e.closeBoard())},x(e.translate("done")),1)):j("",!0)])):j("",!0),$("div",Sz,[$("div",Cz,[(y(!0),T(le,null,Re(e.keysList,a=>(y(),T("div",{key:"key"+a.id,class:z(["nut-key__wrapper",{"nut-key__wrapper--wider":a.id==0&&e.type=="rightColumn"&&Array.isArray(e.customKey)&&e.customKey.length==1}])},[$("div",{class:z(["nut-key",{"nut-key--active":a.id==e.clickKeyIndex},{"nut-key--lock":a.type=="lock"},{"nut-key--delete":a.type=="delete"}]),onTouchstart:l=>e.onTouchstart(a,l),onTouchmove:t[1]||(t[1]=l=>e.onTouchMove(l)),onTouchend:t[2]||(t[2]=l=>e.onTouchEnd(l))},[a.type=="number"||a.type=="custom"?(y(),T(le,{key:0},[Ie(x(a.id),1)],64)):j("",!0),a.type=="lock"?(y(),T("img",Pz)):j("",!0),a.type=="delete"?(y(),T("img",Iz)):j("",!0)],42,Ez)],2))),128))]),e.type=="rightColumn"?(y(),T("div",kz,[$("div",Oz,[$("div",{class:z(["nut-key",{active:e.clickKeyIndex=="delete"}]),onTouchstart:t[3]||(t[3]=a=>e.onTouchstart({id:"delete",type:"delete"},a)),onTouchmove:t[4]||(t[4]=a=>e.onTouchMove(a)),onTouchend:t[5]||(t[5]=(...a)=>e.onTouchEnd&&e.onTouchEnd(...a))},Dz,34)]),$("div",{class:"nut-key__wrapper nut-key__wrapper--finish",onClick:t[6]||(t[6]=(...a)=>e.confirm&&e.confirm(...a))},[$("div",{class:z(["nut-key","nut-key--finish ",{activeFinsh:e.clickKeyIndex=="finish"}])},x(e.confirmText||e.translate("done")),3)])])):j("",!0)])])]),_:1},8,["visible","pop-class","lock-scroll"])],512)}const Nz=Ne(_z,[["render",Rz]]);var Vz=Object.defineProperty,Lz=Object.defineProperties,Mz=Object.getOwnPropertyDescriptors,Mu=Object.getOwnPropertySymbols,x4=Object.prototype.hasOwnProperty,U4=Object.prototype.propertyIsEnumerable,w1=(e,t,n)=>t in e?Vz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bz=(e,t)=>{for(var n in t||(t={}))x4.call(t,n)&&w1(e,n,t[n]);if(Mu)for(var n of Mu(t))U4.call(t,n)&&w1(e,n,t[n]);return e},Fz=(e,t)=>Lz(e,Mz(t)),jz=(e,t)=>{var n={};for(var r in e)x4.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Mu)for(var r of Mu(e))t.indexOf(r)<0&&U4.call(e,r)&&(n[r]=e[r]);return n},xz=(e,t,n)=>new Promise((r,o)=>{var s=l=>{try{a(n.next(l))}catch(u){o(u)}},i=l=>{try{a(n.throw(l))}catch(u){o(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,i);a((n=n.apply(e,t)).next())});const wp=Le(Fz(Bz({},{name:"NutForm"}),{__name:"form",props:{modelValue:{default:()=>({})},rules:{default:()=>({})},disabled:{type:Boolean,default:!1},labelPosition:{default:"left"},starPosition:{default:"left"}},emits:["validate"],setup(e,{expose:t,emit:n}){const r=e,o=n,{children:s,linkChildren:i}=hi(P4);i({props:r});const{linkChildren:a}=hi(I4);a({props:r});const l=F(()=>qe({}));hn(k4,l);const u=()=>{Object.keys(l.value).forEach(p=>{l.value[p]=""})},c=()=>{u()};ve(()=>r.modelValue,()=>{u()},{immediate:!0});const f=()=>{const p=[];return s.forEach(g=>{p.push({prop:g==null?void 0:g.prop,rules:(g==null?void 0:g.rules)||[]})}),p},h=p=>{p.message&&o("validate",p),l.value[p.prop]=p.message},m=p=>xz(this,null,function*(){const{rules:g=[],prop:b}=p,O=I=>new Promise((S,_)=>{try{h(I),S(I)}catch(P){_(P)}});b||console.warn("[NutUI] <FormItem> 使用 rules 校验规则时 , 必须设置 prop 参数");const A=Cf(r.modelValue,b||"");h({prop:b,message:""});const L=r.rules||{},N=[...(L==null?void 0:L[b])||[],...g];for(;N.length;){const S=N.shift(),{validator:_}=S,P=jz(S,["validator"]),{required:k,regex:R,message:D}=P,oe={prop:b,message:D||""};if(k&&!A&&A!==0||R&&!R.test(String(A)))return O(oe);if(_){const J=_(A,P);if(Z$(J))try{if((yield J)===!1)return O(oe)}catch(Q){return O({prop:b,message:Q})}else if(!J)return O(oe)}}return Promise.resolve(!0)}),w=(p="")=>new Promise((g,b)=>{try{const A=f().map(L=>p&&p!==L.prop?Promise.resolve(!0):m(L));Promise.all(A).then(L=>{L=L.filter(I=>I!==!0);const N={valid:!0,errors:[]};L.length&&(N.valid=!1,N.errors=L),g(N)})}catch(O){b(O)}});return t({submit:()=>(w(),!1),reset:c,validate:w}),(p,g)=>(y(),T("form",{class:"nut-form",action:"#",onSubmit:Vt(()=>!1,["prevent"])},[X(Ae(fp),null,{default:de(()=>[U(p.$slots,"default")]),_:3})],32))}}));et(wp);var Uz=Object.defineProperty,zz=Object.defineProperties,Hz=Object.getOwnPropertyDescriptors,b1=Object.getOwnPropertySymbols,qz=Object.prototype.hasOwnProperty,Wz=Object.prototype.propertyIsEnumerable,$1=(e,t,n)=>t in e?Uz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kz=(e,t)=>{for(var n in t||(t={}))qz.call(t,n)&&$1(e,n,t[n]);if(b1)for(var n of b1(t))Wz.call(t,n)&&$1(e,n,t[n]);return e},Gz=(e,t)=>zz(e,Hz(t));const Yz={class:"nut-cell__value nut-form-item__body"},bp=Le(Gz(Kz({},{name:"NutFormItem",inheritAttrs:!1}),{__name:"form-item",props:{prop:{default:""},label:{default:""},rules:{default:()=>[]},required:{type:Boolean,default:!1},showErrorMessage:{type:Boolean,default:!0},showErrorLine:{type:Boolean,default:!0},labelWidth:{},labelAlign:{},errorMessageAlign:{},bodyAlign:{},labelPosition:{},starPosition:{}},setup(e){const t=e,{parent:n}=Pi(P4),r=F(()=>{var c;const f=(c=n.props)==null?void 0:c.rules;let h=!1;for(const m in f)Object.prototype.hasOwnProperty.call(f,m)&&m===t.prop&&Array.isArray(f[m])&&(h=f[m].some(w=>w.required));return t.required||t.rules.some(m=>m.required)||h}),o=F(()=>{const c=n.props.labelPosition,f=t.labelPosition?t.labelPosition:c;return f!=="left"?`nut-form-item__${f}`:""}),s=F(()=>{const c=n.props.starPosition,f=t.starPosition?t.starPosition:c;return f!=="left"?`nut-form-item__star-${f}`:""}),i=Lt(k4),a=F(()=>({width:Ht(t.labelWidth),textAlign:t.labelAlign})),l=F(()=>({textAlign:t.bodyAlign})),u=F(()=>({textAlign:t.errorMessageAlign}));return(c,f)=>(y(),ye(Ae(dp),{class:z(["nut-form-item",[{error:Ae(i)[c.prop],line:c.showErrorLine},c.$attrs.class,o.value]]),style:W(c.$attrs.style)},{default:de(()=>[c.label||c.$slots.label?(y(),T("view",{key:0,class:z(["nut-cell__title nut-form-item__label",{required:r.value,[s.value]:s.value}]),style:W(a.value)},[U(c.$slots,"label",{},()=>[Ie(x(c.label),1)])],6)):j("",!0),$("view",Yz,[$("view",{class:"nut-form-item__body__slots",style:W(l.value)},[U(c.$slots,"default")],4),Ae(i)[c.prop]&&c.showErrorMessage?(y(),T("view",{key:0,class:"nut-form-item__body__tips",style:W(u.value)},x(Ae(i)[c.prop]),5)):j("",!0)])]),_:3},8,["class","style"]))}}));et(bp);const z4=Symbol("nut-swipe");var Qz=Object.defineProperty,Xz=Object.defineProperties,Jz=Object.getOwnPropertyDescriptors,T1=Object.getOwnPropertySymbols,Zz=Object.prototype.hasOwnProperty,eH=Object.prototype.propertyIsEnumerable,S1=(e,t,n)=>t in e?Qz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tH=(e,t)=>{for(var n in t||(t={}))Zz.call(t,n)&&S1(e,n,t[n]);if(T1)for(var n of T1(t))eH.call(t,n)&&S1(e,n,t[n]);return e},nH=(e,t)=>Xz(e,Jz(t));const $p=Le(nH(tH({},{name:"NutSwipe"}),{__name:"swipe",props:{name:{default:""},touchMoveStopPropagation:{type:Boolean,default:!1},touchMovePreventDefault:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["open","close","click"],setup(e,{expose:t,emit:n}){const r=e,o=n,s=_=>{var P;return((P=_.value)==null?void 0:P.getBoundingClientRect().width)||0},i=H(!1),a=H(),l=F(()=>s(a)),u=H(),c=F(()=>s(u)),f=Lt(z4,null);ve(()=>{var _;return(_=f==null?void 0:f.name)==null?void 0:_.value},_=>{r.name!==_&&f&&f.lock&&g()});const h=H(!1);let m="",w="";const C=qe({offset:0,moving:!1}),p=(_="")=>{f&&f.update(r.name),h.value=!0,_&&(C.offset=_==="left"?-c.value:l.value),o("open",{name:r.name,position:m||_})},g=()=>{C.offset=0,h.value&&(h.value=!1,o("close",{name:r.name,position:m}))},b=(_,P,k)=>{k?_.stopPropagation():g(),o("click",P)},O=F(()=>({transform:`translate3d(${C.offset}px, 0, 0)`})),A=_=>{m=_>0?"right":"left";let P=_;switch(m){case"left":h.value&&w===m?P=-c.value:P=Math.abs(_)>c.value?-c.value:_;break;case"right":h.value&&w===m?P=l.value:P=Math.abs(_)>l.value?l.value:_;break}C.offset=P},L=fo(),N=_=>{r.disabled||L.start(_)},I=_=>{r.disabled||(L.move(_),L.isHorizontal()&&(i.value=!0,C.moving=!0,A(L.deltaX.value),r.touchMovePreventDefault&&_.preventDefault(),r.touchMoveStopPropagation&&_.stopPropagation()))},S=()=>{if(C.moving){switch(C.moving=!1,w=m,m){case"left":Math.abs(C.offset)<=c.value/2?g():(C.offset=-c.value,p());break;case"right":Math.abs(C.offset)<=l.value/2?g():(C.offset=l.value,p());break}setTimeout(()=>{i.value=!1},0)}};return t({open:p,close:g}),(_,P)=>(y(),T("view",{class:"nut-swipe",style:W(O.value),onTouchstart:N,onTouchmove:I,onTouchend:S,onTouchcancel:S},[$("view",{ref_key:"leftRef",ref:a,class:"nut-swipe__left",onClick:P[0]||(P[0]=k=>b(k,"left",!0))},[U(_.$slots,"left")],512),$("view",{class:"nut-swipe__content",onClick:P[1]||(P[1]=k=>b(k,"content",i.value))},[U(_.$slots,"default")]),$("view",{ref_key:"rightRef",ref:u,class:"nut-swipe__right",onClick:P[2]||(P[2]=k=>b(k,"right",!0))},[U(_.$slots,"right")],512)],36))}}));et($p);var rH=Object.defineProperty,oH=Object.defineProperties,sH=Object.getOwnPropertyDescriptors,C1=Object.getOwnPropertySymbols,iH=Object.prototype.hasOwnProperty,aH=Object.prototype.propertyIsEnumerable,E1=(e,t,n)=>t in e?rH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lH=(e,t)=>{for(var n in t||(t={}))iH.call(t,n)&&E1(e,n,t[n]);if(C1)for(var n of C1(t))aH.call(t,n)&&E1(e,n,t[n]);return e},uH=(e,t)=>oH(e,sH(t));const H4=Le(uH(lH({},{name:"NutSwipeGroup"}),{__name:"swipe-group",props:{lock:{type:Boolean,default:!1}},setup(e){const t=e,n=H(null),r=H("");return hn(z4,{update:s=>{r.value=s},lock:t.lock,name:r}),(s,i)=>(y(),T("div",{ref_key:"swipeGroupRef",ref:n,class:"nut-swipe-group"},[U(s.$slots,"default")],512))}}));et(H4);var cH=Object.defineProperty,dH=Object.defineProperties,fH=Object.getOwnPropertyDescriptors,P1=Object.getOwnPropertySymbols,hH=Object.prototype.hasOwnProperty,pH=Object.prototype.propertyIsEnumerable,I1=(e,t,n)=>t in e?cH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mH=(e,t)=>{for(var n in t||(t={}))hH.call(t,n)&&I1(e,n,t[n]);if(P1)for(var n of P1(t))pH.call(t,n)&&I1(e,n,t[n]);return e},gH=(e,t)=>dH(e,fH(t));const{create:vH}=Oe("action-sheet"),yH=vH({components:{NutPopup:Hn,Loading:Ei},props:gH(mH({},ol),{cancelTxt:{type:String,default:""},optionTag:{type:String,default:"name"},optionSubTag:{type:String,default:"subname"},chooseTagValue:{type:String,default:""},title:{type:String,default:""},color:{type:String,default:"#ee0a24"},description:{type:String,default:""},menuItems:{type:Array,default:()=>[]},closeAbled:{type:Boolean,default:!0}}),emits:["cancel","close","choose","update:visible"],setup(e,{emit:t}){return{slotDefault:!!Ya().default,isHighlight:a=>e.chooseTagValue&&e.chooseTagValue===a[e.optionTag]?e.color:"",cancelActionSheet:()=>{t("cancel"),t("update:visible",!1)},chooseItem:(a,l)=>{!a.disable&&!a.loading&&(t("choose",a,l),t("update:visible",!1))},close:a=>{e.closeAbled&&(t("close",a),t("update:visible",!1))}}}}),_H={class:"nut-action-sheet"},wH={key:0,class:"nut-action-sheet__title"},bH={key:1},$H={key:0,class:"nut-action-sheet__item nut-action-sheet__desc"},TH={key:1,class:"nut-action-sheet__menu"},SH=["onClick"],CH={key:1},EH={class:"nut-action-sheet__subdesc"};function PH(e,t,n,r,o,s){const i=ue("Loading"),a=ue("nut-popup");return y(),ye(a,{visible:e.visible,position:"bottom",round:"","close-on-click-overlay":e.closeAbled,"lock-scroll":e.lockScroll,"z-index":e.zIndex,onClickOverlay:e.close},{default:de(()=>[$("view",_H,[e.title?(y(),T("view",wH,x(e.title),1)):j("",!0),U(e.$slots,"default"),e.slotDefault?j("",!0):(y(),T("view",bH,[e.description?(y(),T("view",$H,x(e.description),1)):j("",!0),e.menuItems.length?(y(),T("view",TH,[(y(!0),T(le,null,Re(e.menuItems,(l,u)=>(y(),T("view",{key:u,class:z(["nut-action-sheet__item",{"nut-action-sheet__item--disabled":l.disable,"nut-action-sheet__item--loading":l.loading}]),style:W({color:e.isHighlight(l)||l.color}),onClick:c=>e.chooseItem(l,u)},[l.loading?(y(),ye(i,{key:0})):(y(),T("view",CH,x(l[e.optionTag]),1)),$("view",EH,x(l[e.optionSubTag]),1)],14,SH))),128))])):j("",!0),e.cancelTxt?(y(),T("view",{key:2,class:"nut-action-sheet__cancel",onClick:t[0]||(t[0]=(...l)=>e.cancelActionSheet&&e.cancelActionSheet(...l))},x(e.cancelTxt),1)):j("",!0)]))])]),_:3},8,["visible","close-on-click-overlay","lock-scroll","z-index","onClickOverlay"])}const IH=Ne(yH,[["render",PH]]);var kH=Object.defineProperty,OH=Object.defineProperties,AH=Object.getOwnPropertyDescriptors,k1=Object.getOwnPropertySymbols,DH=Object.prototype.hasOwnProperty,RH=Object.prototype.propertyIsEnumerable,O1=(e,t,n)=>t in e?kH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NH=(e,t)=>{for(var n in t||(t={}))DH.call(t,n)&&O1(e,n,t[n]);if(k1)for(var n of k1(t))RH.call(t,n)&&O1(e,n,t[n]);return e},VH=(e,t)=>OH(e,AH(t));const q4=Le(VH(NH({},{name:"NutBacktop"}),{__name:"backtop",props:{bottom:{default:20},right:{default:10},elId:{default:"body"},distance:{default:200},zIndex:{default:10},isAnimation:{type:Boolean,default:!0},duration:{default:1e3}},emits:["click"],setup(e,{emit:t}){const n=e,r=t,o=H(!1),s=H(0),i=H(window),a=H(0),l=H(!1),u=F(()=>({["nut-backtop"]:!0,show:o.value})),c=F(()=>({right:`${n.right}px`,bottom:`${n.bottom}px`,zIndex:n.zIndex}));function f(){i.value instanceof Window?s.value=i.value.scrollY:s.value=i.value.scrollTop,o.value=s.value>=n.distance}function h(b=0){i.value instanceof Window?window.scrollTo(0,b):i.value.scrollTop=b}function m(){let b=nr(function O(){var A=n.duration-Math.max(0,a.value-+new Date+n.duration),L=A*-s.value/n.duration+s.value;h(L),b=nr(O),(A==n.duration||L==0)&&PM(b)})}function w(){i.value.addEventListener("scroll",f,!1),i.value.addEventListener("resize",f,!1)}function C(){i.value.removeEventListener("scroll",f,!1),i.value.removeEventListener("resize",f,!1)}function p(b){a.value=+new Date,n.isAnimation&&n.duration>0?m():h(),r("click",b)}function g(){n.elId&&document.getElementById(n.elId)&&(i.value=document.getElementById(n.elId)),w()}return tt(()=>{n.distance==0&&(o.value=!0),g()}),_r(()=>{C()}),_i(()=>{l.value&&(l.value=!1,g())}),wi(()=>{l.value=!0,C()}),(b,O)=>(y(),T("div",{class:z(u.value),style:W(c.value),onClick:Vt(p,["stop"])},[U(b.$slots,"default",{},()=>[X(Ae(uR),{width:"19px",height:"19px",class:"nut-backtop-main"})])],6))}}));et(q4);const{create:LH}=Oe("drag"),MH=LH({props:{attract:{type:Boolean,default:!1},direction:{type:String,default:"all"},boundary:{type:Object,default:()=>({top:0,left:0,right:0,bottom:0})}},setup(e){const t=H(),n=qe({keepAlive:!1,elWidth:0,elHeight:0,screenWidth:0,screenHeight:0,startTop:0,startLeft:0,nx:0,ny:0,xPum:0,yPum:0,position:{x:0,y:0},boundary:{top:0,left:0,right:0,bottom:0}});function r(){const u=document.documentElement;n.elWidth=t.value.offsetWidth,n.elHeight=t.value.offsetHeight,n.screenWidth=u.clientWidth||375,n.screenHeight=u.clientHeight||667}function o(u){n.boundary.left?+u.style.left.split("px")[0]>n.boundary.left?(u.style.left=+u.style.left.split("px")[0]-10+"px",nr(()=>{o(u)})):u.style.left=`${n.boundary.left}px`:+u.style.left.split("px")[0]>10?(u.style.left=+u.style.left.split("px")[0]-10+"px",nr(()=>{o(u)})):u.style.left="0px"}function s(u,c){c-parseInt(u.style.left.split("px")[0])>10?(u.style.left=parseInt(u.style.left.split("px")[0])+10+"px",nr(()=>{s(u,c)})):u.style.left=c+"px"}function i(u){u.preventDefault();const c=u.currentTarget;if(u.targetTouches.length===1){const f=u.targetTouches[0];n.nx=f.clientX-n.position.x,n.ny=f.clientY-n.position.y,n.xPum=n.startLeft+n.nx,n.yPum=n.startTop+n.ny;const h=n.screenWidth-n.elWidth-n.boundary.right;Math.abs(n.xPum)>h?n.xPum=h:n.xPum<=n.boundary.left&&(n.xPum=n.boundary.left),n.yPum<n.boundary.top?n.yPum=n.boundary.top:n.yPum>n.screenHeight-n.elHeight-n.boundary.bottom&&(n.yPum=n.screenHeight-n.elHeight-n.boundary.bottom),e.direction!="y"&&(c.style.left=n.xPum+"px"),e.direction!="x"&&(c.style.top=n.yPum+"px")}}function a(u){const c=u.currentTarget;let h=u.changedTouches[0].clientX;const m=n.screenWidth-n.elWidth-n.boundary.right;h>m?h=m:h<n.boundary.left?h=n.boundary.left:h=h<n.screenWidth/2?n.boundary.left:m,e.direction!="y"&&e.attract&&(h<n.screenWidth/2?nr(()=>{o(c)}):nr(()=>{s(c,m)})),e.direction!="x"&&(c.style.top=n.yPum+"px")}function l(u){const c=u.currentTarget,f=u.touches[0],h=u.targetTouches[0];n.startTop=c.offsetTop,n.startLeft=c.offsetLeft,n.position.x=f.clientX,n.position.y=f.clientY,n.nx=h.clientX-n.position.x,n.ny=h.clientY-n.position.y,n.xPum=n.startLeft+n.nx,n.yPum=n.startTop+n.ny}return tt(()=>{r(),n.boundary=e.boundary}),_i(()=>{n.keepAlive&&(n.keepAlive=!1)}),wi(()=>{n.keepAlive=!0,t.value.removeEventListener("touchstart",l),t.value.removeEventListener("touchmove",i),t.value.removeEventListener("touchend",a)}),{myDrag:t,touchStart:l,touchMove:i,touchEnd:a}}});function BH(e,t,n,r,o,s){return y(),T("view",{ref:"myDrag",class:"nut-drag",onTouchstart:t[0]||(t[0]=i=>e.touchStart(i)),onTouchmove:t[1]||(t[1]=i=>e.touchMove(i)),onTouchend:t[2]||(t[2]=i=>e.touchEnd(i))},[U(e.$slots,"default")],544)}const FH=Ne(MH,[["render",BH]]),jH=(e,t)=>{let n=document.body;const r=e.teleport||"body";r!="body"&&(XR(r)?n=document.querySelector(r):n=e.teleport);const o=document.createElement("view"),s=t.name?t.name+"-":"",i=e.id||new Date().getTime();o.id=s+i;let a={};Vu(t.wrapper)?a=t.wrapper(n,o):a=t.wrapper;const l=bb(a,e),u=t.components;return u&&u.forEach(c=>{l.use(c)}),n.appendChild(o),{instance:l.mount(o),unmount:()=>{l.unmount(),n.removeChild(o)}}};var xH=Object.defineProperty,UH=Object.defineProperties,zH=Object.getOwnPropertyDescriptors,A1=Object.getOwnPropertySymbols,HH=Object.prototype.hasOwnProperty,qH=Object.prototype.propertyIsEnumerable,Af=(e,t,n)=>t in e?xH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WH=(e,t)=>{for(var n in t||(t={}))HH.call(t,n)&&Af(e,n,t[n]);if(A1)for(var n of A1(t))qH.call(t,n)&&Af(e,n,t[n]);return e},KH=(e,t)=>UH(e,zH(t)),gt=(e,t,n)=>Af(e,typeof t!="symbol"?t+"":t,n);const{create:GH}=Oe("dialog"),YH="NutDialog",QH=GH({inheritAttrs:!1,components:{NutPopup:Hn,NutButton:Ur},props:KH(WH({},ol),{closeOnClickOverlay:{type:Boolean,default:!0},title:{type:String,default:""},content:{type:[String,Object],default:""},noFooter:{type:Boolean,default:!1},noOkBtn:{type:Boolean,default:!1},noCancelBtn:{type:Boolean,default:!1},cancelText:{type:String,default:""},okText:{type:String,default:""},cancelAutoClose:{type:Boolean,default:!0},okAutoClose:{type:Boolean,default:!0},textAlign:{type:String,default:"center"},closeOnPopstate:{type:Boolean,default:!1},footerDirection:{type:String,default:"horizontal"},customClass:{type:String,default:""},popStyle:{type:Object},beforeClose:Function}),emits:["update","update:visible","ok","cancel","opened","closed"],setup(e,{emit:t}){const n=It(YH),r=H(e.visible);tt(()=>{e.closeOnPopstate&&window.addEventListener("popstate",function(){s("page")})}),ve(()=>e.visible,c=>{r.value=c,c&&t("opened")});const o=c=>{t("update",c),t("update:visible",c)},s=c=>{yp(e.beforeClose,{args:[c],done:()=>{r.value=!1,o(!1),t("closed")}})},i=()=>{t("cancel"),e.cancelAutoClose&&(r.value=!1,s("cancel"))},a=()=>{t("ok"),e.okAutoClose&&s("ok")},l=()=>{e.closeOnClickOverlay&&s("")},u=F(()=>({textAlign:e.textAlign}));return{closed:s,onCancel:i,onOk:a,showPopup:r,onClickOverlay:l,contentStyle:u,translate:n}}}),XH={key:0,class:"nut-dialog__header"},JH=["innerHTML"];function ZH(e,t,n,r,o,s){const i=ue("nut-button"),a=ue("nut-popup");return y(),ye(a,{visible:e.showPopup,"onUpdate:visible":t[0]||(t[0]=l=>e.showPopup=l),teleport:e.teleport,"close-on-click-overlay":!1,"lock-scroll":e.lockScroll,"pop-class":e.popClass,"overlay-class":e.overlayClass,"overlay-style":e.overlayStyle,style:W(e.popStyle),round:"","z-index":e.zIndex,onClickOverlay:e.onClickOverlay,onClickCloseIcon:e.closed},{default:de(()=>[$("view",{class:z(["nut-dialog",e.customClass])},[e.$slots.header||e.title?(y(),T("view",XH,[e.$slots.header?U(e.$slots,"header",{key:0}):(y(),T(le,{key:1},[Ie(x(e.title),1)],64))])):j("",!0),$("view",{class:"nut-dialog__content",style:W(e.contentStyle)},[e.$slots.default?U(e.$slots,"default",{key:0}):typeof e.content=="string"?(y(),T("view",{key:1,innerHTML:e.content},null,8,JH)):(y(),ye(Yn(e.content),{key:2}))],4),e.noFooter?j("",!0):(y(),T("view",{key:1,class:z(["nut-dialog__footer",{[e.footerDirection]:e.footerDirection}])},[e.$slots.footer?U(e.$slots,"footer",{key:0}):(y(),T(le,{key:1},[e.noCancelBtn?j("",!0):(y(),ye(i,{key:0,size:"small",plain:"",type:"primary",class:"nut-dialog__footer-cancel",onClick:e.onCancel},{default:de(()=>[Ie(x(e.cancelText||e.translate("cancel")),1)]),_:1},8,["onClick"])),e.noOkBtn?j("",!0):(y(),ye(i,{key:1,size:"small",type:"primary",class:"nut-dialog__footer-ok",onClick:e.onOk},{default:de(()=>[Ie(x(e.okText||e.translate("confirm")),1)]),_:1},8,["onClick"]))],64))],2))],2)]),_:3},8,["visible","teleport","lock-scroll","pop-class","overlay-class","overlay-style","style","z-index","onClickOverlay","onClickCloseIcon"])}const Tp=Ne(QH,[["render",ZH]]);class eq{constructor(){gt(this,"title",""),gt(this,"content",""),gt(this,"cancelText",""),gt(this,"okText",""),gt(this,"textAlign","center"),gt(this,"customClass",""),gt(this,"overlayStyle",{}),gt(this,"overlayClass",""),gt(this,"popStyle",{}),gt(this,"popClass",""),gt(this,"teleport","body"),gt(this,"id",new Date().getTime()),gt(this,"footerDirection","horizontal"),gt(this,"onUpdate"),gt(this,"onOk"),gt(this,"onCancel"),gt(this,"onOpened"),gt(this,"onClosed"),gt(this,"beforeClose"),gt(this,"visible",!0),gt(this,"noFooter",!1),gt(this,"noOkBtn",!1),gt(this,"noCancelBtn",!1),gt(this,"okBtnDisabled",!1),gt(this,"closeOnPopstate",!1),gt(this,"closeOnClickOverlay",!0),gt(this,"lockScroll",!0),gt(this,"cancelAutoClose",!0),gt(this,"okAutoClose",!0)}}class tq{constructor(t){gt(this,"options",new eq),gt(this,"instance");const n=Object.assign(this.options,t),{unmount:r}=jH(n,{name:"dialog",components:[Hn,Ur,rl],wrapper:(o,s)=>({setup(){return n.onUpdate=i=>{i===!1&&Et(()=>{r()})},n!=null&&n.onOpened&&(n==null||n.onOpened()),n.teleport=`#${s.id}`,()=>Ct(Tp,n)}})})}}const W4=function(e){return new tq(e)};W4.install=e=>{e.use(Tp)};var nq=Object.defineProperty,rq=Object.defineProperties,oq=Object.getOwnPropertyDescriptors,D1=Object.getOwnPropertySymbols,sq=Object.prototype.hasOwnProperty,iq=Object.prototype.propertyIsEnumerable,R1=(e,t,n)=>t in e?nq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aq=(e,t)=>{for(var n in t||(t={}))sq.call(t,n)&&R1(e,n,t[n]);if(D1)for(var n of D1(t))iq.call(t,n)&&R1(e,n,t[n]);return e},lq=(e,t)=>rq(e,oq(t));const{create:uq}=Oe("infinite-loading"),cq="NutInfiniteLoading",dq=uq({props:{modelValue:{type:Boolean,default:!1},hasMore:{type:Boolean,default:!0},threshold:{type:Number,default:200},loadTxt:{type:String,default:""},loadMoreTxt:{type:String,default:""},useCapture:{type:Boolean,default:!1}},emits:["scrollChange","loadMore","update:modelValue"],components:{Loading:Ei},setup(e,{emit:t,slots:n}){const r=It(cq),o=H(),s=l4(o),i=qe({beforeScrollTop:0,isInfiniting:!1,y:0,x:0,distance:0}),a=m=>m?m.offsetTop+a(m.offsetParent):0,l=()=>{let m=0,w=0,C="down";if(s.value==window){const p=e4();o.value&&(m=a(o.value)+o.value.offsetHeight-p-window.innerHeight),w=p}else{const{scrollHeight:p,clientHeight:g,scrollTop:b}=s.value;m=p-g-b,w=b}return i.beforeScrollTop>w?C="up":C="down",i.beforeScrollTop=w,t("scrollChange",w),m<=e.threshold&&C=="down"},u=()=>{nr(()=>{if(!l()||!e.hasMore||i.isInfiniting)return!1;i.isInfiniting=!0,t("update:modelValue",!0),Et(()=>t("loadMore"))})},c=()=>{s.value&&s.value.addEventListener("scroll",u,e.useCapture)},f=()=>{s.value&&s.value.removeEventListener("scroll",u,e.useCapture)};tt(()=>{c()}),_r(()=>{f()});const h=H(!1);return _i(()=>{h.value&&(h.value=!1,c())}),wi(()=>{h.value=!0,f()}),ve(()=>e.modelValue,m=>{m||(i.isInfiniting=!1)}),lq(aq({scroller:o},rt(i)),{translate:r,slots:n})}}),fq={ref:"scroller",class:"nut-infinite-loading"},hq={class:"nut-infinite__container"},pq={class:"nut-infinite__bottom"},mq={key:0,class:"nut-infinite__bottom-box"},gq={class:"nut-infinite__bottom-box__text"},vq={class:"nut-infinite__bottom-tips"};function yq(e,t,n,r,o,s){const i=ue("Loading");return y(),T("view",fq,[$("view",hq,[U(e.$slots,"default")]),$("view",pq,[e.isInfiniting?(y(),T("view",mq,[U(e.$slots,"loading",{},()=>[U(e.$slots,"loading-icon",{},()=>[X(i,{class:"nut-icon-loading nut-infinite__bottom-box__img"})]),$("view",gq,x(e.loadTxt||e.translate("loading")),1)])])):e.hasMore?j("",!0):U(e.$slots,"finished",{key:1},()=>[$("view",vq,x(e.loadMoreTxt||e.translate("loadMoreTxt")),1)])])],512)}const _q=Ne(dq,[["render",yq]]);var wq=Object.defineProperty,bq=Object.defineProperties,$q=Object.getOwnPropertyDescriptors,N1=Object.getOwnPropertySymbols,Tq=Object.prototype.hasOwnProperty,Sq=Object.prototype.propertyIsEnumerable,V1=(e,t,n)=>t in e?wq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cq=(e,t)=>{for(var n in t||(t={}))Tq.call(t,n)&&V1(e,n,t[n]);if(N1)for(var n of N1(t))Sq.call(t,n)&&V1(e,n,t[n]);return e},Eq=(e,t)=>bq(e,$q(t));const{create:Pq}=Oe("pull-refresh"),Iq="NutPullRefresh",kq=Pq({props:{modelValue:{type:Boolean,default:!1},pullingTxt:{type:String,default:""},loosingTxt:{type:String,default:""},loadingTxt:{type:String,default:""},completeTxt:{type:String,default:""},headHeight:{type:[String,Number],default:50},pullDistance:{type:[String,Number],default:50},duration:{type:[String,Number],default:.3},completeDuration:{type:Number,default:0}},emits:["change","refresh","update:modelValue"],components:{Loading:Ei},setup(e,{emit:t,slots:n}){const r=It(Iq),o=fo(),s=H(),i=l4(s),a=qe({isPullRefresh:!1,distance:0,status:"normal"}),l=F(()=>{switch(a.status){case"pulling":return n.pulling?"":e.pullingTxt||r("pulling");case"loosing":return n.loosing?"":e.loosingTxt||r("loosing");case"loading":return n.loading?"":e.loadingTxt||r("loading");case"complete":return n.complete?"":e.completeTxt||r("complete")}return""}),u=F(()=>({transitionDuration:`${e.duration}s`,transform:a.distance?`translate3d(0,${a.distance}px, 0)`:""})),c=F(()=>{const b={};return e.headHeight!=50&&(b.height=Ht(e.headHeight)),b}),f=b=>{const O=+(e.pullDistance||e.headHeight);let A=b;return b>O&&(b<O*2?A=(b+O)/2:A=O+b/4),Math.round(A)},h=(b,O,A)=>{const L=+(e.pullDistance||e.headHeight);a.distance=b,O?a.status="loading":A?a.status="complete":b===0?a.status="normal":b<L?a.status="pulling":a.status="loosing",t("change",{status:a.status,distance:b})},m=()=>a.status!=="loading"&&a.status!=="complete",w=()=>i.value==window?e4()==0:i.value&&i.value.scrollTop==0,C=b=>{m()&&(w()?(o.start(b),a.isPullRefresh=!0):(a.distance=0,a.isPullRefresh=!1))},p=b=>{if(m()){o.move(b);const{deltaY:O}=o;o.isVertical()&&O.value>0&&a.isPullRefresh&&(b.preventDefault(),h(f(O.value)))}},g=()=>{a.isPullRefresh&&m()&&o.deltaY.value&&(a.status==="loosing"?(h(+e.headHeight,!0),t("update:modelValue",!0),Et(()=>t("refresh"))):h(0)),setTimeout(()=>{o.reset()},0)};return ve(()=>e.modelValue,b=>{b?h(+e.headHeight,!0):(e.completeDuration===0&&h(0),h(+e.headHeight,!1,!0),setTimeout(()=>{h(0)},e.completeDuration))}),Eq(Cq({scroller:s},rt(a)),{touchStart:C,touchMove:p,touchEnd:g,getStyle:u,translate:r,slots:n,getHeightStyle:c,getPullStatus:l})}}),Oq={class:"nut-pull-refresh-container-topbox-text"};function Aq(e,t,n,r,o,s){const i=ue("Loading");return y(),T("div",{ref:"scroller",class:"nut-pull-refresh",onTouchstart:t[0]||(t[0]=(...a)=>e.touchStart&&e.touchStart(...a)),onTouchmove:t[1]||(t[1]=(...a)=>e.touchMove&&e.touchMove(...a)),onTouchend:t[2]||(t[2]=(...a)=>e.touchEnd&&e.touchEnd(...a))},[$("div",{class:"nut-pull-refresh-container",style:W(e.getStyle)},[$("div",{class:"nut-pull-refresh-container-topbox",style:W(e.getHeightStyle)},[e.status=="loading"&&!e.slots.loading?(y(),ye(i,{key:0,class:"nut-icon-loading nut-pull-refresh-container-topbox-icon"})):j("",!0),$("div",Oq,x(e.getPullStatus),1),e.status=="pulling"?U(e.$slots,"pulling",{key:1}):j("",!0),e.status=="loosing"?U(e.$slots,"loosing",{key:2}):j("",!0),e.status=="loading"?U(e.$slots,"loading",{key:3}):j("",!0),e.status=="complete"?U(e.$slots,"complete",{key:4}):j("",!0)],4),U(e.$slots,"default")],4)],544)}const Dq=Ne(kq,[["render",Aq]]);var Rq=Object.defineProperty,Nq=Object.defineProperties,Vq=Object.getOwnPropertyDescriptors,L1=Object.getOwnPropertySymbols,Lq=Object.prototype.hasOwnProperty,Mq=Object.prototype.propertyIsEnumerable,M1=(e,t,n)=>t in e?Rq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dr=(e,t)=>{for(var n in t||(t={}))Lq.call(t,n)&&M1(e,n,t[n]);if(L1)for(var n of L1(t))Mq.call(t,n)&&M1(e,n,t[n]);return e},Yi=(e,t)=>Nq(e,Vq(t));const{create:Bq}=Oe("notify"),Fq=Bq({components:{NutPopup:Hn},props:{id:String,color:{type:String,default:""},msg:{type:String,default:""},duration:{type:Number,default:3e3},className:{type:String,default:""},background:{type:String,default:""},type:{type:String,default:"danger"},visible:{type:Boolean,default:!1},position:{type:String,default:"top"},teleportDisable:{type:Boolean,default:!0},onClose:Function,onClick:Function,unmount:Function},emits:["update:visible"],setup(e,{emit:t}){const n=()=>{e.onClick&&e.onClick()};let r=null;const o=()=>{r&&clearTimeout(r),r=null},s=()=>{t("update:visible",!1)},i=H(!1),a=ve(()=>e.visible,u=>{i.value=e.visible;const c=e.duration;u&&c&&(r=setTimeout(()=>{s()},c))},{immediate:!0});return{onAfterLeave:()=>{o(),a&&a(),e.unmount&&e.unmount(e.id),e.onClose&&e.onClose()},clickCover:n,isShowPopup:i}}});function jq(e,t,n,r,o,s){const i=ue("nut-popup");return y(),ye(i,{visible:e.isShowPopup,"onUpdate:visible":t[1]||(t[1]=a=>e.isShowPopup=a),position:e.position,overlay:!1,"teleport-disable":e.teleportDisable},{default:de(()=>[$("div",{class:z(["nut-notify",`nut-notify--${e.type}`,e.className]),style:W({color:e.color,background:e.background}),onClick:t[0]||(t[0]=(...a)=>e.clickCover&&e.clickCover(...a))},[e.$slots.default?U(e.$slots,"default",{key:0}):(y(),T(le,{key:1},[Ie(x(e.msg),1)],64))],6)]),_:3},8,["visible","position","teleport-disable"])}const Sc=Ne(Fq,[["render",jq]]),Df={type:"base",visible:!0,msg:"",color:void 0,background:void 0,duration:3e3,className:"",onClose:Function,teleport:"",unmount:new Function};let Gs=[],_a=[];const K4=e=>{if(e){const t=document.getElementById(e);_a=_a.filter(n=>n.id!==e),Gs=Gs.filter(n=>n!==e),t&&document.body.removeChild(t)}else Gs.forEach(t=>{const n=document.getElementById(t);n&&document.body.removeChild(n)}),_a=[],Gs=[]},xq=e=>{const t=document.getElementById(e.id);if(t){const n=_a.find(o=>o.id===e.id);n?e=dr(dr(dr({},Df),n),e):e=dr(dr({},Df),e);const r=X(Sc,e);return wb(r,t),r.component.data}},Qi=e=>{e.unmount=K4;let t;if(e.id){if(t=e.id,Gs.find(s=>s===e.id))return xq(e)}else t=new Date().getTime()+"";e=dr(dr({},Df),e),e.id=t,Gs.push(e.id),_a.push(e);const n=document.createElement("view");n.id="notify-"+e.id;const o=X({setup(){return e.teleport=`#notify-${e.id}`,tt(()=>{setTimeout(()=>{e.onClose&&e.onClose(),document.body.removeChild(n)},e.duration)}),()=>Ct(Sc,e)}});document.body.appendChild(n),wb(o,n)},Xi=e=>{if(!e){console.warn("[NutUI Notify]: msg不能为空");return}},wa={text(e,t={}){return Xi(e),Qi(Yi(dr({},t),{msg:e}))},primary(e,t={}){return Xi(e),Qi(Yi(dr({},t),{msg:e,type:"primary"}))},success(e,t={}){return Xi(e),Qi(Yi(dr({},t),{msg:e,type:"success"}))},danger(e,t={}){return Xi(e),Qi(Yi(dr({},t),{msg:e,type:"danger"}))},warn(e,t={}){return Xi(e),Qi(Yi(dr({},t),{msg:e,type:"warning"}))},hide(){K4()},install(e){e.use(Sc)}};var Uq=Object.defineProperty,zq=Object.defineProperties,Hq=Object.getOwnPropertyDescriptors,B1=Object.getOwnPropertySymbols,qq=Object.prototype.hasOwnProperty,Wq=Object.prototype.propertyIsEnumerable,F1=(e,t,n)=>t in e?Uq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kq=(e,t)=>{for(var n in t||(t={}))qq.call(t,n)&&F1(e,n,t[n]);if(B1)for(var n of B1(t))Wq.call(t,n)&&F1(e,n,t[n]);return e},Gq=(e,t)=>zq(e,Hq(t));const Yq={class:"nut-switch-button"},G4=Le(Gq(Kq({},{name:"NutSwitch"}),{__name:"switch",props:{modelValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:!1},activeColor:{default:""},inactiveColor:{default:""},activeText:{default:""},inactiveText:{default:""},activeValue:{type:[String,Number,Boolean],default:!0},inactiveValue:{type:[String,Number,Boolean],default:!1},loading:{type:Boolean,default:!1},disable:{type:Boolean,default:!1}},emits:["change","update:modelValue","update:loading"],setup(e,{emit:t}){const n=e,r=t,o=F(()=>n.disabled||n.disable),s=zr(o),i=F(()=>n.modelValue===n.activeValue),a=F(()=>{const f="nut-switch";return{[f]:!0,[i.value?"nut-switch-open":"nut-switch-close"]:!0,[`${f}-disabled`]:s.value,[`${f}-base`]:!0}}),l=F(()=>({backgroundColor:i.value?n.activeColor:n.inactiveColor}));let u="";const c=f=>{if(n.loading||s.value)return;const h=i.value?n.inactiveValue:n.activeValue;u="click",r("update:modelValue",h),r("change",h,f)};return ve(()=>n.modelValue,f=>{u=="click"?u="":r("change",f)}),(f,h)=>(y(),T("view",{class:z(a.value),style:W(l.value),onClick:c},[$("view",Yq,[f.loading?U(f.$slots,"icon",{key:0},()=>[X(Ae(R9),{name:"loading",color:f.activeColor},null,8,["color"])]):j("",!0),f.activeText?(y(),T(le,{key:1},[ct($("view",{class:"nut-switch-label open"},x(f.activeText),513),[[jt,i.value]]),ct($("view",{class:"nut-switch-label close"},x(f.inactiveText),513),[[jt,!i.value]])],64)):j("",!0)])],6))}}));et(G4);const{create:Qq}=Oe("toast"),Xq=Qq({components:{},props:{id:String,msg:String,duration:{type:Number,default:2e3},center:{type:Boolean,default:!0},type:{type:String,default:"text"},customClass:String,bottom:{type:String,default:"30px"},size:{type:[String,Number],default:"base"},icon:{type:Object,default:null},textAlignCenter:{type:Boolean,default:!0},loadingRotate:{type:Boolean,default:!0},bgColor:{type:String,default:""},onClose:Function,unmount:Function,cover:{type:Boolean,default:!1},coverColor:{type:String,default:""},title:{type:String,default:""},closeOnClickOverlay:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){let n;const r=qe({mounted:!1});tt(()=>{r.mounted=!0});const o=()=>{n&&(clearTimeout(n),n=null)},s=()=>{r.mounted=!1},i=()=>{o(),e.duration&&(n=window.setTimeout(()=>{s()},e.duration))},a=()=>{e.closeOnClickOverlay&&(s(),t("close"))};e.duration&&i(),ve(()=>e.duration,h=>{h&&i()});const l=F(()=>e.type!=="text"?!0:e.icon!==null),u=F(()=>["nut-toast",{"nut-toast-center":e.center},{"nut-toast-has-icon":l.value},{"nut-toast-cover":e.cover},{"nut-toast-loading":e.type==="loading"},e.customClass,"nut-toast-"+e.size]),c=F(()=>["nut-toast-icon-wrapper",{"nut-toast-icon-no-animation":!e.loadingRotate}]);return{state:r,hide:s,clickCover:a,hasIcon:l,toastBodyClass:u,toastIconWrapperClass:c,onAfterLeave:()=>{var h;o(),(h=e.unmount)==null||h.call(e,e.id),e.onClose&&e.onClose()},renderIcon:Lo}}}),Jq={key:1,class:"nut-toast-title"},Zq=["innerHTML"];function eW(e,t,n,r,o,s){return y(),ye(vh,{name:"toast-fade",onAfterLeave:e.onAfterLeave},{default:de(()=>[ct($("view",{class:z(e.toastBodyClass),style:W({bottom:e.center?"auto":e.bottom,"background-color":e.coverColor}),onClick:t[0]||(t[0]=(...i)=>e.clickCover&&e.clickCover(...i))},[$("view",{class:"nut-toast-inner",style:W({"text-align":e.textAlignCenter?"center":"left","background-color":e.bgColor})},[e.hasIcon?(y(),T("view",{key:0,class:z(e.toastIconWrapperClass)},[(y(),ye(Yn(e.renderIcon(e.icon)),{color:"#ffffff"}))],2)):j("",!0),e.title?(y(),T("div",Jq,x(e.title),1)):j("",!0),$("view",{class:"nut-toast-text",innerHTML:e.msg},null,8,Zq)],4)],6),[[jt,e.state.mounted]])]),_:1},8,["onAfterLeave"])}const tW=Ne(Xq,[["render",eW]]),Y4=Symbol("nut-audio");var nW=Object.defineProperty,rW=Object.defineProperties,oW=Object.getOwnPropertyDescriptors,j1=Object.getOwnPropertySymbols,sW=Object.prototype.hasOwnProperty,iW=Object.prototype.propertyIsEnumerable,x1=(e,t,n)=>t in e?nW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U1=(e,t)=>{for(var n in t||(t={}))sW.call(t,n)&&x1(e,n,t[n]);if(j1)for(var n of j1(t))iW.call(t,n)&&x1(e,n,t[n]);return e},aW=(e,t)=>rW(e,oW(t));const{create:lW}=Oe("audio"),uW=lW({props:{url:{type:String,default:""},muted:{type:Boolean,default:!1},autoplay:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},preload:{type:String,default:"auto"},second:{type:Number,default:0},type:{type:String,default:"progress"}},components:{Service:GD,NutRange:O4},emits:["fastBack","play","forward","ended","changeProgress","mute","canPlay"],setup(e,{emit:t,slots:n}){const r=H(null),o=qe({currentTime:0,currentDuration:"00:00:00",percent:0,duration:"00:00:00",second:0,hanMuted:e.muted,playing:e.autoplay,handPlaying:!1});tt(()=>{var C=["webkitVisibilityState","visibilitychange"];try{for(let p=0;p<C.length;p++)document.addEventListener(C[p],()=>{document.hidden?r.value.pause():o.playing&&setTimeout(()=>{r.value.play()},200)})}catch(p){console.log(p.message)}});const s=C=>{const p=r.value;e.autoplay&&p&&p.paused&&p.play(),o.second=p.duration,o.duration=w(p.duration),t("canPlay",C)},i=C=>{o.currentTime=parseInt(C.target.currentTime)},a=()=>{o.currentTime>0&&o.currentTime--,r.value.currentTime=o.currentTime,t("fastBack",o.currentTime)},l=()=>{const C=r.value;o.playing?(C.pause(),o.handPlaying=!1):(C.play(),o.handPlaying=!0),o.playing=!o.playing,t("play",o.playing)},u=()=>{o.currentTime++,r.value.currentTime=o.currentTime,t("forward",o.currentTime)},c=C=>{o.currentDuration=w(C),o.percent=C/o.second*100},f=()=>{o.playing=!1,t("ended")},h=C=>{const p=r.value;p.currentTime=o.second*C/100,t("changeProgress",p.currentTime)},m=()=>{o.hanMuted=!o.hanMuted,t("mute",o.hanMuted)},w=C=>{if(!C)return"00:00:00";let p=parseInt(C),g=Math.floor(p/3600),b=Math.floor((p-g*3600)/60),O=p-g*3600-b*60,A="";return A+=("0"+g.toString()).slice(-2)+":",A+=("0"+b.toString()).slice(-2)+":",A+=("0"+O.toString()).slice(-2),A};return ve(()=>o.currentTime,C=>{c(C)}),hn(Y4,{children:[],props:e,audioData:o,handleMute:m,forward:u,fastBack:a,changeStatus:l}),aW(U1(U1({},rt(e)),rt(o)),{audioRef:r,fastBack:a,forward:u,changeStatus:l,progressChange:h,audioEnd:f,onTimeupdate:i,handleMute:m,onCanplay:s,slots:n})}}),cW={class:"nut-audio"},dW={key:0,class:"nut-audio__progress"},fW={class:"nut-audio__time"},hW={class:"nut-audio__bar"},pW=$("div",{class:"nut-audio__button--custom"},null,-1),mW={class:"nut-audio__time"},gW={key:1,class:"nut-audio__icon"},vW=["controls","src","preload","autoplay","loop","muted"];function yW(e,t,n,r,o,s){const i=ue("nut-range"),a=ue("Service");return y(),T("div",cW,[e.type=="progress"?(y(),T("div",dW,[$("div",fW,x(e.currentDuration),1),$("div",hW,[X(i,{modelValue:e.percent,"onUpdate:modelValue":t[0]||(t[0]=l=>e.percent=l),"hidden-range":"","inactive-color":"#cccccc","active-color":"#fa2c19",onChange:e.progressChange},{button:de(()=>[pW]),_:1},8,["modelValue","onChange"])]),$("div",mW,x(e.duration),1)])):j("",!0),e.type=="icon"?(y(),T("div",gW,[$("div",{class:z(["nut-audio__icon--box",e.playing?"nut-audio__icon--play":"nut-audio__icon--stop"]),onClick:t[1]||(t[1]=(...l)=>e.changeStatus&&e.changeStatus(...l))},[e.playing?(y(),ye(a,{key:0,class:"nut-icon-am-rotate nut-icon-am-infinite"})):(y(),ye(a,{key:1}))],2)])):j("",!0),e.type=="none"?(y(),T("div",{key:2,onClick:t[2]||(t[2]=(...l)=>e.changeStatus&&e.changeStatus(...l))},[U(e.$slots,"default")])):j("",!0),e.type!="none"?U(e.$slots,"default",{key:3}):j("",!0),$("audio",{ref:"audioRef",class:"audioMain",controls:e.type=="controls",src:e.url,preload:e.preload,autoplay:e.autoplay,loop:e.loop,muted:e.hanMuted,onTimeupdate:t[3]||(t[3]=(...l)=>e.onTimeupdate&&e.onTimeupdate(...l)),onCanplay:t[4]||(t[4]=(...l)=>e.onCanplay&&e.onCanplay(...l)),onEnded:t[5]||(t[5]=(...l)=>e.audioEnd&&e.audioEnd(...l))},null,40,vW)])}const _W=Ne(uW,[["render",yW]]);var wW=Object.defineProperty,bW=Object.defineProperties,$W=Object.getOwnPropertyDescriptors,z1=Object.getOwnPropertySymbols,TW=Object.prototype.hasOwnProperty,SW=Object.prototype.propertyIsEnumerable,H1=(e,t,n)=>t in e?wW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q1=(e,t)=>{for(var n in t||(t={}))TW.call(t,n)&&H1(e,n,t[n]);if(z1)for(var n of z1(t))SW.call(t,n)&&H1(e,n,t[n]);return e},CW=(e,t)=>bW(e,$W(t));const{create:EW}=Oe("audio-operate"),PW="NutAudioOperate",IW=EW({props:{type:{type:String,default:()=>"play"}},components:{NutButton:Ur},emits:["click"],setup(e){const t=It(PW),n=Lt(Y4),r=qe(n),o=H(Ya().default);return CW(q1(q1({},rt(e)),rt(r)),{customSlot:o,translate:t})}}),kW={class:"nut-audio-operate"};function OW(e,t,n,r,o,s){const i=ue("nut-button");return y(),T("div",kW,[e.type=="back"?(y(),T("div",{key:0,class:"nut-audio-operate-item",onClick:t[0]||(t[0]=(...a)=>e.fastBack&&e.fastBack(...a))},[e.customSlot?j("",!0):(y(),ye(i,{key:0,type:"primary",size:"small"},{default:de(()=>[Ie(x(e.translate("back")),1)]),_:1})),U(e.$slots,"default")])):j("",!0),e.type=="play"?(y(),T("div",{key:1,class:"nut-audio-operate-item",onClick:t[1]||(t[1]=(...a)=>e.changeStatus&&e.changeStatus(...a))},[e.customSlot?j("",!0):(y(),ye(i,{key:0,type:"primary",size:"small"},{default:de(()=>[Ie(x(e.audioData.playing?`${e.translate("pause")}`:`${e.translate("start")}`),1)]),_:1})),U(e.$slots,"default")])):j("",!0),e.type=="forward"?(y(),T("div",{key:2,class:"nut-audio-operate-item",onClick:t[2]||(t[2]=(...a)=>e.forward&&e.forward(...a))},[e.customSlot?j("",!0):(y(),ye(i,{key:0,type:"primary",size:"small"},{default:de(()=>[Ie("快进")]),_:1})),U(e.$slots,"default")])):j("",!0),e.type=="mute"?(y(),T("div",{key:3,class:"nut-audio-operate-item",onClick:t[3]||(t[3]=(...a)=>e.handleMute&&e.handleMute(...a))},[e.customSlot?j("",!0):(y(),ye(i,{key:0,type:e.audioData.hanMuted?"default":"primary",size:"small"},{default:de(()=>[Ie(x(e.translate("mute")),1)]),_:1},8,["type"])),U(e.$slots,"default")])):j("",!0)])}const AW=Ne(IW,[["render",OW]]),Q4=Symbol("nut-avatar"),{create:DW}=Oe("avatar"),RW=DW({props:{size:{type:[String,Number],default:"normal"},shape:{type:String,default:"round"},bgColor:{type:String,default:"#eee"},color:{type:String,default:"#666"}},setup(e){const{size:t,shape:n,bgColor:r,color:o}=rt(e),s=["large","normal","small"],i=Lt(Q4,null),a=H(null),l=F(()=>{var c,f;return{["nut-avatar"]:!0,[`nut-avatar-${t.value||((c=i==null?void 0:i.props)==null?void 0:c.size)||"normal"}`]:!0,[`nut-avatar-${n.value||((f=i==null?void 0:i.props)==null?void 0:f.shape)||"round"}`]:!0}}),u=F(()=>{var c,f;return{width:t.value in s?"":`${t.value}px`,height:t.value in s?"":`${t.value}px`,backgroundColor:`${r.value}`,color:`${o.value}`,marginLeft:(c=i==null?void 0:i.props)!=null&&c.span?`${(f=i==null?void 0:i.props)==null?void 0:f.span}px`:""}});return{classes:l,styles:u,avatarRef:a}}});function NW(e,t,n,r,o,s){return y(),T("view",{ref:"avatarRef",style:W(e.styles),class:z(e.classes)},[U(e.$slots,"default")],6)}const Sp=Ne(RW,[["render",NW]]),{create:VW}=Oe("avatar-group"),LW=VW({components:{NutAvatar:Sp},props:{maxContent:{type:String,default:""},maxCount:{type:[Number,String],default:""},maxBgColor:{type:String,default:"#eee"},maxColor:{type:String,default:"#666"},size:{type:[String,Number],default:"normal"},shape:{type:String,default:"round"},span:{type:[String,Number],default:"-8"},zIndex:{type:String,default:"left"}},setup(e){const t=H(null),n=H(99),r=H(),o=F(()=>({marginLeft:-1*Number(e.span)+"px"})),s=a=>{let l=0;a&&a.$el&&(a=a.$el);const u=a.children;if(e.zIndex==="right")for(let c=0;c<Number(e.maxCount);c++){const f=u[c];f.style.zIndex=`${99-c}`}for(let c=Number(e.maxCount);c<u.length;c++){const f=u[c];f.className.includes("avater-fold")||(f.style.display="none",l++)}n.value=l},i=a=>{const l={attributes:!1,childList:!0,subtree:!0},u=function(f){let h=!1;for(let m of f)if(m.type==="childList"){h=!0;break}h&&s(a)},c=new MutationObserver(u);return c.observe(a,l),c};return tt(()=>{e.maxCount&&Et(()=>{let a=Ae(t);a&&a.$el&&(a=a.$el),s(a),r.value=i(a)})}),_r(()=>{var a;(a=r.value)==null||a.disconnect()}),hn(Q4,{props:e,avatarGroupRef:t}),{styles:o,foldCount:n,avatarGroupRef:t}}});function MW(e,t,n,r,o,s){const i=ue("nut-avatar");return y(),T("view",{ref:"avatarGroupRef",class:"nut-avatar-group",style:W(e.styles)},[U(e.$slots,"default"),e.foldCount>0?(y(),ye(i,{key:0,class:"avater-fold",color:e.maxColor,"bg-color":e.maxBgColor,size:e.size,shape:e.shape,style:W({magrinLeft:`${e.span}px`})},{default:de(()=>[Ie(x(e.maxContent||e.foldCount),1)]),_:1},8,["color","bg-color","size","shape","style"])):j("",!0)],4)}const BW=Ne(LW,[["render",MW]]);var FW=Object.defineProperty,jW=Object.defineProperties,xW=Object.getOwnPropertyDescriptors,W1=Object.getOwnPropertySymbols,UW=Object.prototype.hasOwnProperty,zW=Object.prototype.propertyIsEnumerable,K1=(e,t,n)=>t in e?FW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HW=(e,t)=>{for(var n in t||(t={}))UW.call(t,n)&&K1(e,n,t[n]);if(W1)for(var n of W1(t))zW.call(t,n)&&K1(e,n,t[n]);return e},qW=(e,t)=>jW(e,xW(t)),nu=(e=>(e[e.eq=1]="eq",e[e.lt=2]="lt",e[e.gt=3]="gt",e))(nu||{});function WW(e,t,n){let r=0,o=e.length-1,s=null;for(;r<=o;){s=Math.floor((r+o)/2);const i=e[s],a=n(i,t);if(a===1)return s;a===2?r=s+1:a===3&&(o=s-1)}return s}const{create:KW}=Oe("list"),GW=KW({props:{listData:{type:Array,default:()=>[]},bufferSize:{type:Number,default:5},containerHeight:{type:Number},height:{type:Number,default:80},margin:{type:Number,default:10}},emits:["scrollUp","scrollDown","scrollBottom"],setup(e,{emit:t}){const n=document.documentElement.clientHeight||document.body.clientHeight||667,r=H(null),o=H(null),s=H(null),i=qe({start:0,originStartIndex:0,scrollTop:0,list:e.listData.slice(),cachePositions:[],phantomHeight:e.height*e.listData.length}),a=F(()=>e.containerHeight?Math.min(e.containerHeight,n):n),l=F(()=>Math.ceil(a.value/e.height)),u=F(()=>Math.min(i.originStartIndex+l.value+e.bufferSize,i.list.length)),c=F(()=>i.list.slice(i.start,u.value)),f=()=>{if(s.value)return`translate3d(0, ${i.start>=1?i.cachePositions[i.start-1].bottom:0}px, 0)`},h=()=>{i.cachePositions=[];for(let g=0;g<i.list.length;++g)i.cachePositions[g]={index:g,height:e.height,top:g*e.height,bottom:(g+1)*(e.height+e.margin),dValue:0}},m=()=>{let g=s.value.childNodes;g=Array.from(g).filter(I=>I.nodeType===1);const b=g[0];g.forEach((I,S)=>{if(!I)return;const _=gr(I),{height:P}=_,R=i.cachePositions[S+i.start].height-P;R&&(i.cachePositions[S+i.start].bottom-=R,i.cachePositions[S+i.start].height=P,i.cachePositions[S+i.start].dValue=R)});let O=0;b&&(O=i.start);const A=i.cachePositions.length;let L=i.cachePositions[O].dValue;i.cachePositions[O].dValue=0;for(let I=O+1;I<A;++I){const S=i.cachePositions[I];i.cachePositions[I].top=i.cachePositions[I-1].bottom,i.cachePositions[I].bottom=i.cachePositions[I].bottom-L,S.dValue!==0&&(L+=S.dValue,S.dValue=0)}const N=i.cachePositions[A-1].bottom;i.phantomHeight=N},w=(g=0)=>{let b=WW(i.cachePositions,g,(A,L)=>{const N=A.bottom;return N===L?nu.eq:N<L?nu.lt:nu.gt});return i.cachePositions[b].bottom<g&&(b+=1),b},C=()=>{i.originStartIndex=0,i.start=0,i.scrollTop=0,r.value.scrollTop=0,h(),i.phantomHeight=e.height*i.list.length},p=()=>{var g;const b=(g=r.value)==null?void 0:g.scrollTop,{originStartIndex:O}=i,A=w(b);A!==O&&(i.originStartIndex=A,i.start=Math.max(i.originStartIndex-e.bufferSize,0),u.value>=i.list.length-1&&t("scrollBottom")),t(b>i.scrollTop?"scrollUp":"scrollDown",b),i.scrollTop=b};return h(),ve(()=>e.listData,g=>{if(i.list=g.slice(),i.list.length===g.length)h(),m();else{C();return}}),ve(()=>i.start,()=>{s.value&&i.list.length>0&&m()}),qW(HW({},rt(i)),{list:r,phantom:o,actualContent:s,getTransform:f,visibleData:c,getContainerHeight:a,handleScrollEvent:p})}});function YW(e,t,n,r,o,s){return y(),T("div",{ref:"list",class:"nut-list",style:W({height:`${e.getContainerHeight}px`}),onScrollPassive:t[0]||(t[0]=(...i)=>e.handleScrollEvent&&e.handleScrollEvent(...i))},[$("div",{ref:"phantom",class:"nut-list-phantom",style:W({height:e.phantomHeight+"px"})},null,4),$("div",{ref:"actualContent",class:"nut-list-container",style:W({transform:e.getTransform()})},[(y(!0),T(le,null,Re(e.visibleData,(i,a)=>(y(),T("div",{key:i,class:"nut-list-item"},[U(e.$slots,"default",{item:i,index:a+e.start})]))),128))],4)],36)}const QW=Ne(GW,[["render",YW]]);var XW=Object.defineProperty,JW=Object.defineProperties,ZW=Object.getOwnPropertyDescriptors,G1=Object.getOwnPropertySymbols,eK=Object.prototype.hasOwnProperty,tK=Object.prototype.propertyIsEnumerable,Y1=(e,t,n)=>t in e?XW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nK=(e,t)=>{for(var n in t||(t={}))eK.call(t,n)&&Y1(e,n,t[n]);if(G1)for(var n of G1(t))tK.call(t,n)&&Y1(e,n,t[n]);return e},rK=(e,t)=>JW(e,ZW(t));const oK={viewBox:"0 0 100 100"},sK=["id"],iK=["offset","stop-color"],aK=["d","stroke-width"],lK=["d","stroke","stroke-linecap","stroke-width"],uK={class:"nut-circle-progress__text"},X4=Le(rK(nK({},{name:"NutCircleProgress"}),{__name:"circle-progress",props:{progress:{default:0},strokeWidth:{default:5},radius:{default:50},strokeLinecap:{default:"round"},color:{default:"#fa2c19"},pathColor:{default:"#d9d9d9"},clockwise:{type:Boolean,default:!0}},setup(e){const t=e,n=Math.random().toString(36).slice(-8),r=F(()=>{const l=t.clockwise?1:0;return`M 50 50 m 0 -45 a 45 45 0 1 ${l} 0 90 a 45 45 0 1, ${l} 0 -90`}),o=F(()=>eu(t.color)?`url(#${n})`:t.color),s=F(()=>{let l=283,u=l*Number(t.progress)/100;return{stroke:eu(t.color)?`url(#${n})`:t.color,strokeDasharray:`${u}px ${l}px`}}),i=F(()=>({stroke:t.pathColor})),a=F(()=>{if(!eu(t.color))return;let l=t.color;const u=Object.keys(l).sort((f,h)=>parseFloat(f)-parseFloat(h));let c=[];return u.map(f=>{let h={key:"",value:""};h.key=f,h.value=l[f],c.push(h)}),c});return(l,u)=>(y(),T("div",{class:"nut-circle-progress",style:W({height:Number(l.radius)*2+"px",width:Number(l.radius)*2+"px"})},[(y(),T("svg",oK,[$("defs",null,[$("linearGradient",{id:Ae(n),x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[(y(!0),T(le,null,Re(a.value,(c,f)=>(y(),T("stop",{key:f,offset:c.key,"stop-color":c.value},null,8,iK))),128))],8,sK)]),$("path",{class:"nut-circle-progress__path",style:W(i.value),d:r.value,fill:"none","stroke-width":l.strokeWidth}," > ",12,aK),$("path",{class:"nut-circle-progress__hover",style:W(s.value),d:r.value,fill:"none",stroke:o.value,"stroke-linecap":l.strokeLinecap,"stroke-width":l.strokeWidth},null,12,lK)])),$("div",uK,[U(l.$slots,"default",{},()=>[$("div",null,x(l.progress)+"%",1)])])],4))}}));et(X4);var cK=Object.defineProperty,dK=Object.defineProperties,fK=Object.getOwnPropertyDescriptors,Q1=Object.getOwnPropertySymbols,hK=Object.prototype.hasOwnProperty,pK=Object.prototype.propertyIsEnumerable,X1=(e,t,n)=>t in e?cK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mK=(e,t)=>{for(var n in t||(t={}))hK.call(t,n)&&X1(e,n,t[n]);if(Q1)for(var n of Q1(t))pK.call(t,n)&&X1(e,n,t[n]);return e},gK=(e,t)=>dK(e,fK(t));const{create:vK}=Oe("noticebar"),yK=vK({props:{direction:{type:String,default:"across"},list:{type:Array,default:()=>[]},standTime:{type:Number,default:1e3},complexAm:{type:Boolean,default:!1},height:{type:Number,default:40},text:{type:String,default:""},closeMode:{type:Boolean,default:!1},wrapable:{type:Boolean,default:!1},leftIcon:{type:Boolean,default:!0},color:{type:String,default:""},background:{type:String,default:""},delay:{type:[String,Number],default:1},scrollable:{type:Boolean,default:null},speed:{type:Number,default:50}},components:{ScrollItem:function(e){return e.item.props.style=e.style,e.item.key=e.key,Ct(e.item)},Notice:uD,CircleClose:ap},emits:["click","close","acrossEnd"],setup(e,{emit:t,slots:n}){const r=H(null),o=H(null),s=qe({wrapWidth:0,firstRound:!0,duration:0,offsetWidth:0,showNoticebar:!0,animationClass:"",animate:!1,scrollList:[],distance:0,timer:null,keepAlive:!1,isCanScroll:null,showNotica:!0}),i=F(()=>s.isCanScroll==null?e.wrapable:!s.isCanScroll&&!e.wrapable),a=F(()=>({"nut-noticebar__page-wrap-content":!0,"nut-ellipsis":i.value,[s.animationClass]:!0})),l=F(()=>{let I={};return e.color&&(I.color=e.color),e.background&&(I.background=e.background),e.direction=="vertical"&&(I.height=`${e.height}px`),I}),u=F(()=>({animationDelay:(s.firstRound?e.delay:0)+"s",animationDuration:s.duration+"s",transform:`translateX(${s.firstRound?0:s.wrapWidth+"px"})`})),c=F(()=>{let I={};if(e.complexAm)I={transform:`translateY(${s.distance}px)`};else if(s.animate){let S=~~(e.height/e.speed/4);I={transition:`all ${S==0?~~(e.height/e.speed):S}s`,"margin-top":`-${e.height}px`}}return I});ve(()=>e.text,()=>{f()}),ve(()=>e.list,I=>{s.scrollList=[].concat(I)});const f=()=>{s.showNoticebar!=!1&&setTimeout(()=>{if(!r.value||!o.value)return;const I=r.value.getBoundingClientRect().width,S=o.value.getBoundingClientRect().width;s.isCanScroll=e.scrollable==null?S>I:e.scrollable,s.isCanScroll?(s.wrapWidth=I,s.offsetWidth=S,s.duration=S/e.speed,s.animationClass="play"):s.animationClass=""},0)},h=I=>{t("click",I)},m=I=>{e.closeMode&&(s.showNoticebar=!e.closeMode),t("close",I)},w=I=>{s.firstRound=!1,t("acrossEnd",I),setTimeout(()=>{s.duration=(s.offsetWidth+s.wrapWidth)/e.speed,s.animationClass="play-infinite"},0)},C=()=>{p(),s.timer=setInterval(p,~~(e.height/e.speed/4*1e3)+e.standTime)},p=()=>{s.animate=!0,setTimeout(()=>{s.scrollList.push(s.scrollList[0]),s.scrollList.shift(),s.animate=!1},~~(e.height/e.speed/4*1e3))},g=()=>{s.timer=setInterval(()=>{let I=100;for(let S=0;S<I;S++)b(S,!(S<I-1))},e.standTime+100*e.speed)},b=(I,S)=>{setTimeout(()=>{s.distance-=e.height/100,S&&(s.scrollList.push(s.scrollList[0]),s.scrollList.shift(),s.distance=0)},I*e.speed)},O=I=>{t("click",I)},A=()=>{e.closeMode&&(s.showNoticebar=!e.closeMode),t("close",s.scrollList[0])};tt(()=>{e.direction=="vertical"?(n.default?(L(),N()):s.scrollList=[].concat(e.list),setTimeout(()=>{e.complexAm?g():C()},e.standTime)):f()});const L=()=>{n.default&&(s.scrollList=[].concat(n.default()[0].children))},N=()=>{setTimeout(()=>{var I=new MutationObserver(()=>{s.showNotica=!1,setTimeout(()=>{s.showNotica=!0}),L()});const S=document.getElementsByClassName("nut-noticebar-custom-item")[0];S&&I.observe(S,{childList:!0,subtree:!0})},100)};return _i(()=>{s.keepAlive&&(s.keepAlive=!1)}),wi(()=>{s.keepAlive=!0,clearInterval(s.timer)}),_r(()=>{clearInterval(s.timer)}),gK(mK({},rt(s)),{isEllipsis:i,barStyle:l,contentStyle:u,horseLampStyle:c,wrap:r,content:o,handleClick:h,onClickIcon:m,onAnimationEnd:w,go:O,handleClickIcon:A,slots:n,pxCheck:Ht,wrapContentClass:a})}}),_K={class:"nut-noticebar"},wK={key:0,class:"nut-noticebar__page-lefticon"},bK={ref:"wrap",class:"nut-noticebar__page-wrap"},$K={class:"showNotica"},TK={class:"nut-noticebar-custom-item"},SK=["onClick"];function CK(e,t,n,r,o,s){const i=ue("Notice"),a=ue("CircleClose"),l=ue("ScrollItem");return y(),T("view",_K,[e.direction=="across"?ct((y(),T("view",{key:0,class:z(["nut-noticebar__page",{"nut-noticebar__page--withicon":e.closeMode,"nut-noticebar__page--close":e.closeMode,"nut-noticebar__page--wrapable":e.wrapable}]),style:W(e.barStyle),onClick:t[3]||(t[3]=(...u)=>e.handleClick&&e.handleClick(...u))},[e.leftIcon?(y(),T("view",wK,[U(e.$slots,"left-icon",{},()=>[X(i,{size:"16px"})])])):j("",!0),$("view",bK,[$("view",{ref:"content",class:z(e.wrapContentClass),style:W(e.contentStyle),onAnimationend:t[0]||(t[0]=(...u)=>e.onAnimationEnd&&e.onAnimationEnd(...u)),onWebkitAnimationEnd:t[1]||(t[1]=(...u)=>e.onAnimationEnd&&e.onAnimationEnd(...u))},[U(e.$slots,"default",{},()=>[Ie(x(e.text),1)])],38)],512),e.closeMode||e.$slots["right-icon"]?(y(),T("view",{key:1,class:"nut-noticebar__page-righticon",onClick:t[2]||(t[2]=Vt((...u)=>e.onClickIcon&&e.onClickIcon(...u),["stop"]))},[e.$slots["right-icon"]?U(e.$slots,"right-icon",{key:0}):(y(),ye(a,{key:1}))])):j("",!0)],6)),[[jt,e.showNoticebar]]):j("",!0),e.scrollList.length>0&&e.direction=="vertical"&&e.showNoticebar?(y(),T("view",{key:1,class:"nut-noticebar__vertical",style:W(e.barStyle)},[e.slots.default?(y(),T(le,{key:0},[$("view",{class:"nut-noticebar__vertical-list",style:W(e.horseLampStyle)},[$("div",$K,[(y(!0),T(le,null,Re(e.scrollList,(u,c)=>(y(),ye(l,{key:c,style:W({height:e.height+"px","line-height":e.height+"px"}),item:u},null,8,["style","item"]))),128))])],4),$("view",TK,[U(e.$slots,"default")])],64)):(y(),T("ul",{key:1,class:"nut-noticebar__vertical-list",style:W(e.horseLampStyle)},[(y(!0),T(le,null,Re(e.scrollList,(u,c)=>(y(),T("li",{key:c,class:"nut-noticebar__vertical-item",style:W({height:e.pxCheck(e.height),lineHeight:e.pxCheck(e.height)}),onClick:f=>e.go(u)},x(u),13,SK))),128))],4)),$("view",{class:"go",onClick:t[4]||(t[4]=u=>!e.slots.rightIcon&&e.handleClickIcon())},[U(e.$slots,"right-icon",{},()=>[e.closeMode?(y(),ye(a,{key:0,color:e.color,size:"11px"},null,8,["color"])):j("",!0)])])],4)):j("",!0)])}const EK=Ne(yK,[["render",CK]]);var PK=Object.defineProperty,IK=Object.defineProperties,kK=Object.getOwnPropertyDescriptors,J1=Object.getOwnPropertySymbols,OK=Object.prototype.hasOwnProperty,AK=Object.prototype.propertyIsEnumerable,Z1=(e,t,n)=>t in e?PK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DK=(e,t)=>{for(var n in t||(t={}))OK.call(t,n)&&Z1(e,n,t[n]);if(J1)for(var n of J1(t))AK.call(t,n)&&Z1(e,n,t[n]);return e},RK=(e,t)=>IK(e,kK(t));const NK={class:"nut-empty"},VK=["src"],LK={class:"nut-empty__description"},e0="NutEmpty",J4=Le(RK(DK({},{name:e0}),{__name:"empty",props:{image:{default:"empty"},imageSize:{default:""},description:{default:""}},setup(e){const t=e,n=It(e0),r={empty:"https://static-ftcms.jd.com/p/files/61a9e3183985005b3958672b.png",error:"https://ftcms.jd.com/p/files/61a9e33ee7dcdbcc0ce62736.png",network:"https://static-ftcms.jd.com/p/files/61a9e31de7dcdbcc0ce62734.png"},o=F(()=>t.imageSize?{width:Ht(t.imageSize),height:Ht(t.imageSize)}:{}),s=F(()=>/^https?:\/\/|^\/\//.test(t.image)?t.image:r[t.image]),i=F(()=>t.description||n("noData"));return(a,l)=>(y(),T("view",NK,[$("view",{class:"nut-empty__box",style:W(o.value)},[U(a.$slots,"image",{},()=>[s.value?(y(),T("img",{key:0,class:"nut-empty__box--img",src:s.value},null,8,VK)):j("",!0)])],4),U(a.$slots,"description",{},()=>[$("view",LK,x(i.value),1)]),U(a.$slots,"default")]))}}));et(J4);var MK=Object.defineProperty,BK=Object.defineProperties,FK=Object.getOwnPropertyDescriptors,t0=Object.getOwnPropertySymbols,jK=Object.prototype.hasOwnProperty,xK=Object.prototype.propertyIsEnumerable,n0=(e,t,n)=>t in e?MK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,r0=(e,t)=>{for(var n in t||(t={}))jK.call(t,n)&&n0(e,n,t[n]);if(t0)for(var n of t0(t))xK.call(t,n)&&n0(e,n,t[n]);return e},UK=(e,t)=>BK(e,FK(t));function o0(e,t){let n=null,r=Date.now();return function(...o){const s=Date.now(),i=t-(s-r);n&&clearTimeout(n),i<=0?(e(...o),r=Date.now()):n=setTimeout(e,i)}}const{create:zK}=Oe("video"),HK="NutVideo",qK=zK({props:{source:{type:Object,default:{}},options:{type:Object,default:{autoplay:!1,volume:.5,poster:"",loop:!1,controls:!0,muted:!1,disabled:!1,playsinline:!1,touchPlay:!1,preload:""},required:!0},model:{type:String,default:""}},components:{},emits:["click","play","pause","playend","time"],setup(e,{emit:t,expose:n}){const r=It(HK),o=qe({videoElm:null,initial:!0,showToolbox:!1,player:{$player:null,pos:null},progressBar:{progressElm:null,pos:null},videoSet:{loaded:0,displayTime:"00:00",totalTime:"00:00",progress:{width:0,current:0}},state:{controlShow:!0,vol:.5,currentTime:0,fullScreen:!1,playing:!1,isLoading:!1,isEnd:!1,isError:!1,isMuted:!1},showTouchMask:!1}),s=H(null),i=F(()=>e.options.disabled);ve(()=>e.source,k=>{k.src&&Et(()=>{o.videoElm.load()})},{immediate:!0,deep:!0}),ve(()=>e.options,k=>{o.state.isMuted=k?k.muted:!1},{immediate:!0});const a=()=>{o.videoElm=s.value,e.options.autoplay&&setTimeout(()=>{o.videoElm.play()},200),e.options.touchPlay&&(o.showTouchMask=!0),e.options.playsinline&&(o.videoElm.setAttribute("playsinline",e.options.playsinline),o.videoElm.setAttribute("webkit-playsinline",e.options.playsinline),o.videoElm.setAttribute("x5-video-player-type","h5-page"),o.videoElm.setAttribute("x5-video-player-fullscreen",!1)),C(),o.showToolbox?l():(o.videoElm.addEventListener("play",()=>{o.state.playing=!0,t("play",o.videoElm)}),o.videoElm.addEventListener("pause",()=>{o.state.playing=!1,t("pause",o.videoElm)}),o.videoElm.addEventListener("ended",m),o.videoElm.addEventListener("timeupdate",o0(h,1e3)))},l=()=>{const k=s.value,R=s.value.getElementsByClassName("nut-video-controller__progress-value")[0];o.player.$player=k,o.progressBar.progressElm=R,o.progressBar.pos=R.getBoundingClientRect(),o.videoSet.progress.width=Math.round(R.getBoundingClientRect().width)},u=()=>{if(e.options.autoplay&&e.options.disabled)return o.state.playing=!0,!1;if(o.state.playing=!o.state.playing,o.videoElm)if(o.state.playing)try{setTimeout(()=>{o.videoElm.play()},200),o.videoElm.addEventListener("progress",()=>{f()}),o.videoElm.addEventListener("timeupdate",o0(h,1e3)),o.videoElm.addEventListener("ended",m),t("play",o.videoElm)}catch{w()}else o.videoElm.pause(),t("pause",o.videoElm)},c=k=>{var R=Math.floor(k/3600);+R<10&&(R="0"+R);var D=Math.floor(k%3600/60);+D<10&&(D="0"+D);var oe=Math.round(k%3600%60);+oe<10&&(oe="0"+oe);var J="";return R!=0?J=R+":"+D+":"+oe:J=D+":"+oe,J},f=()=>{o.videoSet.loaded&&(o.videoSet.loaded=o.videoElm.buffered.end(0)/o.videoElm.duration*100)},h=()=>{const k=o.videoElm.currentTime/o.videoElm.duration;o.videoSet.progress.current=Math.round(o.videoSet.progress.width*k),o.videoSet.totalTime=c(o.videoElm.duration),o.videoSet.displayTime=c(o.videoElm.currentTime),t("time",o.videoSet.displayTime,o.videoSet.totalTime)},m=()=>{o.state.playing=!1,o.state.isEnd=!0,o.videoSet.displayTime="00:00",o.videoSet.progress.current=0,o.videoElm.currentTime=0,t("playend",o.videoElm)},w=()=>{o.state.isError=!0},C=()=>{o.state.vol=e.options.volume},p=()=>{o.state.isMuted=!o.state.isMuted,o.videoElm.muted=o.state.isMuted},g=()=>{},b=k=>{let D=k.targetTouches[0].pageX-o.progressBar.pos.left;D<=0&&(D=0),D>=o.videoSet.progress.width&&(D=o.videoSet.progress.width),o.videoSet.progress.current=D;let oe=o.videoSet.progress.current/o.videoSet.progress.width;o.videoElm.duration&&A(oe,o.videoElm.duration)},O=k=>{let D=k.changedTouches[0].pageX-o.progressBar.pos.left;o.videoSet.progress.current=D;let oe=D/o.videoSet.progress.width;o.videoElm.duration&&A(oe,o.videoElm.duration)},A=(k,R)=>{o.videoElm.currentTime=Math.floor(k*R)},L=()=>{o.state.isError=!1,a()},N=()=>{o.state.fullScreen?(o.state.fullScreen=!1,document.webkitCancelFullScreen()):(o.state.fullScreen=!0,o.videoElm.webkitRequestFullScreen())};return n({play:u,pause:()=>{o.state.playing=!1,o.videoElm.pause(),t("pause",o.videoElm)},stop:()=>{m(),o.videoElm.pause()},muted:()=>{o.state.isMuted=!0,o.videoElm.muted=!0},unmuted:()=>{o.state.isMuted=!1,o.videoElm.muted=!1}}),tt(()=>{a()}),UK(r0(r0({root:s},rt(e)),rt(o)),{handleError:w,isDisabled:i,play:u,handleMuted:p,touchSlidSrart:g,touchSlidMove:b,touchSlidEnd:O,retry:L,fullScreen:N,translate:r})}}),WK={ref:"videocon",class:"nut-video"},KK=["muted","autoplay","loop","poster","controls","preload"],GK=["src","type"],YK={class:"nut-video-controller__now"},QK={class:"nut-video-controller__progress"},XK={ref:"progressBar",class:"nut-video-controller__progress-value"},JK=$("div",{class:"nut-video-controller__ball-move"},null,-1),ZK=[JK],eG={ref:"playedBar",class:"nut-video-controller__played"},tG={class:"nut-video-controller__total"},nG={class:"nut-video-error"},rG={class:"nut-video-error-tip"};function oG(e,t,n,r,o,s){return y(),T("div",WK,[$("video",{ref:"root",class:"nut-video-player",muted:e.options.muted,autoplay:e.options.autoplay,loop:e.options.loop,poster:e.options.poster,controls:e.options.controls,preload:e.options.preload,onError:t[0]||(t[0]=(...i)=>e.handleError&&e.handleError(...i))},[$("source",{src:e.source.src,type:e.source.type},null,8,GK)],40,KK),e.showToolbox&&!e.isDisabled?(y(),T("div",{key:0,ref:"touchMask",class:"nut-video-mask",onClick:t[1]||(t[1]=(...i)=>e.play&&e.play(...i))},null,512)):j("",!0),e.showToolbox&&!e.isDisabled?ct((y(),T("div",{key:1,ref:"palyBtn",class:"nut-video-play-btn",onClick:t[2]||(t[2]=(...i)=>e.play&&e.play(...i))},null,512)),[[jt,!e.state.playing]]):j("",!0),ct($("div",{class:z(["nut-video-controller",{"nut-video-controller--show":!e.state.playing,"nut-video-controller--hide":e.state.playing}])},[$("div",{class:"nut-video-controller__playbtn",onClick:t[3]||(t[3]=(...i)=>e.play&&e.play(...i))}),$("div",YK,x(e.videoSet.displayTime),1),$("div",QK,[$("div",XK,[$("div",{class:"buffered",style:W({width:`${e.videoSet.loaded}%`})},null,4),$("div",{class:"nut-video-controller__ball",style:W({transform:`translate3d(${e.videoSet.progress.current}px, -50%, 0)`}),onTouchmove:t[4]||(t[4]=Vt(i=>e.touchSlidMove(i),["stop","prevent"])),onTouchstart:t[5]||(t[5]=Vt(i=>e.touchSlidSrart(),["stop"])),onTouchend:t[6]||(t[6]=Vt(i=>e.touchSlidEnd(i),["stop"]))},ZK,36),$("div",eG,null,512)],512)]),$("div",tG,x(e.videoSet.totalTime),1),$("div",{class:z(["nut-video-controller__volume",{muted:e.state.isMuted}]),onClick:t[7]||(t[7]=(...i)=>e.handleMuted&&e.handleMuted(...i))},null,2),$("div",{class:"nut-video-controller__full",onClick:t[8]||(t[8]=(...i)=>e.fullScreen&&e.fullScreen(...i))})],2),[[jt,e.showToolbox&&!e.isDisabled]]),ct($("div",nG,[$("p",rG,x(e.translate("errorTip")),1),$("p",{class:"nut-video-error-retry",onClick:t[9]||(t[9]=(...i)=>e.retry&&e.retry(...i))},x(e.translate("clickRetry")),1)],512),[[jt,e.state.isError]])],512)}const Z4=Ne(qK,[["render",oG]]),eT=Symbol("nut-steps");var sG=Object.defineProperty,iG=Object.defineProperties,aG=Object.getOwnPropertyDescriptors,s0=Object.getOwnPropertySymbols,lG=Object.prototype.hasOwnProperty,uG=Object.prototype.propertyIsEnumerable,i0=(e,t,n)=>t in e?sG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cG=(e,t)=>{for(var n in t||(t={}))lG.call(t,n)&&i0(e,n,t[n]);if(s0)for(var n of s0(t))uG.call(t,n)&&i0(e,n,t[n]);return e},dG=(e,t)=>iG(e,aG(t));const tT=Le(dG(cG({},{name:"NutSteps"}),{__name:"steps",props:{direction:{default:"horizontal"},current:{default:"0"},progressDot:{type:Boolean,default:!1}},emits:["clickStep"],setup(e,{emit:t}){const n=e,r=t,o=F(()=>{const a="nut-steps";return{[a]:!0,[`${a}-${n.direction}`]:!0,[`${a}-dot`]:!!n.progressDot}}),{linkChildren:s}=hi(eT);return s({props:n,onEmit:a=>{r("clickStep",a)}}),(a,l)=>(y(),T("view",{class:z(o.value)},[U(a.$slots,"default")],2))}}));et(tT);var fG=Object.defineProperty,hG=Object.defineProperties,pG=Object.getOwnPropertyDescriptors,a0=Object.getOwnPropertySymbols,mG=Object.prototype.hasOwnProperty,gG=Object.prototype.propertyIsEnumerable,l0=(e,t,n)=>t in e?fG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vG=(e,t)=>{for(var n in t||(t={}))mG.call(t,n)&&l0(e,n,t[n]);if(a0)for(var n of a0(t))gG.call(t,n)&&l0(e,n,t[n]);return e},yG=(e,t)=>hG(e,pG(t));const _G={class:"nut-step-head"},wG=$("view",{class:"nut-step-line"},null,-1),bG={class:"nut-step-icon-inner"},$G={key:0,class:"nut-step-inner"},TG={class:"nut-step-main"},SG={class:"nut-step-title"},CG={key:0,class:"nut-step-content"},EG=["innerHTML"],nT=Le(yG(vG({},{name:"NutStep"}),{__name:"step",props:{title:{default:""},content:{default:""}},setup(e){const{index:t,parent:n}=Pi(eT),r=F(()=>{const a=t.value+1;return a<+n.props.current?"finish":a===+n.props.current?"process":"wait"}),o=F(()=>n.props.progressDot),s=F(()=>{const a="nut-step";return{[a]:!0,[`${a}-${r.value}`]:!0}}),i=()=>{n.onEmit(t.value+1)};return(a,l)=>(y(),T("view",{class:z(s.value),onClick:i},[$("view",_G,[wG,$("view",{class:z(["nut-step-icon",[o.value?"":"is-icon"]])},[$("view",bG,[U(a.$slots,"icon",{},()=>[o.value?j("",!0):(y(),T("view",$G,x(Ae(t)+1),1))])])],2)]),$("view",TG,[$("view",SG,[U(a.$slots,"title",{},()=>[$("span",null,x(a.title),1)])]),a.content||a.$slots.content?(y(),T("view",CG,[U(a.$slots,"content",{},()=>[$("span",{innerHTML:a.content},null,8,EG)])])):j("",!0)])],2))}}));et(nT);const rT=Symbol("nut-swiper"),{create:PG,componentName:u0}=Oe("swiper"),IG=PG({props:{width:{type:[Number,String]},height:{type:[Number,String]},direction:{type:String,default:"horizontal"},paginationVisible:{type:Boolean,default:!1},paginationColor:{type:String,default:"#fff"},loop:{type:Boolean,default:!0},duration:{type:[Number,String],default:500},autoPlay:{type:[Number,String],default:0},initPage:{type:[Number,String],default:0},touchable:{type:Boolean,default:!0},isPreventDefault:{type:Boolean,default:!0},isStopPropagation:{type:Boolean,default:!0},paginationUnselectedColor:{type:String,default:"#ddd"}},emits:["change"],setup(e,{emit:t,slots:n,expose:r}){const o=H(),s=qe({active:0,num:0,rect:null,width:0,height:0,moving:!1,offset:0,touchTime:0,autoplayTimer:null,children:[],childrenVNode:[],style:{}}),i=fo(),a=F(()=>e.direction==="vertical"),l=F(()=>{const K=u0;return{[`${K}-inner`]:!0,[`${K}-vertical`]:a.value}}),u=F(()=>{const K=u0;return{[`${K}-pagination`]:!0,[`${K}-pagination-vertical`]:a.value}}),c=F(()=>a.value?i.deltaY.value:i.deltaX.value),f=F(()=>i.direction.value===e.direction),h=F(()=>s.children.length),m=F(()=>s[a.value?"height":"width"]),w=F(()=>h.value*m.value),C=F(()=>s.rect?(a.value?s.rect.height:s.rect.width)-m.value*h.value:0),p=F(()=>(s.active+h.value)%h.value),g=()=>{let K=0;K=s.offset,s.style={transitionDuration:`${s.moving?0:e.duration}ms`,transform:`translate${a.value?"Y":"X"}(${K}px)`,[a.value?"height":"width"]:`${m.value*h.value}px`,[a.value?"width":"height"]:`${a.value?s.width:s.height}px`}},b=K=>{var re;let ie=[];const Te=s.childrenVNode.length;let Pe=(re=n==null?void 0:n.default)==null?void 0:re.call(n);if(Pe=Pe.filter(ke=>ke.children&&Array.isArray(ke.children)),Pe.forEach(ke=>{ie=ie.concat(ke.children)}),!Te)s.childrenVNode=ie.slice(),K.proxy&&s.children.push(K.proxy);else if(Te>ie.length)s.children=s.children.filter(ke=>K.proxy!==ke);else if(Te<ie.length){for(let ke=0;ke<Te;ke++)if(ie[ke].key!==s.childrenVNode[ke].key){K.proxy&&s.children.splice(ke,0,K.proxy),K.vnode&&s.childrenVNode.splice(ke,0,K.vnode);break}Te!==ie.length&&(K.proxy&&s.children.push(K.proxy),K.vnode&&s.childrenVNode.push(K.vnode))}else s.childrenVNode=ie.slice(),K.proxy&&s.children.push(K.proxy)},O=(K,re=0)=>{let ie=K*m.value;e.loop||(ie=Math.min(ie,-C.value));let Te=re-ie;return e.loop||(Te=Kn(Te,C.value,0)),Te},A=K=>{const{active:re}=s;return K?e.loop?Kn(re+K,-1,h.value):Kn(re+K,0,h.value-1):re},L=({pace:K=0,offset:re=0,isEmit:ie=!1})=>{if(h.value<=1)return;const{active:Te}=s,Pe=A(K),ke=O(Pe,re);if(e.loop){if(s.children[0]&&ke!==C.value){const xe=ke<C.value;s.children[0].setOffset(xe?w.value:0)}if(s.children[h.value-1]&&ke!==0){const xe=ke>0;s.children[h.value-1].setOffset(xe?-w.value:0)}}s.active=Pe,s.offset=ke,ie&&Te!==s.active&&t("change",p.value),g()},N=()=>{s.moving=!0,s.active<=-1&&L({pace:h.value}),s.active>=h.value&&L({pace:-h.value})},I=()=>{s.autoplayTimer&&clearTimeout(s.autoplayTimer)},S=K=>{N(),i.reset(),nr(()=>{nr(()=>{s.moving=!1,L({pace:K,isEmit:!0})})})},_=()=>{S(-1)},P=()=>{S(1)},k=K=>{N(),i.reset(),nr(()=>{s.moving=!1;let re;e.loop&&h.value===K?re=s.active===0?0:K:re=K%h.value,L({pace:re-s.active,isEmit:!0})})},R=()=>{+e.autoPlay<=0||h.value<=1||(I(),s.autoplayTimer=setTimeout(()=>{P(),R()},Number(e.autoPlay)))},D=(K=+e.initPage)=>{I(),s.rect=o.value.getBoundingClientRect(),K=Math.min(h.value-1,K),s.width=e.width?+e.width:s.rect.width,s.height=e.height?+e.height:s.rect.height,s.active=K,s.offset=O(s.active),s.moving=!0,g(),R()},oe=K=>{e.isPreventDefault&&K.preventDefault(),e.isStopPropagation&&K.stopPropagation(),e.touchable&&(i.start(K),s.touchTime=Date.now(),I(),N())},J=K=>{e.touchable&&s.moving&&(i.move(K),f.value&&L({offset:c.value}))},Q=()=>{if(!e.touchable||!s.moving)return;const K=c.value/(Date.now()-s.touchTime);if((Math.abs(K)>.3||Math.abs(c.value)>+(m.value/2).toFixed(2))&&f.value){let ie=0;const Te=a.value?i.offsetY.value:i.offsetX.value;e.loop?ie=Te>0?c.value>0?-1:1:0:ie=-Math[c.value>0?"ceil":"floor"](c.value/m.value),L({pace:ie,isEmit:!0})}else c.value&&L({pace:0});s.moving=!1,g(),R()};return hn(rT,{props:e,size:m,relation:b}),r({prev:_,next:P,to:k}),wi(()=>{I()}),Ga(()=>{I()}),ve(()=>e.initPage,K=>{Et(()=>{D(Number(K))})}),ve(()=>e.height,()=>{Et(()=>{D()})}),ve(()=>s.children.length,()=>{Et(()=>{D()})}),ve(()=>e.autoPlay,K=>{+K>0?R():I()}),{state:s,classesInner:l,classesPagination:u,container:o,activePagination:p,onTouchStart:oe,onTouchMove:J,onTouchEnd:Q}}});function kG(e,t,n,r,o,s){return y(),T("view",{ref:"container",class:"nut-swiper",onTouchstart:t[0]||(t[0]=(...i)=>e.onTouchStart&&e.onTouchStart(...i)),onTouchmove:t[1]||(t[1]=(...i)=>e.onTouchMove&&e.onTouchMove(...i)),onTouchend:t[2]||(t[2]=(...i)=>e.onTouchEnd&&e.onTouchEnd(...i)),onTouchcancel:t[3]||(t[3]=(...i)=>e.onTouchEnd&&e.onTouchEnd(...i))},[$("view",{class:z(e.classesInner),style:W(e.state.style)},[U(e.$slots,"default")],6),U(e.$slots,"page"),e.paginationVisible&&!e.$slots.page?(y(),T("view",{key:0,class:z(e.classesPagination)},[(y(!0),T(le,null,Re(e.state.children.length,(i,a)=>(y(),T("i",{key:a,style:W({backgroundColor:e.activePagination===a?e.paginationColor:e.paginationUnselectedColor}),class:z({active:e.activePagination===a})},null,6))),128))],2)):j("",!0)],544)}const oT=Ne(IG,[["render",kG]]);function OG(e){const t=Mr();t&&Object.assign(t.proxy,e)}const{create:AG}=Oe("swiper-item"),DG=AG({setup(){const e=Lt(rT);e.relation(Mr());const t=qe({offset:0}),n=F(()=>{const o={},s=e==null?void 0:e.props.direction;return e!=null&&e.size.value&&(o[s==="horizontal"?"width":"height"]=`${e==null?void 0:e.size.value}px`),t.offset&&(o.transform=`translate${s==="horizontal"?"X":"Y"}(${t.offset}px)`),o}),r=o=>{t.offset=o};return _r(()=>{e.relation(Mr(),"unmount")}),OG({setOffset:r}),{style:n}}});function RG(e,t,n,r,o,s){return y(),T("view",{class:"nut-swiper-item",style:W(e.style)},[U(e.$slots,"default")],4)}const sT=Ne(DG,[["render",RG]]);var NG=Object.defineProperty,VG=Object.defineProperties,LG=Object.getOwnPropertyDescriptors,c0=Object.getOwnPropertySymbols,MG=Object.prototype.hasOwnProperty,BG=Object.prototype.propertyIsEnumerable,d0=(e,t,n)=>t in e?NG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FG=(e,t)=>{for(var n in t||(t={}))MG.call(t,n)&&d0(e,n,t[n]);if(c0)for(var n of c0(t))BG.call(t,n)&&d0(e,n,t[n]);return e},jG=(e,t)=>VG(e,LG(t));const xG=["innerHTML"],UG=["innerHTML"],f0="nut-price",Cc=Le(jG(FG({},{name:"NutPrice"}),{__name:"price",props:{price:{default:0},needSymbol:{type:Boolean,default:!0},symbol:{default:"&yen;"},decimalDigits:{default:2},thousands:{type:Boolean,default:!1},position:{default:"before"},size:{default:"normal"},strikeThrough:{type:Boolean,default:!1}},setup(e){const t=e,n=F(()=>({[f0]:!0,[`${f0}--strike`]:t.strikeThrough})),r=F(()=>t.needSymbol?t.symbol:""),o=a=>String(a).indexOf(".")>0,s=a=>(Number(a)==0&&(a=0),o(a)?(a=Number(a).toFixed(t.decimalDigits),a=typeof a.split(".")=="string"?a.split("."):a.split(".")[0]):a=a.toString(),t.thousands?(a||0).toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,"):a),i=a=>{Number(a)==0&&(a=0),o(a)?(a=Number(a).toFixed(t.decimalDigits),a=typeof a.split(".")=="string"?0:a.split(".")[1]?a.split(".")[1]:0):a=0;const l="0."+a,u=Number(l).toFixed(t.decimalDigits);return String(u).substring(2,u.length)};return(a,l)=>(y(),T("view",{class:z(n.value)},[a.needSymbol&&a.position==="before"?(y(),T("view",{key:0,class:z(["nut-price--symbol",`nut-price--symbol-${a.size}`]),innerHTML:r.value},null,10,xG)):j("",!0),$("view",{class:z(`nut-price--${a.size}`)},x(s(a.price)),3),a.decimalDigits!=0?(y(),T("view",{key:1,class:z(`nut-price--decimal-${a.size}`)},".",2)):j("",!0),$("view",{class:z(`nut-price--decimal-${a.size}`)},x(i(a.price)),3),a.needSymbol&&a.position==="after"?(y(),T("view",{key:2,class:z(["nut-price--symbol",`nut-price--symbol-${a.size}`]),innerHTML:r.value},null,10,UG)):j("",!0)],2))}}));et(Cc);var zG=Object.defineProperty,HG=Object.defineProperties,qG=Object.getOwnPropertyDescriptors,h0=Object.getOwnPropertySymbols,WG=Object.prototype.hasOwnProperty,KG=Object.prototype.propertyIsEnumerable,p0=Math.pow,m0=(e,t,n)=>t in e?zG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bu=(e,t)=>{for(var n in t||(t={}))WG.call(t,n)&&m0(e,n,t[n]);if(h0)for(var n of h0(t))KG.call(t,n)&&m0(e,n,t[n]);return e},Fu=(e,t)=>HG(e,qG(t));const iT={show:{type:Boolean,default:!1},initNo:{type:Number,default:0},showIndex:{type:Boolean,default:!0},minZoom:{type:Number,default:1/3},maxZoom:{type:Number,default:3}},{create:GG}=Oe("image-preview-item"),YG=GG({props:Fu(Bu({},iT),{image:{type:Object,default:()=>({})},video:{type:Object,default:()=>({})},rootWidth:{type:Number,default:0},rootHeight:{type:Number,default:0},contentClose:{type:Boolean,default:!0}}),emits:["close","scale"],components:{NutVideo:Z4,NutSwiperItem:sT},setup(e,{emit:t}){const n=qe({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,imageRatio:0,displayWidth:0,displayHeight:0}),r=fo(),o=F(()=>{const{rootWidth:_,rootHeight:P}=e,k=P/_;return n.imageRatio>k}),s=F(()=>{const _=e.image;if(_&&_.src){const{scale:P,moveX:k,moveY:R,moving:D,zooming:oe}=n,J={transitionDuration:oe||D?"0s":".3s"};if(P!==1){const Q=k/P,K=R/P;J.transform=`scale(${P}, ${P}) translate(${Q}px, ${K}px)`}return J}return{}}),i=F(()=>{if(n.imageRatio){const{rootWidth:_,rootHeight:P}=e,k=o.value?P/n.imageRatio:_;return Math.max(0,(n.scale*k-_)/2)}return 0}),a=F(()=>{if(n.imageRatio){const{rootWidth:_,rootHeight:P}=e,k=o.value?P:_*n.imageRatio;return Math.max(0,(n.scale*k-P)/2)}return 0}),l=_=>{const{naturalWidth:P,naturalHeight:k}=_.target;n.imageRatio=k/P},u=()=>{c(1),n.moveX=0,n.moveY=0},c=_=>{_=Kn(_,+e.minZoom,+e.maxZoom+1),_!==n.scale&&(n.scale=_,t("scale",{scale:_,index:e.initNo}))},f=()=>{const _=n.scale>1?1:2;c(_),n.moveX=0,n.moveY=0},h=_=>Math.sqrt(p0(_[0].clientX-_[1].clientX,2)+p0(_[0].clientY-_[1].clientY,2));let m,w,C,p,g,b,O;const A=_=>{const{touches:P}=_,{offsetX:k}=r;r.start(_),O=P.length,m=n.moveX,w=n.moveY,b=Date.now(),n.moving=O===1&&n.scale!==1,n.zooming=O===2&&!k.value,n.zooming&&(C=n.scale,p=h(_.touches))},L=_=>{const{touches:P}=_;if(r.move(_),(n.moving||n.zooming)&&fi(_,!0),n.moving){const{deltaX:k,deltaY:R}=r,D=k.value+m,oe=R.value+w;n.moveX=Kn(D,-i.value,i.value),n.moveY=Kn(oe,-a.value,a.value)}if(n.zooming&&P.length===2){const k=h(P),R=C*k/p;c(R)}},N=()=>{if(O==1&&e.video&&e.video.source||O>1)return;const{offsetX:_,offsetY:P}=r,k=Date.now()-b,R=250,D=5;_.value<D&&P.value<D&&k<R&&(g?(clearTimeout(g),g=null,f()):g=setTimeout(()=>{e.contentClose&&t("close"),g=null},R))},I=_=>{let P=!1;(n.moving||n.zooming)&&(P=!0,n.moving&&m===n.moveX&&w===n.moveY&&(P=!1),_.touches.length||(n.zooming&&(n.moveX=Kn(n.moveX,-i.value,i.value),n.moveY=Kn(n.moveY,-a.value,a.value),n.zooming=!1),n.moving=!1,m=0,w=0,C=1,n.scale<1&&u(),n.scale>e.maxZoom&&(n.scale=+e.maxZoom))),fi(_,P),N(),r.reset()},S=()=>{t("close")};return ve(()=>e.initNo,u),ve(()=>e.show,_=>{_||u()}),Fu(Bu({},rt(n)),{onTouchStart:A,onTouchMove:L,onTouchEnd:I,getDistance:h,imageStyle:s,imageLoad:l,closeSwiper:S})}}),QG=["src"];function XG(e,t,n,r,o,s){const i=ue("nut-video"),a=ue("nut-swiper-item");return y(),ye(a,{onClick:e.closeSwiper},{default:de(()=>[$("view",{style:W(e.imageStyle),class:"nut-image-preview-box",onTouchstart:t[1]||(t[1]=(...l)=>e.onTouchStart&&e.onTouchStart(...l)),onTouchmove:t[2]||(t[2]=(...l)=>e.onTouchMove&&e.onTouchMove(...l)),onTouchend:t[3]||(t[3]=(...l)=>e.onTouchEnd&&e.onTouchEnd(...l)),onTouchcancel:t[4]||(t[4]=(...l)=>e.onTouchEnd&&e.onTouchEnd(...l))},[e.image&&e.image.src?(y(),T("img",{key:0,src:e.image.src,class:"nut-image-preview-img",onLoad:t[0]||(t[0]=(...l)=>e.imageLoad&&e.imageLoad(...l))},null,40,QG)):j("",!0),e.video&&e.video.source?(y(),ye(i,{key:1,source:e.video.source,options:e.video.options},null,8,["source","options"])):j("",!0)],36)]),_:1},8,["onClick"])}const JG=Ne(YG,[["render",XG]]),{create:ZG}=Oe("image-preview"),eY=ZG({props:Fu(Bu({},iT),{images:{type:Array,default:()=>[]},videos:{type:Array,default:()=>[]},contentClose:{type:Boolean,default:!0},paginationVisible:{type:Boolean,default:!1},paginationColor:{type:String,default:"#fff"},autoplay:{type:[Number,String],default:0},teleport:{type:[String,Element],default:"body"},teleportDisable:{ype:Boolean,default:!1},closeable:{type:Boolean,default:!1},closeIconPosition:{type:String,default:"top-right"},beforeClose:Function,isLoop:{type:Boolean,default:!0}}),emits:["close","change"],components:{ImagePreviewItem:JG,CircleClose:ap,NutPopup:Hn,NutSwiper:oT},setup(e,{emit:t}){const n=H(),r=qe({showPop:e.show,active:0,rootWidth:0,rootHeight:0}),o=F(()=>{const c="nut-image-preview-close";return`nut-image-preview-close-icon ${e.closeIconPosition=="top-right"?`${c}-right`:`${c}-left`}`}),s=F(()=>J$(e.videos)?[].concat(e.videos).concat(e.images):e.images),i=c=>{c!==r.active&&(r.active=c,t("change",r.active))},a=()=>{yp(e.beforeClose,{args:[r.active],done:()=>l()})},l=()=>{r.showPop=!1,t("close")},u=()=>{if(n.value){const c=gr(n.value);r.rootHeight=c.height,r.rootWidth=c.width}};return ve(()=>e.show,c=>{r.showPop=c,c&&(i(e.initNo),Et(()=>{u()}))}),ve(()=>e.initNo,c=>{c!=r.active&&i(c)}),tt(()=>{i(e.initNo)}),Fu(Bu({swipeRef:n},rt(r)),{onClose:a,mergeImages:s,setActive:i,iconClasses:o})}}),tY={ref:"swipeRef",class:"nut-image-preview"},nY={key:0,class:"nut-image-preview-index"};function rY(e,t,n,r,o,s){const i=ue("image-preview-item"),a=ue("nut-swiper"),l=ue("CircleClose"),u=ue("nut-popup");return y(),ye(u,{visible:e.showPop,"onUpdate:visible":t[1]||(t[1]=c=>e.showPop=c),"pop-class":"nut-image-preview-custom-pop","teleport-disable":e.teleportDisable,teleport:e.teleport,"lock-scroll":"",onClosed:e.onClose},{default:de(()=>[$("view",tY,[e.showPop?(y(),ye(a,{key:0,"auto-play":e.autoplay,class:"nut-image-preview-swiper",loop:e.isLoop,"is-prevent-default":!1,direction:"horizontal","init-page":e.initNo,"pagination-visible":e.paginationVisible,"pagination-color":e.paginationColor,onChange:e.setActive},{default:de(()=>[(y(!0),T(le,null,Re(e.mergeImages,(c,f)=>(y(),ye(i,{key:f,video:f<e.videos.length?c:{},image:f>=e.videos.length?c:{},"root-height":e.rootHeight,"root-width":e.rootWidth,show:e.showPop,"init-no":e.active+1,"content-close":e.contentClose,"max-zoom":e.maxZoom,"min-zoom":e.minZoom,onClose:e.onClose},null,8,["video","image","root-height","root-width","show","init-no","content-close","max-zoom","min-zoom","onClose"]))),128))]),_:1},8,["auto-play","loop","init-page","pagination-visible","pagination-color","onChange"])):j("",!0)],512),e.showIndex?(y(),T("view",nY,x(e.active+1)+" / "+x(e.mergeImages.length),1)):j("",!0),e.closeable?(y(),T("view",{key:1,class:z(e.iconClasses),onClick:t[0]||(t[0]=(...c)=>e.onClose&&e.onClose(...c))},[U(e.$slots,"close-icon",{},()=>[X(l,{color:"#ffffff"})])],2)):j("",!0)]),_:3},8,["visible","teleport-disable","teleport","onClosed"])}const oY=Ne(eY,[["render",rY]]);var sY=Object.defineProperty,iY=Object.defineProperties,aY=Object.getOwnPropertyDescriptors,g0=Object.getOwnPropertySymbols,lY=Object.prototype.hasOwnProperty,uY=Object.prototype.propertyIsEnumerable,v0=(e,t,n)=>t in e?sY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y0=(e,t)=>{for(var n in t||(t={}))lY.call(t,n)&&v0(e,n,t[n]);if(g0)for(var n of g0(t))uY.call(t,n)&&v0(e,n,t[n]);return e},cY=(e,t)=>iY(e,aY(t));function dY(e){const t=Mr();t&&Object.assign(t.proxy,e)}const{create:fY}=Oe("countup"),hY=fY({props:{initNum:{type:Number,default:0},endNum:{type:Number,default:0},speed:{type:Number,default:1},toFixed:{type:Number,default:0},during:{type:Number,default:1e3},startFlag:{type:Boolean,default:!0},numWidth:{type:Number,default:20},numHeight:{type:Number,default:20},scrolling:{type:Boolean,default:!1},customBgImg:{type:String,default:""},customSpacNum:{type:Number,default:0},customChangeNum:{type:Number,default:1},type:{type:String,default:""},machineNum:{type:Number,default:3},machinePrizeNum:{type:Number,default:0},machinePrizeLevel:{type:Number,default:0},machineTurnMore:{type:Number,default:0}},components:{},emits:["click","scrollEnd"],setup(e,{emit:t}){const n=H(null),r=H([]),o=S=>{S&&r.value.push(S)},s=qe({valFlag:!1,current:0,sortFlag:"add",initDigit1:0,initDigit2:0,to0_10:[0,1,2,3,4,5,6,7,8,9,0],to10_0:[0,9,8,7,6,5,4,3,2,1,1],timer:null,totalCount:0,pointNum:0,numberVal:0,num_total_len:0,relNum:0,customNumber:1,prizeLevelTrun:0,prizeY:[],prizeYPrev:[],finshMachine:0,notPrize:[],typeMachine:""}),{startFlag:i,scrolling:a,customBgImg:l,type:u}=qe(e);ve(()=>e.customChangeNum,()=>{f(),p(0)}),ve(()=>e.machinePrizeLevel,S=>{s.prizeLevelTrun=S}),ve(()=>e.initNum,S=>{s.current=S,s.valFlag=!1,c()}),ve(()=>e.endNum,()=>{s.current=e.initNum,s.valFlag=!1,c()});const c=()=>{if(s.valFlag)return!1;i&&(a||l?u!="machine"&&p():(C(),setTimeout(()=>{s.valFlag=!0},300)))},f=()=>{clearInterval(Number(s.timer)),s.timer=null},h=(S,_,P)=>{const k=(S.toString().split(".")[1]||"").length,R=(_.toString().split(".")[1]||"").length,D=Math.pow(10,Math.max(k,R));return Number((S*D-_*D).toFixed(0))/D},m=S=>{let{num_total_len:_,pointNum:P,initDigit1:k,initDigit2:R,sortFlag:D}=s,oe=D=="add"||D=="equal"?String(R)[S-(_-P)]:10-Number(String(R)[S-(_-P)]),J=D=="add"||D=="equal"?String(k)[S]:10-Number(String(k)[S]),Q=S>_-P-1?-oe*100+"%":S<=String(k).length-1?-J*100+"%":0;return Q=="-1000%"&&(Q=0),Q},w=S=>{let{num_total_len:_,pointNum:P,initDigit1:k,initDigit2:R}=s,D=String(R)[S-(_-P)];return S>_-P-1?D||0:S<=String(k).length-1?String(k)[S]:0},C=()=>{let{endNum:S,initNum:_,speed:P,toFixed:k}=e,R=setInterval(()=>{if(_>S)if(Number(s.current)<=S||Number(s.current)<=P)s.current=S.toFixed(k),clearInterval(R),t("scrollEnd"),s.valFlag=!1;else{let D=parseFloat(String(s.current))-parseFloat(String(P));s.current=D.toFixed(k)}else if(Number(s.current)>=S)s.current=S.toFixed(k),clearInterval(R),t("scrollEnd"),s.valFlag=!1;else{let D=parseFloat(String(s.current))+parseFloat(String(P));s.current=D.toFixed(k)}},e.during)},p=S=>{let{initNum:_,endNum:P,toFixed:k,customBgImg:R}=e;R&&(_=e.customChangeNum);let D,oe,J,Q;_!=0?(k!=0&&(_=Number(_.toFixed(k))),String(_).indexOf(".")>-1?(D=String(_).split(".")[0].length,oe=String(_).split(".")[1].length):(D=String(_).length,oe=0)):(D=1,oe=0),P!=0?(k!=0&&(P=Number(P.toFixed(k))),String(P).indexOf(".")>-1?(J=String(P).split(".")[0].length,Q=String(P).split(".")[1].length):(J=String(P).length,Q=0)):(J=1,Q=0);let K=D>=J?D:J,re=oe>=Q?oe:Q;s.num_total_len=K+re,s.pointNum=re,_>P?(s.sortFlag="reduce",s.to0_10=[0,9,8,7,6,5,4,3,2,1,0],s.totalCount=h(_,P),s.numberVal=Number(String(_))):_<P?(s.sortFlag="add",s.to0_10=[0,1,2,3,4,5,6,7,8,9,0],s.totalCount=h(P,_),s.numberVal=Number(String(P))):s.sortFlag="equal";var ie=1;for(let Pe=0;Pe<s.pointNum;Pe++)ie*=10;var Te=s.numberVal*ie;if(s.relNum=Te,k!=0&&(s.pointNum=String(s.numberVal).split(".")[1]?String(s.numberVal).split(".")[1].length:0,s.num_total_len=String(Te).length),String(_).indexOf(".")>-1){let Pe=String(_).split(".");s.initDigit1=Number(Pe[0]),s.initDigit2=Number(Pe[1])}else s.initDigit1=_,s.initDigit2=0;a&&!R?Et(()=>{if(s.sortFlag=="equal")return!1;let Pe=r.value[s.num_total_len-1];g(Pe)}):S!==0&&A()},g=S=>{f();var _=1;s.pointNum!=0&&(_=1/Math.pow(10,s.pointNum)),s.timer=setInterval(()=>{b(S),s.totalCount=h(s.totalCount,_),s.totalCount<=0&&(f(),t("scrollEnd"),s.valFlag=!1)},e.during)},b=S=>{let _=S.getAttribute("turn-number"),P;if(s.sortFlag=="add"?P=parseInt(String(_))+1:P=parseInt(String(_))-1>=0?parseInt(String(_))-1:9,S.setAttribute("turn-number",String(P)),(S.style.transition=="none 0s ease 0s"||P==1||!S.style.transition)&&(S.style.transition=`all linear ${e.during}ms`),P==10||s.sortFlag=="reduce"&&P==0){var k=null;S.style.top=`-${s.sortFlag=="add"?P*100:(10-P)*100}%`,S.setAttribute("turn-number","0"),k=setTimeout(()=>{k&&clearTimeout(k),S.style.transition="none",S.style.top="0",O(S,P)},.975*e.during)}else S.style.top=`-${s.sortFlag=="add"?P*100:(10-P)*100}%`;S.style.top=="-100%"&&s.sortFlag=="reduce"&&b(S.previousSibling)},O=(S,_)=>{setTimeout(()=>{_==10&&S.previousSibling&&b(S.previousSibling)},200)},A=()=>{Et(()=>{n.value.addEventListener("webkitTransitionEnd",()=>{t("scrollEnd"),s.valFlag=!1})})},L=()=>{for(s.notPrize=[];s.notPrize.length<3;){var S=Math.floor(Math.random()*e.machinePrizeNum+1);s.notPrize.indexOf(S)==-1&&s.notPrize.push(S)}};dY({machineLuck:()=>{const S=e.machineTurnMore<0?0:e.machineTurnMore;let _=e.numHeight*e.machinePrizeNum;s.prizeLevelTrun<0&&L();for(let P=0;P<e.machineNum;P++)setTimeout(()=>{let k=_*(P+1+parseFloat(String(S)));s.prizeYPrev.length!=0&&(s.prizeY[P]=s.prizeYPrev[P]);let R=s.prizeYPrev[P]?s.prizeYPrev[P]:0,D=k+R+(e.machinePrizeNum-s.prizeLevelTrun+1)*e.numHeight+(_-R);s.prizeLevelTrun<0&&(D+=e.numHeight*s.notPrize[P]),I(P,D,R)},500*P)}});const I=(S,_,P)=>{let k=setInterval(()=>{if(P<=_)P+=10,s.prizeY[S]=parseFloat(String(P));else if(clearInterval(k),k=null,s.finshMachine+=1,s.prizeY[S]=_,s.finshMachine==e.machineNum){let R=e.numHeight*e.machinePrizeNum;s.prizeYPrev=[],JSON.parse(JSON.stringify(s.prizeY)).forEach(oe=>{let J=oe;for(;J>R;)J-=R;s.prizeYPrev.push(J)}),setTimeout(()=>{s.finshMachine=0,s.prizeLevelTrun<0?(t("scrollEnd",!1),s.valFlag=!1):(t("scrollEnd",!0),s.valFlag=!1)},130)}},30)};return tt(()=>{s.current=e.initNum,Et(()=>{c()})}),_r(()=>{f(),s.timer=null}),cY(y0(y0({},rt(s)),rt(qe(e))),{runNumberImg:n,setRef:o,topNumber:m,turnNumber:w})}}),pY={class:"nut-countup"},mY=["turn-number"];function gY(e,t,n,r,o,s){return y(),T("view",pY,[e.customBgImg!=""?(y(),T(le,{key:0},[e.type=="machine"?(y(),T("view",{key:0,class:"nut-countup__machine",style:W({height:e.numHeight+"px"})},[(y(!0),T(le,null,Re(e.machineNum,(i,a)=>(y(),T("view",{key:"mImg"+a,class:"nut-countup__machine-item",style:W({width:e.numWidth+"px",height:e.numHeight+"px",backgroundImage:"url("+e.customBgImg+")",backgroundPositionY:e.prizeY[a]+"px"})},null,4))),128))],4)):(y(),T("view",{key:1,ref:"runNumberImg",class:"nut-countup__numberimg",style:W({height:e.numHeight+"px"})},[(y(!0),T(le,null,Re(e.num_total_len,(i,a)=>(y(),T("view",{key:"cImg"+a,class:"nut-countup__numberimg__item",style:W({width:e.numWidth+"px",height:e.numHeight+"px",left:e.numWidth*(a>e.num_total_len-e.pointNum-1?a==e.num_total_len-e.pointNum?a*1.5:a*1.3:a)+"px",backgroundImage:"url("+e.customBgImg+")",backgroundPositionX:"0",backgroundPositionY:-(+String(e.relNum)[a]*e.numHeight+e.customSpacNum*+String(e.relNum)[a])+"px",transition:"all linear "+e.during/10+"ms"})},null,4))),128)),e.pointNum>0?(y(),T("view",{key:0,class:"nut-countup-pointstyl",style:W({width:e.numWidth/2+"px",bottom:0,left:e.numWidth*(e.num_total_len-e.pointNum)*1.1+"px",fontSize:"30px"})}," . ",4)):j("",!0)],4))],64)):(y(),T(le,{key:1},[e.scrolling?(y(),T("view",{key:0,class:"nut-countup__number",style:W({width:e.numWidth*e.num_total_len+e.numWidth/3+"px",height:e.numHeight+"px",lineHeight:e.numHeight+"px"})},[(y(!0),T(le,null,Re(e.num_total_len,(i,a)=>(y(),T("view",{ref_for:!0,ref:l=>e.setRef(l),key:i,class:"nut-countup__number-item",style:W({top:e.topNumber(a),left:e.numWidth*(a>e.num_total_len-e.pointNum-1?a*1.1:a)+"px"}),"turn-number":e.turnNumber(a)},[(y(!0),T(le,null,Re(e.to0_10,(l,u)=>(y(),T("view",{key:"dote"+u,class:"nut-countup__number-item__span",style:W({width:e.numWidth+"px",height:e.numHeight+"px",lineHeight:e.numHeight+"px"})},x(l),5))),128))],12,mY))),128)),e.pointNum>0?(y(),T("view",{key:0,class:"nut-countup-pointstyl",style:W({width:e.numWidth/3+"px",height:e.numHeight+"px",lineHeight:e.numHeight+"px",top:0,left:e.numWidth*(e.num_total_len-e.pointNum)+"px"})}," . ",4)):j("",!0)],4)):(y(),T(le,{key:1},[Ie(x(e.current),1)],64))],64))])}const vY=Ne(hY,[["render",gY]]);var yY=Object.defineProperty,_Y=Object.defineProperties,wY=Object.getOwnPropertyDescriptors,_0=Object.getOwnPropertySymbols,bY=Object.prototype.hasOwnProperty,$Y=Object.prototype.propertyIsEnumerable,w0=(e,t,n)=>t in e?yY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aT=(e,t)=>{for(var n in t||(t={}))bY.call(t,n)&&w0(e,n,t[n]);if(_0)for(var n of _0(t))$Y.call(t,n)&&w0(e,n,t[n]);return e},TY=(e,t)=>_Y(e,wY(t));const SY=e=>{if(!e)return Date.now();let t=e;return t=+t>0?+t:t.toString().replace(/-/g,"/"),new Date(t).getTime()},CY=(e,t)=>{let{h:n,m:r,s:o,ms:s}=e;const{d:i}=e;if(t.includes("DD")?t=t.replace("DD",no(i)):n+=Number(i)*24,t.includes("HH")?t=t.replace("HH",no(n)):r+=Number(n)*60,t.includes("mm")?t=t.replace("mm",no(r)):o+=Number(r)*60,t.includes("ss")?t=t.replace("ss",no(o)):s+=Number(o)*1e3,t.includes("S")){const a=no(s,3).toString();t.includes("SSS")?t=t.replace("SSS",a):t.includes("SS")?t=t.replace("SS",a.slice(0,2)):t.includes("S")&&(t=t.replace("S",a.slice(0,1)))}return t},b0=(e,t,n)=>{const r=e,o={d:0,h:0,m:0,s:0,ms:0},s=1e3,i=60*s,a=60*i,l=24*a;return r>0&&(o.d=r>=s?Math.floor(r/l):0,o.h=Math.floor(r%l/a),o.m=Math.floor(r%a/i),o.s=Math.floor(r%i/s),o.ms=Math.floor(r%s)),n=="custom"?o:CY(aT({},o),t)},EY={class:"nut-countdown"},PY=["innerHTML"],lT=Le(TY(aT({},{name:"NutCountdown"}),{__name:"countdown",props:{modelValue:{},paused:{type:Boolean,default:!1},startTime:{default:""},endTime:{default:""},millisecond:{type:Boolean,default:!1},format:{default:"HH:mm:ss"},autoStart:{type:Boolean,default:!0},time:{default:0}},emits:["input","update:modelValue","end","restart","paused","onEnd","onRestart","onPaused"],setup(e,{expose:t,emit:n}){const r=e,o=n,s=H(0),i=H(null),a=H(!r.paused&&r.autoStart),l=H(Date.now()),u=H(0),c=F(()=>b0(s.value,r.format)),f=()=>{l.value=Number(r.endTime),u.value=Date.now()-SY(r.startTime),a.value||(a.value=!0),h()},h=()=>{window!==void 0&&(i.value=requestAnimationFrame(()=>{if(a.value){const p=Date.now()-u.value,g=Math.max(l.value-p,0);s.value=g,g||(a.value=!1,w(),o("end"),o("onEnd")),g>0&&h()}}))},m=()=>{!a.value&&!r.autoStart&&(a.value=!0,l.value=Date.now()+Number(s.value),h(),o("restart",s.value),o("onRestart",s.value))},w=()=>{cancelAnimationFrame(i.value),a.value=!1,o("paused",s.value),o("onPaused",s.value)};return t({start:m,pause:w,reset:()=>{r.autoStart||(w(),s.value=Number(r.time))}}),dh(()=>{r.autoStart?f():s.value=Number(r.time)}),ve(()=>s.value,p=>{const g=b0(p,r.format,"custom");o("update:modelValue",g),o("input",g)}),ve(()=>r.paused,(p,g)=>{g?(a.value||(a.value=!0,l.value=Date.now()+Number(s.value),h()),o("restart",s.value),o("onRestart",s.value)):a.value&&w()}),ve(()=>r.endTime,()=>{f()}),ve(()=>r.startTime,()=>{f()}),(p,g)=>(y(),T("view",EY,[U(p.$slots,"default",{},()=>[$("view",{class:"nut-countdown__content",innerHTML:c.value},null,8,PY)])]))}}));et(lT);var IY=Object.defineProperty,kY=Object.defineProperties,OY=Object.getOwnPropertyDescriptors,$0=Object.getOwnPropertySymbols,AY=Object.prototype.hasOwnProperty,DY=Object.prototype.propertyIsEnumerable,T0=(e,t,n)=>t in e?IY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RY=(e,t)=>{for(var n in t||(t={}))AY.call(t,n)&&T0(e,n,t[n]);if($0)for(var n of $0(t))DY.call(t,n)&&T0(e,n,t[n]);return e},NY=(e,t)=>kY(e,OY(t));const Cp=Le(NY(RY({},{name:"NutTag"}),{__name:"tag",props:{color:{default:""},textColor:{default:""},type:{default:"default"},plain:{type:Boolean,default:!1},round:{type:Boolean,default:!1},mark:{type:Boolean,default:!1},closeable:{type:Boolean,default:!1}},emits:["close","click"],setup(e,{emit:t}){const n=e,r=t,o=F(()=>{const l="nut-tag";return{[l]:!0,[`${l}--${n.type}`]:n.type,[`${l}--plain`]:n.plain,[`${l}--round`]:n.round,[`${l}--mark`]:n.mark}}),s=F(()=>{const l={};return n.textColor?l.color=n.textColor:n.color&&n.plain&&(l.color=n.color),n.plain?(l.background="#fff",l.borderColor=n.color):n.color&&(l.background=n.color),l}),i=l=>{r("close",l)},a=l=>{r("click",l)};return(l,u)=>(y(),T("view",{class:z(o.value),style:W(s.value),onClick:a},[U(l.$slots,"default"),l.closeable?(y(),ye(Ae($c),{key:0,class:"nut-tag--close",width:"12px",height:"12px",onClick:Vt(i,["stop"])})):j("",!0)],6))}}));et(Cp);const{create:VY}=Oe("popover"),LY=VY({components:{NutPopup:Hn},props:{visible:{type:Boolean,default:!1},list:{type:Array,default:[]},theme:{type:String,default:"light"},location:{type:String,default:"bottom"},offset:{type:Array,default:[0,12]},arrowOffset:{type:Number,default:0},customClass:{type:String,default:""},showArrow:{type:Boolean,default:!0},duration:{type:[Number,String],default:.3},overlay:{type:Boolean,default:!1},overlayClass:{type:String,default:""},overlayStyle:{type:Object},closeOnClickOverlay:{type:Boolean,default:!0},closeOnClickAction:{type:Boolean,default:!0},closeOnClickOutside:{type:Boolean,default:!0},targetId:{type:String,default:""},bgColor:{type:String,default:""}},emits:["update","update:visible","close","choose","open"],setup(e,{emit:t}){const n=H(),r=H(),o=H(e.visible),s=H(),i=H({width:0,height:0}),a=F(()=>{const g="nut-popover-arrow",b=e.location,O=b.split("-")[0];return`${g} ${g}-${O} ${g}--${b}`}),l=F(()=>{const g={},{bgColor:b,arrowOffset:O,location:A}=e,L=A.split("-")[0],N=A.split("-")[1],I=16;return b&&(g[`border${u(L)}Color`]=b),e.arrowOffset!=0&&(["bottom","top"].includes(L)&&(N||(g.left=`calc(50% + ${O}px)`),N=="start"&&(g.left=`${I+O}px`),N=="end"&&(g.right=`${I-O}px`)),["left","right"].includes(L)&&(N||(g.top=`calc(50% - ${O}px)`),N=="start"&&(g.top=`${I-O}px`),N=="end"&&(g.bottom=`${I+O}px`))),g}),u=g=>(g=g.toLowerCase(),g=g.replace(/\b\w+\b/g,b=>b.substring(0,1).toUpperCase()+b.substring(1)),g),c=F(()=>{const g={};if(!s.value)return{};const b=i.value.width,O=i.value.height,{width:A,height:L,left:N,top:I,right:S}=s.value,{location:_,offset:P}=e,k=_==null?void 0:_.split("-")[0],R=_==null?void 0:_.split("-")[1];let D=0,oe=0;if(Array.isArray(P)&&(P==null?void 0:P.length)===2&&(D+=Number(P[1]),oe+=Number(P[0])),A){if(["bottom","top"].includes(k)){const J=k==="bottom"?L+D:-(O+D);g.top=`${I+J}px`,R||(g.left=`${-(b-A)/2+N+oe}px`),R==="start"&&(g.left=`${N+oe}px`),R==="end"&&(g.left=`${S+oe}px`)}if(["left","right"].includes(k)){const J=k==="left"?-(b+D):A+D;g.left=`${N+J}px`,R||(g.top=`${I-O/2+L/2-4+oe}px`),R==="start"&&(g.top=`${I+oe}px`),R==="end"&&(g.top=`${I+L+oe}px`)}}return g}),f=()=>{var g,b,O,A;const L=gr(e.targetId?document.querySelector(`#${e.targetId}`):n.value);s.value={width:L.width,height:L.height,left:L.left,top:L.top+Math.max(((g=document.documentElement)==null?void 0:g.scrollTop)||0,((b=document.body)==null?void 0:b.scrollTop)||0),right:L.right},i.value={height:(O=r.value)==null?void 0:O.clientHeight,width:(A=r.value)==null?void 0:A.clientWidth}};tt(()=>{setTimeout(()=>{f()},300)}),ve(()=>e.visible,g=>{o.value=g,g?(window.addEventListener("touchstart",p,!0),Et(()=>{f()})):window.removeEventListener("touchstart",p,!0)});const h=g=>{t("update",g),t("update:visible",g)},m=()=>{h(!e.visible),t("open")},w=()=>{t("update:visible",!1),t("close")},C=(g,b)=>{!g.disabled&&t("choose",g,b),e.closeOnClickAction&&w()},p=g=>{const b=n.value,O=r.value;let A=b&&!b.contains(g.target);if(e.targetId){const L=document.querySelector(`#${e.targetId}`);A=L&&!L.contains(g.target)}A&&O&&!O.contains(g.target)&&e.closeOnClickOutside&&w()};return{showPopup:o,openPopover:m,popoverArrow:a,closePopover:w,chooseItem:C,popoverRef:n,popoverContentRef:r,getRootPosition:c,popoverArrowStyle:l,renderIcon:Lo}}}),MY={ref:"popoverContentRef",class:"nut-popover-content-group"},BY=["onClick"],FY={class:"nut-popover-menu-item-name"};function jY(e,t,n,r,o,s){const i=ue("nut-popup");return y(),T(le,null,[e.targetId?j("",!0):(y(),T("div",{key:0,ref:"popoverRef",class:"nut-popover-wrapper",onClick:t[0]||(t[0]=(...a)=>e.openPopover&&e.openPopover(...a))},[U(e.$slots,"reference")],512)),(y(),ye(Nw,{to:"body"},[$("div",{class:z(["nut-popover",`nut-popover--${e.theme}`,`${e.customClass}`]),style:W(e.getRootPosition)},[X(i,{visible:e.showPopup,"onUpdate:visible":t[1]||(t[1]=a=>e.showPopup=a),"pop-class":`nut-popover-content nut-popover-content--${e.location}`,style:W({background:e.bgColor}),position:"",transition:"nut-popover",overlay:e.overlay,duration:e.duration,"overlay-style":e.overlayStyle,"overlay-class":e.overlayClass,"close-on-click-overlay":e.closeOnClickOverlay},{default:de(()=>[$("div",MY,[e.showArrow?(y(),T("div",{key:0,class:z(e.popoverArrow),style:W(e.popoverArrowStyle)},null,6)):j("",!0),U(e.$slots,"content"),(y(!0),T(le,null,Re(e.list,(a,l)=>(y(),T("div",{key:l,class:z([a.className,a.disabled&&"nut-popover-menu-disabled","nut-popover-menu-item"]),onClick:Vt(u=>e.chooseItem(a,l),["stop"])},[a.icon?(y(),ye(Yn(e.renderIcon(a.icon)),{key:0,class:"nut-popover-item-img"})):j("",!0),$("div",FY,x(a.name),1)],10,BY))),128))],512)]),_:3},8,["visible","pop-class","style","overlay","duration","overlay-style","overlay-class","close-on-click-overlay"])],6)]))],64)}const uT=Ne(LY,[["render",jY]]);var xY=Object.defineProperty,UY=Object.defineProperties,zY=Object.getOwnPropertyDescriptors,S0=Object.getOwnPropertySymbols,HY=Object.prototype.hasOwnProperty,qY=Object.prototype.propertyIsEnumerable,C0=(e,t,n)=>t in e?xY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WY=(e,t)=>{for(var n in t||(t={}))HY.call(t,n)&&C0(e,n,t[n]);if(S0)for(var n of S0(t))qY.call(t,n)&&C0(e,n,t[n]);return e},KY=(e,t)=>UY(e,zY(t));const GY={key:0},YY={key:1,class:"nut-skeleton"},QY={key:0,class:"nut-skeleton-animation"},XY={class:"nut-skeleton-content"},cT=Le(KY(WY({},{name:"NutSkeleton"}),{__name:"skeleton",props:{width:{default:"100px"},height:{default:"15px"},animated:{type:Boolean,default:!1},avatar:{type:Boolean,default:!1},avatarShape:{default:"round"},avatarSize:{default:"50px"},loading:{type:Boolean,default:!0},round:{type:Boolean,default:!1},row:{default:"1"},title:{type:Boolean,default:!0}},setup(e){const t=e,n=F(()=>{const s="avatarClass";return{[s]:!0,[`${s}--${t.avatarShape}`]:t.avatarShape}}),r=s=>({[s]:!0,[`${s}--round`]:t.round}),o=F(()=>({width:t.avatarSize,height:t.avatarSize}));return(s,i)=>s.loading?(y(),T("view",YY,[s.animated?(y(),T("view",QY)):j("",!0),$("view",XY,[s.avatar?(y(),ye(Sp,{key:0,class:z(n.value),shape:s.avatarShape,style:W(o.value)},null,8,["class","shape","style"])):j("",!0),$("view",{class:"nut-skeleton-content__line",style:W({width:s.width})},[s.title?(y(),T("view",{key:0,class:z(r("nut-skeleton-blockTitle")),style:W({height:s.height})},null,6)):j("",!0),(y(!0),T(le,null,Re(Number(s.row),a=>(y(),T("view",{key:a,class:z(r("nut-skeleton-blockLine")),style:W({height:s.height})},null,6))),128))],4)])])):(y(),T("view",GY,[U(s.$slots,"default")]))}}));et(cT);const dT=Symbol("nut-collapse");var JY=Object.defineProperty,ZY=Object.defineProperties,eQ=Object.getOwnPropertyDescriptors,E0=Object.getOwnPropertySymbols,tQ=Object.prototype.hasOwnProperty,nQ=Object.prototype.propertyIsEnumerable,P0=(e,t,n)=>t in e?JY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rQ=(e,t)=>{for(var n in t||(t={}))tQ.call(t,n)&&P0(e,n,t[n]);if(E0)for(var n of E0(t))nQ.call(t,n)&&P0(e,n,t[n]);return e},oQ=(e,t)=>ZY(e,eQ(t));const sQ={class:"nut-collapse"},fT=Le(oQ(rQ({},{name:"NutCollapse"}),{__name:"collapse",props:{modelValue:{default:""},accordion:{type:Boolean,default:!1}},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=e,r=t,o=H(n.modelValue||(n.accordion?"":[]));ve(()=>n.modelValue,l=>{o.value=l});const s=(l,u,c=!0)=>{o.value=l,r("update:modelValue",l),r("change",l,u,c)};return hn(dT,{updateVal:l=>{if(n.accordion)o.value===l?s("",l,!1):s(l,l,!0);else if(Array.isArray(o.value))if(o.value.includes(l)){const u=o.value.filter(c=>c!==l);s(u,l,!1)}else{const u=o.value.concat([l]);s(u,l,!0)}else console.warn("[NutUI] <Collapse> 未开启手风琴模式时 v-model 应为数组")},isExpanded:l=>n.accordion?o.value===l:Array.isArray(o.value)?o.value.includes(l):!1}),(l,u)=>(y(),T("view",sQ,[U(l.$slots,"default")]))}}));et(fT);var iQ=Object.defineProperty,aQ=Object.defineProperties,lQ=Object.getOwnPropertyDescriptors,I0=Object.getOwnPropertySymbols,uQ=Object.prototype.hasOwnProperty,cQ=Object.prototype.propertyIsEnumerable,k0=(e,t,n)=>t in e?iQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dQ=(e,t)=>{for(var n in t||(t={}))uQ.call(t,n)&&k0(e,n,t[n]);if(I0)for(var n of I0(t))cQ.call(t,n)&&k0(e,n,t[n]);return e},fQ=(e,t)=>aQ(e,lQ(t));const hQ={class:"nut-collapse-item__title-main"},pQ={class:"nut-collapse-item__title-main-value"},mQ=["innerHTML"],gQ={key:2,class:"nut-collapse-item__title-label"},vQ={key:0,class:"nut-collapse-item__title-sub"},yQ=["innerHTML"],_Q={key:0,class:"nut-collapse__item-extraWrapper"},wQ={class:"nut-collapse__item-extraWrapper__extraRender"},hT=Le(fQ(dQ({},{name:"NutCollapseItem"}),{__name:"collapse-item",props:{title:{default:""},value:{default:""},label:{default:""},disabled:{type:Boolean,default:!1},name:{default:-1},border:{type:Boolean,default:!0},icon:{default:()=>X$},rotate:{default:180}},setup(e){const t=e,n=H(null),r=H(null),o=Lt(dT),s=F(()=>{const h="nut-collapse-item";return{[h]:!0,[h+"__border"]:t.border}}),i=F(()=>o?o.isExpanded(t.name):!1),a=H(i.value?"auto":"0px"),l=()=>{o&&o.updateVal(t.name)},u=()=>{i.value&&(a.value="auto")},c=()=>{a.value="0px",requestAnimationFrame(()=>{requestAnimationFrame(()=>{var h;const m=(h=r.value)==null?void 0:h.offsetHeight;a.value=m?`${m}px`:"auto"})})},f=()=>{var h;const m=(h=r.value)==null?void 0:h.offsetHeight;a.value=m?`${m}px`:"auto",requestAnimationFrame(()=>{requestAnimationFrame(()=>{a.value="0px"})})};return ve(i,h=>{h?c():f()}),(h,m)=>(y(),T("view",{class:z(s.value)},[$("view",{class:z(["nut-collapse-item__title",{"nut-collapse-item__title--disabled":h.disabled}]),onClick:l},[$("view",hQ,[$("view",pQ,[h.$slots.title?U(h.$slots,"title",{key:0}):(y(),T("view",{key:1,class:"nut-collapse-item__title-mtitle",innerHTML:h.title},null,8,mQ)),h.label?(y(),T("view",gQ,x(h.label),1)):j("",!0)])]),h.$slots.value?(y(),T("view",vQ,[U(h.$slots,"value")])):(y(),T("view",{key:1,class:"nut-collapse-item__title-sub",innerHTML:h.value},null,8,yQ)),$("view",{class:z(["nut-collapse-item__title-icon",{"nut-collapse-item__title-icon--expanded":i.value}]),style:W({transform:"rotate("+(i.value?h.rotate:0)+"deg)"})},[h.$slots.icon?U(h.$slots,"icon",{key:0}):(y(),ye(Yn(Ae(Lo)(h.icon)),{key:1}))],6)],2),h.$slots.extra?(y(),T("view",_Q,[$("div",wQ,[U(h.$slots,"extra")])])):j("",!0),$("view",{ref_key:"wrapperRef",ref:n,class:"nut-collapse__item-wrapper",style:W({willChange:"height",height:a.value}),onTransitionend:u},[$("view",{ref_key:"contentRef",ref:r,class:"nut-collapse__item-wrapper__content"},[U(h.$slots,"default")],512)],36)],2))}}));et(hT);var bQ=Object.defineProperty,$Q=Object.defineProperties,TQ=Object.getOwnPropertyDescriptors,O0=Object.getOwnPropertySymbols,SQ=Object.prototype.hasOwnProperty,CQ=Object.prototype.propertyIsEnumerable,A0=(e,t,n)=>t in e?bQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EQ=(e,t)=>{for(var n in t||(t={}))SQ.call(t,n)&&A0(e,n,t[n]);if(O0)for(var n of O0(t))CQ.call(t,n)&&A0(e,n,t[n]);return e},PQ=(e,t)=>$Q(e,TQ(t));const IQ=Le({props:{slots:{type:Array,default:()=>[]},record:{type:Object,default:()=>({})}},setup(e){return()=>Ct("view",{},e.slots[0]?e.slots[0](e.record):e.slots[1](e.record))}}),{create:kQ}=Oe("table"),OQ="NutTable",AQ=kQ({components:{RenderColumn:IQ,DownArrow:X$},props:{bordered:{type:Boolean,default:!0},columns:{type:Array,default:()=>[]},data:{type:Object,default:()=>({})},summary:{type:Function,default:null},striped:{type:Boolean,default:!1}},emits:["sorter"],setup(e,{emit:t}){const n=It(OQ),r=qe({curData:e.data}),o=f=>({"nut-table__main__head__tr--border":e.bordered,[`nut-table__main__head__tr--align${f.align?f.align:""}`]:!0}),s=f=>f.stylehead?f.stylehead:"",i=f=>f.stylecolumn?f.stylecolumn:"",a=f=>e.columns.filter(h=>h.key===f)[0],l=f=>{const h=e.columns.filter(m=>m.key===f);return h[0].stylecolumn?h[0].stylecolumn:""},u=f=>{f.sorter&&(t("sorter",f),r.curData=typeof f.sorter=="function"?r.curData.sort(f.sorter):f.sorter==="default"?r.curData.sort():r.curData)},c=()=>e.columns.map(f=>[f.key,f.render]);return ve(()=>e.data,f=>{r.curData=f.slice()}),PQ(EQ({},rt(r)),{cellClasses:o,getColumnItem:a,getColumnItemStyle:l,handleSorterClick:u,sortDataItem:c,translate:n,stylehead:s,stylecolumn:i})}}),DQ={class:"nut-table"},RQ={class:"nut-table__main__head"},NQ={class:"nut-table__main__head__tr"},VQ=["onClick"],LQ={class:"nut-table__main__body"},MQ={key:1},BQ={key:0,class:"nut-table__nodata"},FQ={key:0,class:"nut-table__nodata__text"},jQ={key:1,class:"nut-table__summary"},xQ=["innerHTML"];function UQ(e,t,n,r,o,s){const i=ue("DownArrow"),a=ue("RenderColumn");return y(),T("view",DQ,[$("view",{class:z(["nut-table__main",{"nut-table__main--striped":e.striped}])},[$("view",RQ,[$("view",NQ,[(y(!0),T(le,null,Re(e.columns,l=>(y(),T("span",{key:l.key,class:z(["nut-table__main__head__tr__th",e.cellClasses(l)]),style:W(l.stylehead),onClick:u=>e.handleSorterClick(l)},[Ie(x(l.title)+" ",1),U(e.$slots,"icon"),!e.$slots.icon&&l.sorter?(y(),ye(i,{key:0,width:"12px",height:"12px"})):j("",!0)],14,VQ))),128))])]),$("view",LQ,[(y(!0),T(le,null,Re(e.curData,l=>(y(),T("view",{key:l,class:"nut-table__main__body__tr"},[(y(!0),T(le,null,Re(e.sortDataItem(),([u,c])=>(y(),T("span",{key:u,class:z(["nut-table__main__body__tr__td",e.cellClasses(e.getColumnItem(u))]),style:W(e.getColumnItemStyle(u))},[typeof l[u]=="function"||typeof c=="function"?(y(),ye(a,{key:0,slots:[c,l[u]],record:l},null,8,["slots","record"])):(y(),T("view",MQ,x(l[u]),1))],6))),128))]))),128))])],2),e.curData.length?j("",!0):(y(),T("view",BQ,[$("div",{class:z(["nut-table__nodata",{"nut-table__nodata--border":e.bordered}])},[U(e.$slots,"nodata"),e.$slots.nodata?j("",!0):(y(),T("div",FQ,x(e.translate("noData")),1))],2)])),e.summary?(y(),T("view",jQ,[$("span",{class:"nut-table__summary__text",innerHTML:e.summary().value},null,8,xQ)])):j("",!0)])}const zQ=Ne(AQ,[["render",UQ]]);var HQ=Object.defineProperty,qQ=Object.defineProperties,WQ=Object.getOwnPropertyDescriptors,D0=Object.getOwnPropertySymbols,KQ=Object.prototype.hasOwnProperty,GQ=Object.prototype.propertyIsEnumerable,R0=(e,t,n)=>t in e?HQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YQ=(e,t)=>{for(var n in t||(t={}))KQ.call(t,n)&&R0(e,n,t[n]);if(D0)for(var n of D0(t))GQ.call(t,n)&&R0(e,n,t[n]);return e},QQ=(e,t)=>qQ(e,WQ(t));const XQ={class:"nut-animate"},pT=Le(QQ(YQ({},{name:"NutAnimate"}),{__name:"animate",props:{type:{},show:{type:Boolean,default:!1},action:{default:""},loop:{type:Boolean,default:!1},duration:{default:500}},emits:["click","animate"],setup(e,{emit:t}){const n=e,r=t,o=H(n.action==="initial"||n.show===!0||n.loop),s=F(()=>({"nut-animate__container":!0,[`nut-animate-${n.type}`]:o.value,loop:n.loop})),i=()=>{o.value=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{o.value=!0})})},a=l=>{n.action==="click"&&(i(),r("click",l),r("animate"))};return ve(()=>n.show,l=>{l&&(i(),r("animate"))}),(l,u)=>(y(),T("view",XQ,[$("view",{class:z(s.value),style:W({animationDuration:l.duration?`${l.duration}ms`:void 0}),onClick:a},[U(l.$slots,"default")],6)]))}}));et(pT);var JQ=Object.defineProperty,ZQ=Object.defineProperties,eX=Object.getOwnPropertyDescriptors,N0=Object.getOwnPropertySymbols,tX=Object.prototype.hasOwnProperty,nX=Object.prototype.propertyIsEnumerable,V0=(e,t,n)=>t in e?JQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rX=(e,t)=>{for(var n in t||(t={}))tX.call(t,n)&&V0(e,n,t[n]);if(N0)for(var n of N0(t))nX.call(t,n)&&V0(e,n,t[n]);return e},oX=(e,t)=>ZQ(e,eX(t));const{create:sX}=Oe("ellipsis"),iX=sX({props:{content:{type:String,default:""},direction:{type:String,default:"end"},rows:{type:[Number,String],default:1},expandText:{type:String,default:""},collapseText:{type:String,default:""},symbol:{type:String,default:"..."},lineHeight:{type:[Number,String],default:"20"}},emits:["click","change"],setup(e,{emit:t}){const n=H(null);let r=null,o=0;const s=H(),i=qe({exceeded:!1,expanded:!1});ve(()=>e.content,(w,C)=>{w!=C&&a()}),tt(()=>{a()});const a=()=>{if(!n.value)return;const w=window.getComputedStyle(n.value);r=document.createElement("div"),Array.prototype.slice.apply(w).forEach(g=>{r.style.setProperty(g,w.getPropertyValue(g))}),r.style.position="fixed",r.style.left="999999px",r.style.top="999999px",r.style.zIndex="-1000",r.style.height="auto",r.style.minHeight="auto",r.style.maxHeight="auto",r.style.textOverflow="clip",r.style.whiteSpace="normal",r.style.webkitLineClamp="unset",r.style.display="block";const p=f(w.lineHeight==="normal"?e.lineHeight:w.lineHeight);o=Math.floor(p*(Number(e.rows)+.5)+f(w.paddingTop)+f(w.paddingBottom)),r.innerText=e.content,document.body.appendChild(r),l()},l=()=>{if(r.offsetHeight<=o)i.exceeded=!1,document.body.removeChild(r);else{i.exceeded=!0;const w=e.content.length,C=Math.floor((0+w)/2),p=e.direction==="middle"?c([0,C],[C,w]):u(0,w);s.value=p,document.body.removeChild(r)}},u=(w,C)=>{const p=i.expanded?e.collapseText:e.expandText,g=e.content.length;if(C-w<=1)return e.direction==="end"?{leading:e.content.slice(0,w)+e.symbol}:{tailing:e.symbol+e.content.slice(C,g)};const b=Math.round((w+C)/2);return e.direction==="end"?r.innerText=e.content.slice(0,b)+e.symbol+p:r.innerText=p+e.symbol+e.content.slice(b,g),r.offsetHeight<=o?e.direction==="end"?u(b,C):u(w,b):e.direction==="end"?u(w,b):u(b,C)},c=(w,C)=>{const p=i.expanded?e.collapseText:e.expandText,g=e.content.length;if(w[1]-w[0]<=1&&C[1]-C[0]<=1)return{leading:e.content.slice(0,w[0])+e.symbol,tailing:e.symbol+e.content.slice(C[1],g)};const b=Math.floor((w[0]+w[1])/2),O=Math.ceil((C[0]+C[1])/2);return r.innerText=e.content.slice(0,b)+e.symbol+p+e.symbol+e.content.slice(O,g),r.offsetHeight<=o?c([b,w[1]],[C[0],O]):c([w[0],b],[O,C[1]])},f=w=>{if(!w)return 0;const C=w.match(/^\d*(\.\d*)?/);return C?Number(C[0]):0},h=w=>{w==1?(i.expanded=!0,t("change","expand")):(i.expanded=!1,t("change","collapse"))},m=()=>{t("click")};return oX(rX({},rt(i)),{root:n,ellipsis:s,clickHandle:h,handleClick:m})}}),aX={key:0},lX={key:1},uX={key:2};function cX(e,t,n,r,o,s){return y(),T("view",{ref:"root",class:"nut-ellipsis",onClick:t[2]||(t[2]=(...i)=>e.handleClick&&e.handleClick(...i))},[e.exceeded?j("",!0):(y(),T("view",aX,x(e.content),1)),e.exceeded&&!e.expanded?(y(),T("view",lX,[Ie(x(e.ellipsis&&e.ellipsis.leading),1),e.expandText?(y(),T("span",{key:0,class:"nut-ellipsis__text",onClick:t[0]||(t[0]=Vt(i=>e.clickHandle(1),["stop"]))},x(e.expandText),1)):j("",!0),Ie(x(e.ellipsis&&e.ellipsis.tailing),1)])):j("",!0),e.exceeded&&e.expanded?(y(),T("view",uX,[Ie(x(e.content)+" ",1),e.expandText?(y(),T("span",{key:0,class:"nut-ellipsis__text",onClick:t[1]||(t[1]=Vt(i=>e.clickHandle(2),["stop"]))},x(e.collapseText),1)):j("",!0)])):j("",!0)],512)}const dX=Ne(iX,[["render",cX]]);var fX=Object.defineProperty,hX=Object.defineProperties,pX=Object.getOwnPropertyDescriptors,L0=Object.getOwnPropertySymbols,mX=Object.prototype.hasOwnProperty,gX=Object.prototype.propertyIsEnumerable,M0=(e,t,n)=>t in e?fX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vX=(e,t)=>{for(var n in t||(t={}))mX.call(t,n)&&M0(e,n,t[n]);if(L0)for(var n of L0(t))gX.call(t,n)&&M0(e,n,t[n]);return e},yX=(e,t)=>hX(e,pX(t));const mT=Le(yX(vX({},{name:"NutWatermark"}),{__name:"watermark",props:{gapX:{default:24},gapY:{default:48},zIndex:{default:2e3},width:{default:120},height:{default:64},rotate:{default:-22},image:{},imageWidth:{default:120},imageHeight:{default:64},content:{default:""},fontColor:{default:"rgba(0,0,0,.15)"},fontStyle:{default:"normal"},fontFamily:{default:"PingFang SC"},fontWeight:{default:"normal"},fontSize:{default:14},fullPage:{type:Boolean,default:!0}},setup(e){const t=e,n=H(""),r=F(()=>{const s="nut-watermark";return{[s]:!0,[`${s}-full-page`]:t.fullPage}}),o=()=>{const s=document.createElement("canvas"),i=window.devicePixelRatio,a=s.getContext("2d"),l=`${(t.gapX+t.width)*i}px`,u=`${(t.gapY+t.height)*i}px`,c=t.width*i,f=t.height*i;if(s.setAttribute("width",l),s.setAttribute("height",u),a){if(t.image){a.translate(c/2,f/2),a.rotate(Math.PI/180*Number(t.rotate));const h=new Image;h.crossOrigin="anonymous",h.referrerPolicy="no-referrer",h.src=t.image,h.onload=()=>{a.drawImage(h,-t.imageWidth*i/2,-t.imageHeight*i/2,t.imageWidth*i,t.imageHeight*i),a.restore(),n.value=s.toDataURL()}}else if(t.content){a.textBaseline="middle",a.textAlign="center",a.translate(c/2,f/2),a.rotate(Math.PI/180*Number(t.rotate));const h=Number(t.fontSize)*i;a.font=`${t.fontStyle} normal ${t.fontWeight} ${h}px/${f}px ${t.fontFamily}`,a.fillStyle=t.fontColor,Array.isArray(t.content)?t.content.map((m,w)=>{a.fillText(m,0,(w-1)*h)}):a.fillText(t.content,0,0),a.restore(),n.value=s.toDataURL()}}else throw new Error("当前环境不支持Canvas")};return ni(()=>{o()}),(s,i)=>(y(),T("view",{class:z(r.value),style:W({zIndex:s.zIndex,backgroundSize:`${s.gapX+s.width}px`,backgroundImage:`url('${n.value}')`})},null,6))}}));et(mT);var _X=Object.defineProperty,wX=Object.defineProperties,bX=Object.getOwnPropertyDescriptors,B0=Object.getOwnPropertySymbols,$X=Object.prototype.hasOwnProperty,TX=Object.prototype.propertyIsEnumerable,F0=(e,t,n)=>t in e?_X(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SX=(e,t)=>{for(var n in t||(t={}))$X.call(t,n)&&F0(e,n,t[n]);if(B0)for(var n of B0(t))TX.call(t,n)&&F0(e,n,t[n]);return e},CX=(e,t)=>wX(e,bX(t));const EX={class:"nut-trend-arrow"},gT=Le(CX(SX({},{name:"NutTrendArrow"}),{__name:"trend-arrow",props:{rate:{default:0},digits:{default:2},showSign:{type:Boolean,default:!1},showZero:{type:Boolean,default:!1},arrowLeft:{type:Boolean,default:!1},syncTextColor:{type:Boolean,default:!0},textColor:{default:"#333"},riseColor:{default:"#fa2c19"},dropColor:{default:"#64b578"}},setup(e){const t=e,n=F(()=>t.rate>0),r=F(()=>{const s=Math.abs(t.rate);return!t.showZero&&t.rate===0?"--":`${t.showSign&&t.rate!==0?n.value?"+":"-":""}${eN(Number(s),t.digits)}%`}),o=F(()=>({color:t.rate===0?t.textColor:t.syncTextColor?n.value?t.riseColor:t.dropColor:t.textColor}));return(s,i)=>(y(),T("view",EX,[s.arrowLeft?j("",!0):(y(),T("span",{key:0,class:"nut-trend-arrow-icon-before nut-trend-arrow-rate",style:W(o.value)},x(r.value),5)),Number(s.rate)!==0&&n.value?U(s.$slots,"up-icon",{key:1},()=>[X(Ae(_R),{color:s.riseColor},null,8,["color"])]):j("",!0),Number(s.rate)!==0&&!n.value?U(s.$slots,"down-icon",{key:2},()=>[X(Ae(pR),{color:s.dropColor},null,8,["color"])]):j("",!0),s.arrowLeft?(y(),T("span",{key:3,class:"nut-trend-arrow-icon-after nut-trend-arrow-rate",style:W(o.value)},x(r.value),5)):j("",!0)]))}}));et(gT);var PX=Object.defineProperty,IX=Object.defineProperties,kX=Object.getOwnPropertyDescriptors,j0=Object.getOwnPropertySymbols,OX=Object.prototype.hasOwnProperty,AX=Object.prototype.propertyIsEnumerable,x0=(e,t,n)=>t in e?PX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DX=(e,t)=>{for(var n in t||(t={}))OX.call(t,n)&&x0(e,n,t[n]);if(j0)for(var n of j0(t))AX.call(t,n)&&x0(e,n,t[n]);return e},RX=(e,t)=>IX(e,kX(t));const{create:NX}=Oe("tour"),VX=NX({components:{NutPopover:uT,Close:$c},props:{modelValue:{type:Boolean,default:!1},type:{type:String,default:"step"},steps:{type:Array,default:()=>[]},location:{type:String,default:"bottom"},current:{type:Number,default:0},nextStepTxt:{type:String,default:"下一步"},prevStepTxt:{type:String,default:"上一步"},completeTxt:{type:String,default:"完成"},mask:{type:Boolean,default:!0},offset:{type:Array,default:[8,10]},bgColor:{type:String,default:""},theme:{type:String,default:"light"},maskWidth:{type:[Number,String],default:""},maskHeight:{type:[Number,String],default:""},closeOnClickOverlay:{type:Boolean,default:!0},showPrevStep:{type:Boolean,default:!0},showTitleBar:{type:Boolean,default:!0}},emits:["update:modelValue","change","close"],setup(e,{emit:t}){const n=qe({showTour:e.modelValue,showPopup:!1,active:0}),r=H({}),o=F(()=>"nut-tour"),s=F(()=>{const{offset:c,maskWidth:f,maskHeight:h}=e,{width:m,height:w,left:C,top:p}=r.value,g=[C+m/2,p+w/2],b=Number(f||m),O=Number(h||w);return{width:`${b+ +c[1]*2}px`,height:`${O+ +c[0]*2}px`,top:`${g[1]-O/2-+c[0]}px`,left:`${g[0]-b/2-+c[1]}px`}}),i=c=>{c=="next"?n.active=n.active+1:n.active=n.active-1,n.showPopup=!1,Et(()=>{n.showPopup=!0,a()}),t("change",n.active)},a=()=>{const c=document.querySelector(`#${e.steps[n.active].target}`),f=gr(c);r.value=f},l=()=>{n.showTour=!1,n.showPopup=!1,t("close",n.active),t("update:modelValue",!1)},u=()=>{e.closeOnClickOverlay&&l()};return tt(()=>{n.active=0,a()}),ve(()=>e.modelValue,c=>{c&&a(),n.active=0,n.showTour=c,n.showPopup=c}),RX(DX({},rt(n)),{classes:o,maskStyle:s,changeStep:i,close:l,handleClickMask:u})}}),LX={key:0,class:"nut-tour-content"},MX={key:0,class:"nut-tour-content-top"},BX={class:"nut-tour-content-inner"},FX={class:"nut-tour-content-bottom"},jX={class:"nut-tour-content-bottom-init"},xX={class:"nut-tour-content-bottom-operate"},UX={key:1,class:"nut-tour-content nut-tour-content-tile"},zX={class:"nut-tour-content-inner"};function HX(e,t,n,r,o,s){const i=ue("Close"),a=ue("nut-popover");return y(),T("div",{class:z(e.classes)},[ct($("div",{class:"nut-tour-masked",onClick:t[0]||(t[0]=(...l)=>e.handleClickMask&&e.handleClickMask(...l))},null,512),[[jt,e.showTour]]),(y(!0),T(le,null,Re(e.steps,(l,u)=>(y(),T("div",{key:u,style:{height:"0"}},[u==e.active?(y(),T(le,{key:0},[e.showTour?(y(),T("div",{key:0,id:"nut-tour-popid",class:z(["nut-tour-mask",[e.mask?"":"nut-tour-mask-none"]]),style:W(e.maskStyle)},null,6)):j("",!0),X(a,{visible:e.showPopup,"onUpdate:visible":t[5]||(t[5]=c=>e.showPopup=c),location:l.location||e.location,"target-id":"nut-tour-popid","bg-color":e.bgColor,theme:e.theme,"close-on-click-outside":!1,offset:l.popoverOffset||[0,12],"arrow-offset":l.arrowOffset||0},{content:de(()=>[U(e.$slots,"default",{},()=>[e.type=="step"?(y(),T("div",LX,[e.showTitleBar?(y(),T("div",MX,[$("div",{onClick:t[1]||(t[1]=(...c)=>e.close&&e.close(...c))},[X(i,{class:"nut-tour-content-top-close"})])])):j("",!0),$("div",BX,x(l.content),1),$("div",FX,[$("div",jX,x(e.active+1)+"/"+x(e.steps.length),1),$("div",xX,[U(e.$slots,"prev-step",{},()=>[e.active!=0&&e.showPrevStep?(y(),T("div",{key:0,class:"nut-tour-content-bottom-operate-btn",onClick:t[2]||(t[2]=c=>e.changeStep("prev"))},x(e.prevStepTxt),1)):j("",!0)]),e.steps.length-1==e.active?(y(),T("div",{key:0,class:"nut-tour-content-bottom-operate-btn active",onClick:t[3]||(t[3]=(...c)=>e.close&&e.close(...c))},x(e.completeTxt),1)):j("",!0),U(e.$slots,"next-step",{},()=>[e.steps.length-1!=e.active?(y(),T("div",{key:0,class:"nut-tour-content-bottom-operate-btn active",onClick:t[4]||(t[4]=c=>e.changeStep("next"))},x(e.nextStepTxt),1)):j("",!0)])])])])):j("",!0),e.type=="tile"?(y(),T("div",UX,[$("div",zX,x(l.content),1)])):j("",!0)])]),_:2},1032,["visible","location","bg-color","theme","offset","arrow-offset"])],64)):j("",!0)]))),128))],2)}const qX=Ne(VX,[["render",HX]]);var WX=Object.defineProperty,KX=Object.defineProperties,GX=Object.getOwnPropertyDescriptors,U0=Object.getOwnPropertySymbols,YX=Object.prototype.hasOwnProperty,QX=Object.prototype.propertyIsEnumerable,z0=(e,t,n)=>t in e?WX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,H0=(e,t)=>{for(var n in t||(t={}))YX.call(t,n)&&z0(e,n,t[n]);if(U0)for(var n of U0(t))QX.call(t,n)&&z0(e,n,t[n]);return e},q0=(e,t)=>KX(e,GX(t));const{create:XX}=Oe("address"),JX="NutAddress",ZX=XX({components:{NutPopup:Hn,NutElevator:$4,Location:B9,Location2:z9,Check:K$,Close:$c,Left:lp},inheritAttrs:!1,props:q0(H0({},ol),{modelValue:{type:Array,default:()=>[]},type:{type:String,default:"custom"},customAddressTitle:{type:String,default:""},province:{type:Array,default:()=>[]},city:{type:Array,default:()=>[]},country:{type:Array,default:()=>[]},town:{type:Array,default:()=>[]},isShowCustomAddress:{type:Boolean,default:!0},existAddress:{type:Array,default:()=>[]},existAddressTitle:{type:String,default:""},customAndExistTitle:{type:String,default:""},height:{type:[String,Number],default:"200px"},columnsPlaceholder:{type:[String,Array],default:""}}),emits:["update:visible","update:modelValue","type","change","selected","close","closeMask","switchModule"],setup(e,{emit:t}){const n=It(JX),r=H(null),o=H(null),s=H(e.visible),i=H(e.type),a=H(0),l=H(0),u=H(["province","city","country","town"]),c=H(null),f=H([0,0,0,0]),h=qe([]),m=F(()=>{switch(a.value){case 0:return e.province;case 1:return e.city;case 2:return e.country;default:return e.town}}),w=Q=>{if(!Array.isArray(Q))throw new TypeError("params muse be array.");if(!Q.length)return[];Q.forEach(re=>{if(!re.title){console.warn("[NutUI] <Address> 请检查数组选项的 title 值是否有设置 ,title 为必填项 .");return}});const K=[];return Q=Q.sort((re,ie)=>re.title.localeCompare(ie.title)),Q.forEach(re=>{const ie=K.findIndex(Te=>Te.title===re.title);ie<=-1?K.push({title:re.title,list:[].concat(re)}):K[ie].list.push(re)}),K};let C=H([]),p=qe({});const g=H("self"),b=H(20),O=()=>{h[0]=e.province||[],h[1]=e.city||[],h[2]=e.country||[],h[3]=e.town||[];const Q=e.modelValue,K=Q.length;if(K>0){if(a.value=K-1,m.value.length==0){a.value=0;return}for(let re=0;re<K;re++){let ie=h[re];C.value[re]=ie.filter(Te=>Te.id==Q[re])[0]}L()}},A=(Q,K)=>Q&&Q.name||a.value<K&&Q?Q.name:e.columnsPlaceholder[K]||n("select"),L=()=>{S(),Et(()=>{const Q=o.value&&o.value.getElementsByClassName("active")[0];if(Q){const K=Q.offsetLeft;b.value=K||20}})},N=Q=>{var K;const re=a.value;l.value=a.value;const ie={custom:u.value[re]};C.value[re]=Q,C.value.splice(re+1,C.value.length-(re+1)),ie.value=Q,((K=h[re+1])==null?void 0:K.length)>0?(a.value=re+1,L(),ie.next=u.value[a.value]):(k(),t("update:modelValue")),t("change",ie)},I=(Q,K)=>{l.value=a.value,A(Q,K)&&(a.value=K,L())},S=()=>{const Q=c.value,K=l.value,re=f.value[a.value];Q!=null&&Q.scrollTop&&(f.value[K]=Q==null?void 0:Q.scrollTop),Et(()=>{Q==null||Q.scrollTo({top:re,behavior:"auto"})})},_=Q=>{const K=e.existAddress;let re={};K.forEach(ie=>{ie&&ie.selectedAddress&&(re=ie),ie.selectedAddress=!1}),Q.selectedAddress=!0,p=Q,t("selected",re,Q,K),k()},P=()=>{C.value=[],a.value=0,L()},k=(Q="self")=>{g.value=Q=="cross"?"cross":"self",s.value=!1},R=()=>{g.value="mask"},D=()=>{const Q={addressIdStr:"",addressStr:"",province:C.value[0],city:C.value[1],country:C.value[2],town:C.value[3]},K={data:{},type:i.value};["custom","custom2"].includes(i.value)?([0,1,2,3].forEach(re=>{const ie=C.value[re];Q.addressIdStr+=`${re?"_":""}${ie&&ie.id||0}`,Q.addressStr+=ie&&ie.name||""}),K.data=Q):K.data=p,P(),g.value=="self"?t("close",K):t("closeMask",{closeWay:g}),t("update:visible",!1)},oe=()=>{const Q=i.value;i.value=Q=="exist"?"custom":"exist",P(),t("switchModule",{type:i.value})},J=(Q,K)=>{N(K)};return ve(()=>e.visible,Q=>{s.value=Q}),ve(()=>s.value,Q=>{Q&&O()}),q0(H0({showPopup:s,privateType:i,tabIndex:a,tabName:u,selectedRegion:C,switchModule:oe,closeWay:g,close:D,getTabName:A,nextAreaList:N,regionLine:r,tabRegion:o,lineDistance:b,changeRegionTab:I,selectedExist:_,clickOverlay:R,handClose:k,handleElevatorItem:J,initCustomSelected:O},rt(e)),{translate:n,regionList:m,transformData:w,scrollDom:c})}}),eJ={class:"nut-address"},tJ={class:"nut-address__header"},nJ={class:"nut-address__header__title"},rJ={key:0,class:"nut-address__custom"},oJ={ref:"tabRegion",class:"nut-address__region"},sJ=["onClick"],iJ={key:0,class:"active nut-address__region-item"},aJ={key:0,class:"nut-address__detail"},lJ={ref:"scrollDom",class:"nut-address__detail-list"},uJ=["onClick"],cJ={key:1,class:"nut-address__elevator-group"},dJ={key:1,class:"nut-address__exist"},fJ={class:"nut-address__exist-group"},hJ={class:"nut-address__exist-group-list"},pJ=["onClick"],mJ={class:"nut-address__exist-item-info"},gJ={key:0,class:"nut-address__exist-item-info-name"},vJ={key:1,class:"nut-address__exist-item-info-phone"},yJ={class:"nut-address__exist-item-info-bottom"},_J={class:"nut-address__exist-choose-btn"};function wJ(e,t,n,r,o,s){const i=ue("Left"),a=ue("Close"),l=ue("Check"),u=ue("nut-elevator"),c=ue("Location2"),f=ue("nut-popup");return y(),ye(f,{visible:e.showPopup,"onUpdate:visible":t[3]||(t[3]=h=>e.showPopup=h),position:"bottom","lock-scroll":e.lockScroll,round:e.round,"teleport-disable":e.teleportDisable,teleport:e.teleport,"z-index":e.zIndex,onClose:e.close,onClickOverlay:e.clickOverlay,onOpen:t[4]||(t[4]=h=>e.closeWay="self")},{default:de(()=>[$("view",eJ,[$("view",tJ,[$("view",{class:"nut-address__header-back",onClick:t[0]||(t[0]=(...h)=>e.switchModule&&e.switchModule(...h))},[U(e.$slots,"back-icon",{},()=>[ct(X(i,{size:"14px"},null,512),[[jt,e.type=="exist"&&e.privateType=="custom"]])])]),$("view",nJ,x(e.privateType=="custom"?e.customAddressTitle||e.translate("selectRegion"):e.existAddressTitle||e.translate("deliveryTo")),1),$("view",{class:"nut-address__header-close",onClick:t[1]||(t[1]=h=>e.handClose("cross"))},[U(e.$slots,"close-icon",{},()=>[X(a,{color:"#cccccc",size:"14px"})])])]),["custom","custom2"].includes(e.privateType)?(y(),T("view",rJ,[$("view",oJ,[(y(!0),T(le,null,Re(e.selectedRegion,(h,m)=>(y(),T("view",{key:m,class:z(["nut-address__region-item",m==e.tabIndex?"active":""]),onClick:w=>e.changeRegionTab(h,m)},[$("view",null,x(e.getTabName(h,m)),1)],10,sJ))),128)),e.tabIndex==e.selectedRegion.length?(y(),T("view",iJ,[$("view",null,x(e.getTabName(null,e.selectedRegion.length)),1)])):j("",!0),$("view",{ref:"regionLine",class:"nut-address__region-line",style:W({left:e.lineDistance+"px"})},null,4)],512),e.privateType=="custom"?(y(),T("view",aJ,[$("ul",lJ,[(y(!0),T(le,null,Re(e.regionList,(h,m)=>{var w,C;return y(),T("li",{key:m,class:z(["nut-address__detail-item",((w=e.selectedRegion[e.tabIndex])==null?void 0:w.id)==h.id?"active":""]),onClick:p=>e.nextAreaList(h)},[$("div",null,[((C=e.selectedRegion[e.tabIndex])==null?void 0:C.id)==h.id?U(e.$slots,"icon",{key:0},()=>[X(l,{class:"nut-address-select-icon",size:"13px"})]):j("",!0),Ie(" "+x(h.name),1)])],10,uJ)}),128))],512)])):(y(),T("view",cJ,[X(u,{height:e.height,"index-list":e.transformData(e.regionList),onClickItem:e.handleElevatorItem},null,8,["height","index-list","onClickItem"])]))])):(y(),T("view",dJ,[$("div",fJ,[$("ul",hJ,[(y(!0),T(le,null,Re(e.existAddress,(h,m)=>(y(),T("li",{key:m,class:z(["nut-address__exist-group-item",h.selectedAddress?"active":""]),onClick:w=>e.selectedExist(h)},[h.selectedAddress?j("",!0):U(e.$slots,"unselected-icon",{key:0},()=>[X(c,{class:"nut-address-select-icon",size:"13px"})]),h.selectedAddress?U(e.$slots,"icon",{key:1},()=>[X(l,{class:"nut-address-select-icon",size:"13px"})]):j("",!0),$("div",mJ,[h.name?(y(),T("div",gJ,x(h.name),1)):j("",!0),h.phone?(y(),T("div",vJ,x(h.phone),1)):j("",!0),$("div",yJ,[$("view",null,x(h.provinceName+h.cityName+h.countyName+h.townName+h.addressDetail),1)])])],10,pJ))),128))])]),e.isShowCustomAddress?(y(),T("div",{key:0,class:"nut-address__exist-choose",onClick:t[2]||(t[2]=(...h)=>e.switchModule&&e.switchModule(...h))},[$("div",_J,x(e.customAndExistTitle||e.translate("chooseAnotherAddress")),1)])):j("",!0)])),U(e.$slots,"bottom")])]),_:3},8,["visible","lock-scroll","round","teleport-disable","teleport","z-index","onClose","onClickOverlay"])}const bJ=Ne(ZX,[["render",wJ]]),{create:$J}=Oe("barrage"),TJ=$J({name:"barrage",props:{danmu:{type:Array,default:()=>[]},frequency:{type:Number,default:500},speeds:{type:Number,default:5e3},rows:{type:Number,default:3},top:{type:Number,default:10},loop:{type:Boolean,default:!0}},setup(e){const t=new Date().getTime(),n=!!Ya().default;let r=H(document.createElement("div")),o=H(document.createElement("div")),s=null;const i=H(e.danmu),a=H(e.rows),l=H(e.top),u=H(0),c=e.speeds,f=H(0);tt(()=>{h(),n&&document.addEventListener("visibilitychange",function(){document.visibilityState==="hidden"?(w(),u.value=0,m("hidden")):document.visibilityState==="visible"&&h()})}),_r(()=>{i.value=[],w()});const h=()=>{f.value=r.value.offsetWidth,n&&m("init"),setTimeout(()=>{var b;(b=r.value)==null||b.style.setProperty("--move-distance",`-${f.value}px`),p()},300)},m=b=>{var O;const A=document.getElementsByClassName("slotBody"+t);let L=((O=A==null?void 0:A[0])==null?void 0:O.children)||[];const N=[];L&&Array.from(L).forEach(I=>{b=="init"?(I.style.opacity="0",N.push(I)):(I.classList="",I.style={})}),b=="init"&&(i.value=N)},w=()=>{s&&(clearTimeout(s),s=null)};ve(()=>e.danmu,b=>{e.danmu.length>0&&(i.value=[...b])});const C=b=>{const O=u.value%i.value.length;!e.loop&&u.value===i.value.length?i.value.splice(i.value.length,0,b):i.value.splice(O,0,b)},p=()=>{w(),s=setTimeout(()=>{g()},e.frequency)},g=()=>{var b;const O=e.loop?u.value%i.value.length:u.value;let A=document.createElement("view");n&&typeof i.value[O]=="object"?(A=i.value[O],(b=A==null?void 0:A.classList)==null||b.add("nut-barrage__item")):(A.innerHTML=i.value[O],A.classList.add("nut-barrage__item"),o.value.appendChild(A)),Et(()=>{var L;const N=A.offsetHeight;if((L=A==null?void 0:A.classList)==null||L.add("move"),A.style.animationDuration=`${c}ms`,A.style.top=O%a.value*(N+l.value)+20+"px",A.style.opacity="1",!n){const I=A.offsetWidth;A.style.width=I+20+"px"}A.addEventListener("animationend",()=>{n?A.classList.remove("move"):o.value.removeChild(A)}),!(!e.loop&&u.value>=i.value.length-1)&&(u.value++,u.value>=i.value.length&&(u.value=0),A.removeEventListener("animationend",()=>{}),p())})};return{classTime:t,danmuList:i,dmBody:r,dmContainer:o,add:C}}}),SJ={ref:"dmBody",class:"nut-barrage"};function CJ(e,t,n,r,o,s){return y(),T("div",SJ,[$("div",{ref:"dmContainer",class:z(["dmContainer",e.$slots.default&&"slotContainer"])},[e.$slots.default?(y(),T("div",{key:0,class:z(["slotBody","slotBody"+e.classTime])},[U(e.$slots,"default")],2)):j("",!0)],2)],512)}const EJ=Ne(TJ,[["render",CJ]]);var PJ=Object.defineProperty,IJ=Object.defineProperties,kJ=Object.getOwnPropertyDescriptors,W0=Object.getOwnPropertySymbols,OJ=Object.prototype.hasOwnProperty,AJ=Object.prototype.propertyIsEnumerable,K0=(e,t,n)=>t in e?PJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DJ=(e,t)=>{for(var n in t||(t={}))OJ.call(t,n)&&K0(e,n,t[n]);if(W0)for(var n of W0(t))AJ.call(t,n)&&K0(e,n,t[n]);return e},RJ=(e,t)=>IJ(e,kJ(t));const{create:NJ}=Oe("signature"),VJ="NutSignature",LJ=NJ({props:{customClass:{type:String,default:""},lineWidth:{type:Number,default:2},strokeStyle:{type:String,default:()=>document.getElementsByTagName("body")[0].className.indexOf("nut-theme-dark")==-1?"#000":"#fff"},type:{type:String,default:"png"},unSupportTpl:{type:String,default:""}},components:{NutButton:Ur},emits:["start","end","signing","confirm","clear"],setup(e,{emit:t}){const n=It(VJ),r=H(null),o=H(null),s=F(()=>({["nut-signature"]:!0,[`${e.customClass}`]:e.customClass})),i=qe({canvasHeight:0,canvasWidth:0,ctx:null,isSupportTouch:"ontouchstart"in window,events:"ontouchstart"in window?["touchstart","touchmove","touchend","touchleave"]:["mousedown","mousemove","mouseup","mouseleave"]}),a=()=>{let g=document.createElement("canvas");return!!(g.getContext&&g.getContext("2d"))},l=()=>{r.value.addEventListener(i.events[0],u,!1)},u=g=>{g.preventDefault(),i.ctx.beginPath(),i.ctx.lineWidth=e.lineWidth,i.ctx.strokeStyle=e.strokeStyle,t("start"),r.value.addEventListener(i.events[1],c,!1),r.value.addEventListener(i.events[2],f,!1),r.value.addEventListener(i.events[3],h,!1)},c=g=>{g.preventDefault();let b=i.isSupportTouch?g.touches[0]:g;t("signing",b);let O=r.value.getBoundingClientRect(),A=b.clientX-O.left,L=b.clientY-O.top;i.ctx.lineTo(A,L),i.ctx.stroke()},f=g=>{g.preventDefault(),t("end"),r.value.removeEventListener(i.events[1],c,!1),r.value.removeEventListener(i.events[2],f,!1)},h=g=>{g.preventDefault(),r.value.removeEventListener(i.events[1],c,!1),r.value.removeEventListener(i.events[2],f,!1)},m=()=>{r.value.addEventListener(i.events[2],f,!1),i.ctx.clearRect(0,0,i.canvasWidth,i.canvasHeight),i.ctx.closePath(),t("clear")},w=()=>{p(r.value)},C=g=>{if(!g)return!0;var b=document.createElement("canvas");return b.width=g.width,b.height=g.height,(g==null?void 0:g.toDataURL())==b.toDataURL()},p=g=>{let b;switch(e.type){case"png":b=g.toDataURL("image/png");break;case"jpg":b=g.toDataURL("image/jpeg",.8);break}const O=C(g)?"请绘制签名":g,A=C(g)?"":b;t("confirm",O,A)};return tt(()=>{a()&&(i.ctx=r.value.getContext("2d"),i.canvasWidth=o.value.offsetWidth,i.canvasHeight=o.value.offsetHeight,l())}),RJ(DJ({},rt(i)),{canvas:r,wrap:o,isCanvasSupported:a,confirm:w,clear:m,classes:s,translate:n})}}),MJ={ref:"wrap",class:"nut-signature-inner"},BJ=["height","width"],FJ={key:0,class:"nut-signature-unsopport"};function jJ(e,t,n,r,o,s){const i=ue("nut-button");return y(),T("div",{class:z(e.classes)},[$("div",MJ,[ct($("canvas",{ref:"canvas",height:e.canvasHeight,width:e.canvasWidth},null,8,BJ),[[jt,e.isCanvasSupported()]]),e.isCanvasSupported()?j("",!0):(y(),T("p",FJ,x(e.unSupportTpl||e.translate("unSupportTpl")),1))],512),X(i,{class:"nut-signature-btn",type:"default",onClick:t[0]||(t[0]=a=>e.clear())},{default:de(()=>[Ie(x(e.translate("reSign")),1)]),_:1}),X(i,{class:"nut-signature-btn",type:"primary",onClick:t[1]||(t[1]=a=>e.confirm())},{default:de(()=>[Ie(x(e.translate("confirm")),1)]),_:1})],2)}const xJ=Ne(LJ,[["render",jJ]]),{create:UJ}=Oe("time-select"),zJ="NutTimeSelect",HJ=UJ({components:{NutPopup:Hn},props:{visible:{type:Boolean,defalut:!1},height:{type:[String],default:"20%"},title:{type:String,default:""},currentKey:{type:[Number,String],default:0},currentTime:{type:Array,default:()=>[]},lockScroll:{type:[Boolean],default:!0},teleportDisable:{type:Boolean,default:!1}},emits:["update:visible","select"],setup:(e,{emit:t})=>{const n=It(zJ),r=F(()=>({width:"100%",height:e.height})),o=F(()=>e.currentKey),s=F(()=>e.currentTime),i=()=>{t("update:visible",!1),t("select",s.value)};return hn("currentKey",o),hn("currentTime",s),{popStyle:r,close:i,translate:n}}}),qJ={class:"nut-time-select"},WJ={class:"nut-time-select__title"},KJ={class:"nut-time-select__title__fixed"},GJ={key:0},YJ={class:"nut-time-select__content"},QJ={class:"nut-time-select__content__pannel"},XJ={class:"nut-time-select__content__detail"};function JJ(e,t,n,r,o,s){const i=ue("nut-popup");return y(),ye(i,{position:"bottom",closeable:"",round:"","teleport-disable":e.teleportDisable,visible:e.visible,style:W(e.popStyle),"lock-scroll":e.lockScroll,onClickOverlay:e.close,onClickCloseIcon:e.close},{default:de(()=>[$("view",qJ,[$("view",WJ,[$("view",KJ,[e.$slots.title?U(e.$slots,"title",{key:1}):(y(),T("span",GJ,x(e.title||e.translate("pickupTime")),1))])]),$("view",YJ,[$("view",QJ,[U(e.$slots,"pannel")]),$("view",XJ,[U(e.$slots,"detail")])])])]),_:3},8,["teleport-disable","visible","style","lock-scroll","onClickOverlay","onClickCloseIcon"])}const ZJ=Ne(HJ,[["render",JJ]]);var eZ=Object.defineProperty,tZ=Object.defineProperties,nZ=Object.getOwnPropertyDescriptors,G0=Object.getOwnPropertySymbols,rZ=Object.prototype.hasOwnProperty,oZ=Object.prototype.propertyIsEnumerable,Y0=(e,t,n)=>t in e?eZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sZ=(e,t)=>{for(var n in t||(t={}))rZ.call(t,n)&&Y0(e,n,t[n]);if(G0)for(var n of G0(t))oZ.call(t,n)&&Y0(e,n,t[n]);return e},iZ=(e,t)=>tZ(e,nZ(t));const{componentName:aZ,create:lZ}=Oe("time-pannel"),uZ=lZ({name:"timepannel",props:{name:{type:String,default:""},pannelKey:{type:[Number,String],default:0}},emits:["change"],setup:(e,{emit:t})=>{const n=Lt("currentKey"),r=qe({currentKey:n}),o=F(()=>({[aZ]:!0,"nut-time-pannel--curr":r.currentKey==e.pannelKey})),s=i=>{t("change",i)};return iZ(sZ({},rt(r)),{classes:o,handlePannel:s})}});function cZ(e,t,n,r,o,s){return y(),T("view",{class:z(e.classes),onClick:t[0]||(t[0]=i=>e.handlePannel(e.pannelKey))},x(e.name),3)}const dZ=Ne(uZ,[["render",cZ]]);var fZ=Object.defineProperty,hZ=Object.defineProperties,pZ=Object.getOwnPropertyDescriptors,Q0=Object.getOwnPropertySymbols,mZ=Object.prototype.hasOwnProperty,gZ=Object.prototype.propertyIsEnumerable,X0=(e,t,n)=>t in e?fZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vZ=(e,t)=>{for(var n in t||(t={}))mZ.call(t,n)&&X0(e,n,t[n]);if(Q0)for(var n of Q0(t))gZ.call(t,n)&&X0(e,n,t[n]);return e},yZ=(e,t)=>hZ(e,pZ(t));const{create:_Z}=Oe("time-detail"),wZ=_Z({name:"timedetail",props:{times:{type:Array,default:()=>[]}},emits:["select"],setup:(e,{emit:t})=>{const n=Lt("currentKey"),r=Lt("currentTime"),o=qe({currentKey:n,currentTime:r}),s=l=>{let u=o.currentTime.find(c=>c.key==o.currentKey);if(u)return{"nut-time-detail__detail__list__item":!0,"nut-time-detail__detail__list__item--curr":u.list.filter(c=>c===l).length>0}},i=F(()=>e.times.find(l=>l.key==o.currentKey).list),a=l=>{t("select",l)};return yZ(vZ({},rt(o)),{getClass:s,renderData:i,handleTime:a})}}),bZ={class:"nut-time-detail"},$Z={class:"nut-time-detail__detail nut-time-detail__detail--moring"},TZ={class:"nut-time-detail__detail__list"},SZ=["onClick"];function CZ(e,t,n,r,o,s){return y(),T("view",bZ,[$("view",$Z,[$("view",TZ,[(y(!0),T(le,null,Re(e.renderData,i=>(y(),T("view",{key:i,class:z(e.getClass(i)),onClick:a=>e.handleTime(i)},x(i),11,SZ))),128))])])])}const EZ=Ne(wZ,[["render",CZ]]),{create:PZ}=Oe("sku-header"),IZ="NutSkuHeader",kZ=PZ({props:{goods:{type:Object,default:{}}},components:{NutPrice:Cc},setup(e,{slots:t}){const n=It(IZ);return{getSlots:o=>t[o],translate:n}}}),OZ={class:"nut-sku-header"},AZ=["src"],DZ={class:"nut-sku-header-right"},RZ={key:3,class:"nut-sku-header-right-extra"};function NZ(e,t,n,r,o,s){const i=ue("nut-price");return y(),T("view",OZ,[$("img",{class:"nut-sku-header-img",src:e.goods.imagePath},null,8,AZ),$("view",DZ,[e.getSlots("sku-header-price")?U(e.$slots,"sku-header-price",{key:0}):(y(),ye(i,{key:1,price:e.goods.price,"need-symbol":!0,thousands:!1},null,8,["price"])),e.getSlots("sku-header-extra")?U(e.$slots,"sku-header-extra",{key:2}):j("",!0),e.goods.skuId&&!e.getSlots("sku-header-extra")?(y(),T("view",RZ,x(e.translate("skuId"))+" : "+x(e.goods.skuId),1)):j("",!0)])])}const VZ=Ne(kZ,[["render",NZ]]),{create:LZ}=Oe("sku-select"),MZ=LZ({props:{sku:{type:Array,default:()=>[]}},emits:["selectSku"],setup(e,{emit:t}){const n=H([]);return ve(()=>e.sku,o=>{n.value=[].slice.call(o)},{deep:!0}),tt(()=>{e.sku.length>0&&(n.value=[].slice.call(e.sku))}),{skuInfo:n,changeSaleChild:(o,s,i,a)=>{o.checkFlag||o.disable||t("selectSku",{sku:o,skuIndex:s,parentSku:i,parentIndex:a})}}}}),BZ={class:"nut-sku-select"},FZ={class:"nut-sku-select-item-title"},jZ={class:"nut-sku-select-item-skus"},xZ=["onClick"];function UZ(e,t,n,r,o,s){return y(),T("view",BZ,[(y(!0),T(le,null,Re(e.skuInfo,(i,a)=>(y(),T("view",{key:i.id,class:"nut-sku-select-item"},[$("view",FZ,x(i.name),1),$("view",jZ,[(y(!0),T(le,null,Re(i.list,(l,u)=>(y(),T("view",{key:l.name,class:z(["nut-sku-select-item-skus-sku",[{active:!l.disable&&l.active},{disable:l.disable}]]),onClick:c=>e.changeSaleChild(l,u,i,a)},x(l.name),11,xZ))),128))])]))),128))])}const zZ=Ne(MZ,[["render",UZ]]),{create:HZ}=Oe("sku-stepper"),qZ=HZ({props:{stepperMax:{type:[Number,String],default:99999},stepperMin:{type:[Number,String],default:1},stepperExtraText:{type:[Function,Boolean],default:!1},stepperTitle:{type:String,default:"购买数量"}},emits:["click","changeSku","changeStepper","clickBtnOptions","overLimit","reduce","add"],components:{NutInputNumber:Tc},setup(e,{emit:t}){const n=H(e.stepperMin);return tt(()=>{n.value=e.stepperMin}),{goodsCount:n,add:l=>{t("add",l)},reduce:l=>{t("reduce",l)},overlimit:(l,u)=>{t("overLimit",{action:u,value:parseInt(n.value+"")})},getExtraText:()=>{const{stepperExtraText:l}=e;if(l)return l===!0?"":l==null?void 0:l()},changeStepper:l=>{n.value=l,t("changeStepper",l)}}}}),WZ={class:"nut-sku-stepper"},KZ={class:"nut-sku-stepper-title"},GZ=["innerHTML"],YZ={class:"nut-sku-stepper-count"};function QZ(e,t,n,r,o,s){const i=ue("nut-input-number");return y(),T("view",WZ,[$("view",KZ,x(e.stepperTitle),1),$("view",{class:"nut-sku-stepper-limit",innerHTML:e.getExtraText()},null,8,GZ),$("view",YZ,[X(i,{modelValue:e.goodsCount,"onUpdate:modelValue":t[0]||(t[0]=a=>e.goodsCount=a),min:e.stepperMin,max:e.stepperMax,onAdd:e.add,onReduce:e.reduce,onOverlimit:e.overlimit,onChange:e.changeStepper},null,8,["modelValue","min","max","onAdd","onReduce","onOverlimit","onChange"])])])}const XZ=Ne(qZ,[["render",QZ]]),{create:JZ}=Oe("sku-operate"),ZZ=JZ({props:{btnOptions:{type:Array,default:()=>["confirm"]},btnExtraText:{type:String,default:""},buyText:{type:String,default:"立即购买"},addCartText:{type:String,default:"加入购物车"},confirmText:{type:String,default:"确定"}},emits:["click","changeSku","changeBuyCount","clickBtnOperate"],setup(e,{emit:t,slots:n}){return{getBtnDesc:i=>({confirm:e.confirmText,cart:e.addCartText,buy:e.buyText})[i],clickBtnOperate:i=>{t("clickBtnOperate",i)},getSlots:i=>n[i]}}}),eee={key:0,class:"nut-sku-operate"},tee={key:0,class:"nut-sku-operate-desc"},nee={key:1,class:"nut-sku-operate-btn"},ree=["onClick"];function oee(e,t,n,r,o,s){return e.btnOptions.length>0?(y(),T("view",eee,[e.btnExtraText?(y(),T("view",tee,x(e.btnExtraText),1)):j("",!0),U(e.$slots,"operate-btn"),e.getSlots("operate-btn")?j("",!0):(y(),T("view",nee,[(y(!0),T(le,null,Re(e.btnOptions,(i,a)=>(y(),T("view",{key:a,class:z([`nut-sku-operate-btn-${i}`,"nut-sku-operate-btn-item"]),onClick:l=>e.clickBtnOperate(i)},x(e.getBtnDesc(i)),11,ree))),128))]))])):j("",!0)}const see=Ne(ZZ,[["render",oee]]),{create:iee}=Oe("sku"),aee="NutSku",lee=iee({props:{visible:{type:Boolean,default:!1},sku:{type:Array,default:[]},goods:{type:Object,default:{}},stepperMax:{type:[Number,String],default:99999},stepperMin:{type:[Number,String],default:1},btnOptions:{type:Array,default:()=>["confirm"]},stepperTitle:{type:String,default:""},stepperExtraText:{type:[Function,Boolean],default:!1},btnExtraText:{type:String,default:""},buyText:{type:String,default:""},addCartText:{type:String,default:""},confirmText:{type:String,default:""},lockScroll:{type:Boolean,default:!0}},emits:["update:visible","selectSku","changeStepper","clickBtnOperate","clickCloseIcon","clickOverlay","close","reduce","add","overLimit"],components:{SkuHeader:VZ,SkuSelect:zZ,SkuStepper:XZ,SkuOperate:see,NutPopup:Hn},setup(e,{emit:t,slots:n}){const r=It(aee),o=H(e.visible),s=H(e.stepperMin);ve(()=>e.visible,C=>{o.value=C}),ve(()=>o.value,C=>{C==!1&&w()});const i=C=>n[C],a=C=>{t("selectSku",C)},l=C=>{s.value=C,t("changeStepper",C)},u=C=>{t("add",C)},c=C=>{t("reduce",C)},f=C=>{t("overLimit",C)},h=C=>{t("clickBtnOperate",{type:C,value:s.value})},m=C=>{C=="icon"&&t("clickCloseIcon"),C=="overlay"&&t("clickOverlay"),C=="close"&&t("close"),o.value=!1},w=()=>{t("update:visible",!1)};return{showPopup:o,closePopup:m,selectSku:a,changeStepper:l,stepperOverLimit:f,clickBtnOperate:h,add:u,reduce:c,getSlots:i,translate:r}}}),uee={class:"nut-sku"},cee={class:"nut-sku-content"};function dee(e,t,n,r,o,s){const i=ue("sku-header"),a=ue("SkuSelect"),l=ue("sku-stepper"),u=ue("sku-operate"),c=ue("nut-popup");return y(),ye(c,{visible:e.showPopup,"onUpdate:visible":t[0]||(t[0]=f=>e.showPopup=f),position:"bottom",closeable:"",round:"",style:{height:"75%"},"lock-scroll":e.lockScroll,"catch-move":e.lockScroll,onClickCloseIcon:t[1]||(t[1]=f=>e.closePopup("icon")),onClickOverlay:t[2]||(t[2]=f=>e.closePopup("overlay")),onClose:t[3]||(t[3]=f=>e.closePopup("close"))},{default:de(()=>[$("view",uee,[U(e.$slots,"sku-header"),e.getSlots("sku-header")?j("",!0):(y(),ye(i,{key:0,goods:e.goods},Aa({_:2},[e.getSlots("sku-header-price")?{name:"sku-header-price",fn:de(()=>[U(e.$slots,"sku-header-price")]),key:"0"}:void 0,e.getSlots("sku-header-extra")?{name:"sku-header-extra",fn:de(()=>[U(e.$slots,"sku-header-extra")]),key:"1"}:void 0]),1032,["goods"])),$("view",cee,[U(e.$slots,"sku-select-top"),U(e.$slots,"sku-select"),e.getSlots("sku-select")?j("",!0):(y(),ye(a,{key:0,sku:e.sku,onSelectSku:e.selectSku},null,8,["sku","onSelectSku"])),U(e.$slots,"sku-stepper"),e.getSlots("sku-stepper")?j("",!0):(y(),ye(l,{key:1,goods:e.goods,"stepper-title":e.stepperTitle||e.translate("buyNumber"),"stepper-max":e.stepperMax,"stepper-min":e.stepperMin,"stepper-extra-text":e.stepperExtraText,onAdd:e.add,onReduce:e.reduce,onChangeStepper:e.changeStepper,onOverLimit:e.stepperOverLimit},null,8,["goods","stepper-title","stepper-max","stepper-min","stepper-extra-text","onAdd","onReduce","onChangeStepper","onOverLimit"])),U(e.$slots,"sku-stepper-bottom")]),X(u,{"btn-extra-text":e.btnExtraText,"btn-options":e.btnOptions,"buy-text":e.buyText||e.translate("buyNow"),"add-cart-text":e.addCartText||e.translate("addToCart"),"confirm-text":e.confirmText||e.translate("confirm"),onClickBtnOperate:e.clickBtnOperate},Aa({_:2},[e.getSlots("sku-operate")?{name:"operate-btn",fn:de(()=>[U(e.$slots,"sku-operate")]),key:"0"}:void 0]),1032,["btn-extra-text","btn-options","buy-text","add-cart-text","confirm-text","onClickBtnOperate"])])]),_:3},8,["visible","lock-scroll","catch-move"])}const fee=Ne(lee,[["render",dee]]),{create:hee}=Oe("card"),pee=hee({components:{NutPrice:Cc,NutTag:Cp},props:{imgUrl:{type:String,default:""},title:{type:String,default:""},price:{type:String,default:""},vipPrice:{type:String,default:""},shopDesc:{type:String,default:""},delivery:{type:String,default:""},shopName:{type:String,default:""},isNeedPrice:{type:Boolean,default:!0}}}),mee={class:"nut-card"},gee={class:"nut-card__left"},vee=["src"],yee={class:"nut-card__right"},_ee={class:"nut-card__right__title"},wee={key:0,class:"nut-card__right__price"},bee={class:"nut-card__right__other"},$ee={class:"nut-card__right__shop"},Tee={class:"nut-card__right__shop__name"};function See(e,t,n,r,o,s){const i=ue("nut-price"),a=ue("nut-tag");return y(),T("div",mee,[$("div",gee,[$("img",{src:e.imgUrl,alt:""},null,8,vee)]),$("div",yee,[$("div",_ee,x(e.title),1),U(e.$slots,"prolist"),e.isNeedPrice?(y(),T("div",wee,[U(e.$slots,"price",{},()=>[X(i,{price:e.price},null,8,["price"])]),U(e.$slots,"origin",{},()=>[X(i,{class:"nut-card__right__price__origin",price:e.vipPrice},null,8,["price"])])])):j("",!0),$("div",bee,[U(e.$slots,"shop-tag",{},()=>[X(a,{type:"danger"},{default:de(()=>[Ie(x(e.shopDesc),1)]),_:1}),X(a,{plain:""},{default:de(()=>[Ie(x(e.delivery),1)]),_:1})])]),$("div",$ee,[$("div",Tee,x(e.shopName),1),U(e.$slots,"footer")])])])}const Cee=Ne(pee,[["render",See]]),{create:Eee}=Oe("ecard"),Pee="NutEcard",Iee=Eee({components:{NutInputNumber:Tc},props:{chooseText:{type:String,default:""},otherValueText:{type:String,default:""},dataList:{type:Array,default:()=>[]},cardAmountMin:{type:Number,default:1},cardAmountMax:{type:Number,default:9999},cardBuyMin:{type:Number,default:1},cardBuyMax:{type:Number,default:9999},modelValue:{type:[Number,String],default:0},placeholder:{type:String,default:""},suffix:{type:String,default:"¥"}},emits:["inputChange","changeStep","inputClick","change","update:modelValue"],setup(e,{emit:t}){const n=It(Pee),r=H(null),o=H(null),s=H(""),i=H(e.cardAmountMin),a=H(e.modelValue),l=(h,m)=>{r.value=m,i.value=e.cardAmountMin,o.value=h.price,t("change",h),t("update:modelValue",h.price)},u=h=>{let w=h.target.value.replace(/[^\d]/g,"");s.value=w,o.value=w,Number(w)>e.cardAmountMax&&(s.value=e.cardAmountMax,o.value=e.cardAmountMax),Number(w)<e.cardAmountMin&&(s.value=e.cardAmountMin,o.value=e.cardAmountMin),t("inputChange",Number(s.value)),t("update:modelValue",Number(s.value))},c=()=>{r.value="input",i.value=e.cardAmountMin,o.value=s.value,t("update:modelValue",s.value),t("inputClick")},f=h=>{i.value=h,t("changeStep",i.value,o.value)};return ve(()=>e.modelValue,h=>{a.value=h}),{handleClick:l,changeStep:f,change:u,inputClick:c,stepValue:i,currentIndex:r,inputValue:s,money:a,translate:n}}}),kee={class:"nut-ecard"},Oee={class:"nut-ecard__title"},Aee={class:"nut-ecard__list"},Dee=["onClick"],Ree={class:"nut-ecard__list__input--con"},Nee=["placeholder"],Vee={class:"nut-ecard__list__step"};function Lee(e,t,n,r,o,s){const i=ue("nut-input-number");return y(),T("view",kee,[$("view",Oee,x(e.chooseText||e.translate("chooseText")),1),$("view",Aee,[(y(!0),T(le,null,Re(e.dataList,(a,l)=>(y(),T("view",{key:l,class:z(["nut-ecard__list__item",e.currentIndex==l?"active":""]),onClick:u=>e.handleClick(a,l)},x(a.price),11,Dee))),128)),$("view",{class:z(["nut-ecard__list__input",e.currentIndex=="input"?"active":""]),onClick:t[2]||(t[2]=(...a)=>e.inputClick&&e.inputClick(...a))},[$("view",null,x(e.otherValueText||e.translate("otherValueText")),1),$("view",Ree,[ct($("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>e.inputValue=a),class:"nut-ecard__list__input--input",type:"text",placeholder:e.placeholder||e.translate("placeholder"),onInput:t[1]||(t[1]=(...a)=>e.change&&e.change(...a))},null,40,Nee),[[to,e.inputValue]]),Ie(" "+x(e.suffix),1)])],2),$("view",Vee,[$("view",null,x(e.suffix)+x(e.money),1),X(i,{modelValue:e.stepValue,"onUpdate:modelValue":t[3]||(t[3]=a=>e.stepValue=a),min:e.cardBuyMin,max:e.cardBuyMax,onChange:e.changeStep},null,8,["modelValue","min","max","onChange"])])])])}const Mee=Ne(Iee,[["render",Lee]]),{create:Bee}=Oe("address-list-item"),Fee="NutAddressList",jee=Bee({components:{Del:Q$,Edit:H7},props:{item:{type:Object,default:{}}},emits:["delIcon","editIcon","clickItem"],setup(e,{emit:t}){const n=It(Fee);return{delClick:i=>{t("delIcon",i,e.item),i.stopPropagation()},editClick:i=>{t("editIcon",i,e.item),i.stopPropagation()},contentsClick:i=>{t("clickItem",i,e.item),i.stopPropagation()},translate:n}}}),xee={class:"nut-address-list-item__info"},Uee={class:"nut-address-list-item__info-contact"},zee={class:"nut-address-list-item__info-contact-name"},Hee={class:"nut-address-list-item__info-contact-tel"},qee={key:0,class:"nut-address-list-item__info-contact-default"},Wee={class:"nut-address-list-item__info-handle"},Kee={class:"nut-address-list-item__addr"};function Gee(e,t,n,r,o,s){const i=ue("Del"),a=ue("Edit");return y(),T("div",{class:"nut-address-list-item",onClick:t[0]||(t[0]=(...l)=>e.contentsClick&&e.contentsClick(...l))},[$("div",xee,[$("div",Uee,[U(e.$slots,"content-top",{},()=>[$("div",zee,x(e.item.addressName),1),$("div",Hee,x(e.item.phone),1),e.item.defaultAddress?(y(),T("div",qee,x(e.translate("default")),1)):j("",!0)])]),$("div",Wee,[U(e.$slots,"content-icon",{},()=>[X(i,{name:"del",class:"nut-address-list-item__info-handle-del",onClick:e.delClick},null,8,["onClick"]),X(a,{name:"edit",class:"nut-address-list-item__info-handle-edit",onClick:e.editClick},null,8,["onClick"])])])]),$("div",Kee,[U(e.$slots,"content-addr",{},()=>[Ie(x(e.item.fullAddress),1)])])])}const J0=Ne(jee,[["render",Gee]]),{create:Yee}=Oe("address-list-general"),Qee=Yee({props:{item:{type:Object,default:{}},longPress:{type:Boolean,default:!1},swipeEdition:{type:Boolean,default:!1}},emits:["delIcon","editIcon","clickItem","longDown","longCopy","longSet","longDel","swipeDel"],components:{ItemContents:J0,NutButton:Ur,NutSwipe:$p},setup(e,{emit:t}){const n=()=>Ct(J0,{item:e.item,onDelIcon(L){i(L)},onEditIcon(L){a(L)},onClickItem(L){l(L)}});let r=null;const o=H(!1),s=H(!1),i=L=>{t("delIcon",L,e.item),L.stopPropagation()},a=L=>{t("editIcon",L,e.item),L.stopPropagation()},l=L=>{o.value||(t("clickItem",L,e.item),L.stopPropagation())},u=L=>{t("longDel",L,e.item),L.stopPropagation()},c=L=>{r=0,s.value=!0,t("longDown",L,e.item)};return{renderCompontent:n,showMaskRef:s,clickItem:l,editClick:a,delClick:i,delLongClick:u,holddownstart:L=>{r=setTimeout(()=>{c(L)},300)},holddownmove:()=>{clearTimeout(r)},holddownend:()=>{clearTimeout(r)},copyCLick:L=>{t("longCopy",L,e.item),L.stopPropagation()},hideMaskClick:()=>{s.value=!1},setDefault:L=>{t("longSet",L,e.item),L.stopPropagation()},maskClick:L=>{r!=0&&(s.value=!1),L.stopPropagation(),L.preventDefault()},swipeDelClick:L=>{t("swipeDel",L,e.item),L.stopPropagation()},swipestart:()=>{o.value=!1},swipemove:()=>{o.value=!0}}}}),Xee={key:0,class:"nut-address-list-general"},Jee={class:"nut-address-list-swipe"};function Zee(e,t,n,r,o,s){const i=ue("nut-button"),a=ue("nut-swipe");return e.swipeEdition?(y(),ye(a,{key:1},{right:de(()=>[U(e.$slots,"swipe-right-btn",{},()=>[X(i,{shape:"square",style:{height:"100%"},type:"danger",onClick:e.swipeDelClick},{default:de(()=>[Ie("删除")]),_:1},8,["onClick"])])]),default:de(()=>[$("div",Jee,[(y(),ye(Yn(e.renderCompontent()),{onTouchmove:e.swipemove,onTouchstart:e.swipestart},{"content-top":de(()=>[U(e.$slots,"content-info")]),"content-icon":de(()=>[U(e.$slots,"content-icons")]),"content-addr":de(()=>[U(e.$slots,"content-addrs")]),_:3},40,["onTouchmove","onTouchstart"]))])]),_:3})):(y(),T("div",Xee,[(y(),ye(Yn(e.renderCompontent()),{onTouchstart:e.holddownstart,onTouchend:e.holddownend,onTouchmove:e.holddownmove},{"content-top":de(()=>[U(e.$slots,"content-info")]),"content-icon":de(()=>[U(e.$slots,"content-icons")]),"content-addr":de(()=>[U(e.$slots,"content-addrs")]),_:3},40,["onTouchstart","onTouchend","onTouchmove"])),e.longPress&&e.showMaskRef?(y(),T("div",{key:0,class:"nut-address-list-general__mask",onClick:t[3]||(t[3]=(...l)=>e.maskClick&&e.maskClick(...l))},[U(e.$slots,"longpress-all",{},()=>[$("div",{class:"nut-address-list-general__mask-copy",onClick:t[0]||(t[0]=(...l)=>e.copyCLick&&e.copyCLick(...l))}," 复制地址 "),$("div",{class:"nut-address-list-general__mask-set",onClick:t[1]||(t[1]=(...l)=>e.setDefault&&e.setDefault(...l))}," 设置默认 "),$("div",{class:"nut-address-list-general__mask-del",onClick:t[2]||(t[2]=(...l)=>e.delLongClick&&e.delLongClick(...l))}," 删除地址 ")])])):j("",!0),e.showMaskRef?(y(),T("div",{key:1,class:"nut-address-list__mask-bottom",onClick:t[4]||(t[4]=(...l)=>e.hideMaskClick&&e.hideMaskClick(...l))})):j("",!0)]))}const ete=Ne(Qee,[["render",Zee]]),{create:tte}=Oe("address-list"),nte="NutAddressList",rte=tte({props:{data:{type:Array,default:[]},longPress:{type:Boolean,default:!1},swipeEdition:{type:Boolean,default:!1},showBottomButton:{type:Boolean,default:!0},dataOptions:{type:Object,default:{}}},components:{GeneralShell:ete,NutButton:Ur},emits:["delIcon","editIcon","clickItem","longCopy","longSet","longDel","swipeDel","add"],setup(e,{emit:t}){const n=It(nte),r=H([]),o=qe({id:2,addressName:"姓名",phone:"123****4567",defaultAddress:!1,fullAddress:"北京市通州区测试测试测试测试测试测试测试测试测试"}),s=()=>{Object.keys(e.dataOptions).length>0&&(r.value=e.data.map(w=>ZR(o,w,e.dataOptions)))};ve(()=>e.data,()=>s(),{deep:!0});const i=(w,C)=>{t("delIcon",w,C),w.stopPropagation()},a=(w,C)=>{t("editIcon",w,C),w.stopPropagation()},l=(w,C)=>{t("clickItem",w,C),w.stopPropagation()},u=(w,C)=>{t("longCopy",w,C),w.stopPropagation()},c=(w,C)=>{t("longSet",w,C),w.stopPropagation()},f=(w,C)=>{t("longDel",w,C),w.stopPropagation()},h=(w,C)=>{t("swipeDel",w,C),w.stopPropagation()},m=w=>{t("add",w),w.stopPropagation()};return tt(()=>{s()}),{clickDelIcon:i,clickEditIcon:a,clickContentItem:l,clickLongCopy:u,clickLongSet:c,clickLongDel:f,clickSwipeDel:h,addAddress:m,dataArray:r,translate:n}}}),ote={class:"nut-address-list"};function ste(e,t,n,r,o,s){const i=ue("general-shell"),a=ue("nut-button");return y(),T("div",ote,[(y(!0),T(le,null,Re(e.dataArray,(l,u)=>(y(),ye(i,{key:u,item:l,"long-press":e.longPress,"swipe-edition":e.swipeEdition,onDelIcon:e.clickDelIcon,onEditIcon:e.clickEditIcon,onClickItem:e.clickContentItem,onSwipeDel:e.clickSwipeDel,onLongCopy:e.clickLongCopy,onLongSet:e.clickLongSet,onLongDel:e.clickLongDel},Aa({"content-info":de(()=>[U(e.$slots,"item-infos",{item:l})]),"content-icons":de(()=>[U(e.$slots,"item-icon",{item:l})]),"content-addrs":de(()=>[U(e.$slots,"item-addr",{item:l})]),_:2},[e.longPress?{name:"longpress-all",fn:de(()=>[U(e.$slots,"longpress-btns",{item:l})]),key:"0"}:void 0,e.swipeEdition?{name:"swipe-right-btn",fn:de(()=>[U(e.$slots,"swipe-right",{item:l})]),key:"1"}:void 0]),1032,["item","long-press","swipe-edition","onDelIcon","onEditIcon","onClickItem","onSwipeDel","onLongCopy","onLongSet","onLongDel"]))),128)),e.showBottomButton?(y(),T("div",{key:0,class:"nut-address-list__bottom",onClick:t[0]||(t[0]=(...l)=>e.addAddress&&e.addAddress(...l))},[X(a,{block:"",type:"danger"},{default:de(()=>[Ie(x(e.translate("addAddress")),1)]),_:1})])):j("",!0)])}const ite=Ne(rte,[["render",ste]]),{create:ate}=Oe("category"),lte=ate({props:{type:{type:String,default:"classify"},category:{type:Array,default:[]}},setup(e,{emit:t}){const n=H(0),r=H(!1);return{getChildList:s=>{n.value=s,t("change",s)},checkIndex:n,categoryLeft:r}}}),ute={class:"nut-category"},cte={class:"nut-category__cateList"},dte={key:0},fte=["onClick"];function hte(e,t,n,r,o,s){return y(),T("div",ute,[$("div",cte,[e.type=="classify"||e.type=="text"?(y(),T("div",dte,[(y(!0),T(le,null,Re(e.category,(i,a)=>(y(),T("div",{key:a,class:"nut-category__cateListLeft"},[$("div",{class:z([e.checkIndex==a?"nut-category__cateListItemChecked":"nut-category__cateListItem"]),onClick:l=>e.getChildList(a)},x(i.catName),11,fte)]))),128))])):j("",!0),U(e.$slots,"default")])])}const pte=Ne(lte,[["render",hte]]),{create:mte}=Oe("category-pane"),gte=mte({props:{type:{type:String,default:"classify"},categoryChild:{type:Array,default:()=>[]},customCategory:{type:Array,default:()=>[]}},setup(e,{emit:t}){return{onChange:r=>{t("onChange",r)}}}}),vte={class:"nut-category-pane"},yte={key:0,class:"nut-category-pane__cateListRight"},_te={class:"nut-category-pane__childTitle"},wte={key:0,class:"nut-category-pane__childItemList"},bte=["onClick"],$te=["src"],Tte={class:"nut-category-pane__skuImg"},Ste={key:1,class:"nut-category-pane__cateListRight"},Cte={class:"nut-category-pane__childTitle"},Ete={key:0,class:"nut-category-pane__childItemList"},Pte=["onClick"],Ite={class:"nut-category-pane__skuName"},kte={key:2,class:"nut-category-pane__selfItemList"},Ote=["onClick"];function Ate(e,t,n,r,o,s){return y(),T("div",vte,[e.type=="classify"?(y(),T("div",yte,[(y(!0),T(le,null,Re(e.categoryChild,(i,a)=>(y(),T("div",{key:a},[$("div",_te,x(i==null?void 0:i.catName),1),(i==null?void 0:i.catType)==1?(y(),T("div",wte,[(y(!0),T(le,null,Re(i.childCateList,(l,u)=>(y(),T("div",{key:u,class:"nut-category-pane__childItem",onClick:c=>e.onChange(l)},[$("img",{class:"nut-category-pane__childImg",src:l.backImg},null,8,$te),$("div",Tte,x(l==null?void 0:l.catName),1)],8,bte))),128))])):j("",!0)]))),128))])):j("",!0),e.type=="text"?(y(),T("div",Ste,[(y(!0),T(le,null,Re(e.categoryChild,(i,a)=>(y(),T("div",{key:a},[$("div",Cte,x(i==null?void 0:i.catName),1),(i==null?void 0:i.catType)==1?(y(),T("div",Ete,[(y(!0),T(le,null,Re(i.childCateList,(l,u)=>(y(),T("div",{key:u,class:"nut-category-pane__childItem",onClick:c=>e.onChange(l)},[$("div",Ite,x(l==null?void 0:l.catName),1)],8,Pte))),128))])):j("",!0)]))),128))])):j("",!0),e.type=="custom"?(y(),T("div",kte,[(y(!0),T(le,null,Re(e.customCategory,(i,a)=>(y(),T("div",{key:a,class:"nut-category-pane__skuName",onClick:l=>e.onChange(i)},x(i==null?void 0:i.catName),9,Ote))),128))])):j("",!0)])}const Dte=Ne(gte,[["render",Ate]]),{create:Rte}=Oe("comment-header"),Nte=Rte({components:{NutRate:vp},props:{type:{type:String,default:"default"},info:{type:Object,default:()=>{}},labels:{type:Function,default:()=>""}},emits:["handleClick"],setup(e,{emit:t}){return{handleClick:()=>{t("handleClick")}}}}),Vte={class:"nut-comment-header__user"},Lte={class:"nut-comment-header__user-avter"},Mte=["src"],Bte={class:"nut-comment-header__user-score"},Fte={key:0,class:"nut-comment-header__time"};function jte(e,t,n,r,o,s){const i=ue("nut-rate");return y(),T("view",null,[e.info?(y(),T("view",{key:0,class:"nut-comment-header",onClick:t[1]||(t[1]=(...a)=>e.handleClick&&e.handleClick(...a))},[$("view",Vte,[$("view",Lte,[e.info.avatar?(y(),T("img",{key:0,src:e.info.avatar},null,8,Mte)):j("",!0)]),e.type=="default"?(y(),T("view",{key:0,class:z([`nut-comment-header__user-${e.type}`])},[$("view",{class:z([`nut-comment-header__user-${e.type}-name`])},[$("span",null,x(e.info.nickName),1),U(e.$slots,"labels")],2),$("view",Bte,[X(i,{modelValue:e.info.score,"onUpdate:modelValue":t[0]||(t[0]=a=>e.info.score=a),size:"12",spacing:"5",readonly:"",onChange:e.handleClick},null,8,["modelValue","onChange"])])],2)):(y(),T("view",{key:1,class:z([`nut-comment-header__user-${e.type}`])},[$("span",{class:z([`nut-comment-header__user-${e.type}-name`])},x(e.info.nickName),3),U(e.$slots,"labels")],2))]),e.info.time?(y(),T("view",Fte,x(e.info.time),1)):j("",!0)])):j("",!0),e.type=="complex"?(y(),T("view",{key:1,class:z([`nut-comment-header__${e.type}-score`])},[X(i,{modelValue:e.info.score,"onUpdate:modelValue":t[2]||(t[2]=a=>e.info.score=a),size:"12",spacing:"3",readonly:""},null,8,["modelValue"]),$("i",{class:z([`nut-comment-header__${e.type}-score-i`])},null,2),$("view",{class:z([`nut-comment-header__${e.type}-score-size`])},x(e.info.size),3)],2)):j("",!0)])}const xte=Ne(Nte,[["render",jte]]),{create:Ute}=Oe("comment-images"),zte=Ute({props:{type:{type:String,default:"one"},videos:{type:Array,default:()=>[]},images:{type:Array,default:()=>[]}},components:{Right:up},emits:["click","clickImages"],setup(e,{emit:t}){const n=H(!1),r=H(1),o=H([]);return ve(()=>[e.videos,e.images],i=>{i[0].length>0&&i[0].forEach(a=>{a.type="video"}),o.value=i[0].concat(i[1])},{deep:!0}),tt(()=>{e.videos.length>0&&e.videos.forEach(i=>{i.type="video"}),o.value=e.videos.concat(e.images)}),{isShowImage:n,initIndex:r,showImages:(i,a)=>{const{videos:l,images:u}=e,c=i=="img"?a-l.length:a;t("clickImages",{type:i,index:c,value:i=="img"?u[c]:l[c]})},totalImages:o}}}),Hte=["onClick"],qte=["src"],Wte=$("view",{class:"nut-comment-images__play"},null,-1),Kte=["onClick"],Gte=["src"],Yte={key:0,class:"nut-comment-images__mask"};function Qte(e,t,n,r,o,s){const i=ue("Right");return y(),T("view",{class:z(`nut-comment-images nut-comment-images--${e.type}`)},[(y(!0),T(le,null,Re(e.videos,(a,l)=>(y(),T("view",{key:a.id,class:"nut-comment-images__item nut-comment-images__item--video",onClick:u=>e.showImages("video",l)},[$("img",{src:a.mainUrl},null,8,qte),Wte],8,Hte))),128)),(y(!0),T(le,null,Re(e.images,(a,l)=>(y(),T(le,{key:a.id},[e.type=="multi"&&e.videos.length+l<9||e.type!="multi"?(y(),T("view",{key:0,class:"nut-comment-images__item nut-comment-images__item--imgbox",onClick:u=>e.showImages("img",l+e.videos.length)},[$("img",{src:a.smallImgUrl?a.smallImgUrl:a.imgUrl},null,8,Gte),e.type=="multi"&&e.totalImages.length>9&&e.videos.length+l>7?(y(),T("view",Yte,[$("span",null,"共 "+x(e.totalImages.length)+" 张",1),X(i,{style:{width:"12px"}})])):j("",!0)],8,Kte)):j("",!0)],64))),128))],2)}const Xte=Ne(zte,[["render",Qte]]),{create:Jte}=Oe("comment-bottom"),Zte="NutComment",ene=Jte({props:{type:{type:String,default:"base"},info:{type:Object,default:()=>({})},operation:{type:Array,default:["replay","like","more"]}},components:{Fabulous:Y7,Comment:P7,MoreX:oD},emits:["clickOperate","handleClick"],setup(e,{emit:t}){const n=It(Zte),r=H(!1),o=H([]);return tt(()=>{const a=["replay","like","more"];e.operation&&e.operation.forEach(l=>{a.includes(l)&&o.value.push(l)})}),{showPopver:r,operate:a=>{a=="more"&&(r.value=!r.value),t("clickOperate",a)},mergeOp:o,handleClick:()=>{t("handleClick")},translate:n}}}),tne={class:"nut-comment-bottom"},nne={key:0},rne={class:"nut-comment-bottom__cpx"},one=["onClick"];function sne(e,t,n,r,o,s){const i=ue("Fabulous"),a=ue("Comment"),l=ue("MoreX");return y(),T("view",tne,[$("view",{class:"nut-comment-bottom__lable",onClick:t[0]||(t[0]=(...u)=>e.handleClick&&e.handleClick(...u))},[e.type!="complex"?(y(),T("span",nne,x(e.info.size),1)):j("",!0)]),$("view",rne,[(y(!0),T(le,null,Re(e.mergeOp,(u,c)=>(y(),T("view",{key:c,class:z(["nut-comment-bottom__cpx-item",`nut-comment-bottom__cpx-item--${u}`]),onClick:f=>e.operate(u)},[u!="more"?(y(),T(le,{key:0},[$("span",null,x(e.info[u]),1),u=="like"?(y(),ye(i,{key:0})):(y(),ye(a,{key:1}))],64)):j("",!0),u=="more"?(y(),T(le,{key:1},[X(l),e.showPopver?(y(),T("view",{key:0,class:"nut-comment-bottom__cpx-item-popover",onClick:t[1]||(t[1]=f=>e.operate("popover"))},x(e.translate("complaintsText")),1)):j("",!0)],64)):j("",!0)],10,one))),128))])])}const ine=Ne(ene,[["render",sne]]),{create:ane}=Oe("comment"),lne="NutComment",une=ane({props:{headerType:{type:String,default:"default"},imagesRows:{type:String,default:"one"},ellipsis:{type:[String,Number,Boolean],default:!1},videos:{type:Array,default:()=>[]},images:{type:Array,default:()=>[]},info:{type:Object,default:()=>({})},follow:{type:Object,default:()=>({})},labels:{type:Function,default:()=>""},operation:{type:Array,default:["replay","like","more"]}},components:{CommentHeader:xte,CommentImages:Xte,CommentBottom:ine,Right:up},emits:["click","clickImages","clickOperate"],setup(e,{emit:t}){const n=It(lne);return{conEllipsis:F(()=>e.ellipsis?e.ellipsis:e.headerType=="complex"?6:2),clickOperate:a=>{t("clickOperate",a)},handleClick:()=>{t("click",e.info)},clickImages:a=>{t("clickImages",a)},translate:n}}}),cne={key:0,class:"nut-comment"},dne=["innerHTML"],fne={class:"nut-comment__follow-title"},hne={class:"nut-comment__follow-com"};function pne(e,t,n,r,o,s){const i=ue("comment-header"),a=ue("comment-images"),l=ue("Right"),u=ue("comment-bottom");return e.info&&Object.keys(e.info)?(y(),T("view",cne,[X(i,{type:e.headerType,info:e.info,labels:e.labels,onHandleClick:e.handleClick},{labels:de(()=>[U(e.$slots,"comment-labels")]),_:3},8,["type","info","labels","onHandleClick"]),U(e.$slots,"feature"),$("view",{class:"nut-comment__main",style:W(`-webkit-line-clamp:${e.conEllipsis}`),onClick:t[0]||(t[0]=(...c)=>e.handleClick&&e.handleClick(...c)),innerHTML:e.info.content},null,12,dne),X(a,{images:e.images,videos:e.videos,type:e.imagesRows,onClickImages:e.clickImages},null,8,["images","videos","type","onClickImages"]),e.follow&&e.follow.days>0?(y(),T("view",{key:0,class:"nut-comment__follow",onClick:t[2]||(t[2]=(...c)=>e.handleClick&&e.handleClick(...c))},[$("view",fne,x(e.translate("additionalReview",e.follow.days)),1),$("view",hne,x(e.follow.content),1),e.follow.images&&e.follow.images.length>0?(y(),T("view",{key:0,class:"nut-comment__follow-img",onClick:t[1]||(t[1]=c=>e.clickImages(e.follow.images))},[Ie(x(e.translate("additionalImages",e.follow.images.length))+" ",1),X(l,{width:"12px"})])):j("",!0)])):j("",!0),X(u,{type:e.headerType,info:e.info,operation:e.operation,onClickOperate:e.clickOperate,onHandleClick:e.handleClick},null,8,["type","info","operation","onClickOperate","onHandleClick"]),U(e.$slots,"comment-shop-reply")])):j("",!0)}const mne=Ne(une,[["render",pne]]);var gne=Object.defineProperty,vne=Object.defineProperties,yne=Object.getOwnPropertyDescriptors,Z0=Object.getOwnPropertySymbols,_ne=Object.prototype.hasOwnProperty,wne=Object.prototype.propertyIsEnumerable,e_=(e,t,n)=>t in e?gne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bne=(e,t)=>{for(var n in t||(t={}))_ne.call(t,n)&&e_(e,n,t[n]);if(Z0)for(var n of Z0(t))wne.call(t,n)&&e_(e,n,t[n]);return e},$ne=(e,t)=>vne(e,yne(t));const Tne={class:"nut-invoice"},Sne={key:0,class:"nut-invoice__submit"},vT=Le($ne(bne({},{name:"NutInvoice"}),{__name:"invoice",props:{data:{default:()=>[]},formValue:{default:()=>{}},submit:{type:Boolean,default:!0}},emits:["submit","scrollBottom"],setup(e,{emit:t}){const n=t,r=H(),o=()=>{r.value.validate().then(({valid:s,errors:i})=>{n("submit",s,i)})};return(s,i)=>(y(),T("div",Tne,[X(Ae(wp),{ref_key:"formRef",ref:r,"model-value":s.formValue},{default:de(()=>[(y(!0),T(le,null,Re(s.data,(a,l)=>(y(),ye(Ae(bp),{key:l,label:a.label,required:a.required,rules:a.rules,prop:a.formItemProp},{default:de(()=>[a.type==="radio"?(y(),ye(Ae(gp),{key:0,modelValue:s.formValue[a.formItemProp],"onUpdate:modelValue":u=>s.formValue[a.formItemProp]=u},{default:de(()=>[(y(!0),T(le,null,Re(a.radioLabel,(u,c)=>(y(),ye(Ae(mp),{key:c,shape:"button",label:u.label},{default:de(()=>[Ie(x(u.label),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):(y(),ye(Ae(pp),{key:1,modelValue:s.formValue[a.formItemProp],"onUpdate:modelValue":u=>s.formValue[a.formItemProp]=u,class:"nut-input-text",placeholder:a.placeholder,type:"text"},null,8,["modelValue","onUpdate:modelValue","placeholder"]))]),_:2},1032,["label","required","rules","prop"]))),128))]),_:1},8,["model-value"]),s.submit?(y(),T("div",Sne,[X(Ae(Ur),{type:"primary",block:"",onClick:o},{default:de(()=>[Ie("提交审批")]),_:1})])):j("",!0)]))}}));et(vT);var Cne=Object.defineProperty,Ene=Object.defineProperties,Pne=Object.getOwnPropertyDescriptors,t_=Object.getOwnPropertySymbols,Ine=Object.prototype.hasOwnProperty,kne=Object.prototype.propertyIsEnumerable,n_=Math.pow,r_=(e,t,n)=>t in e?Cne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cd=(e,t)=>{for(var n in t||(t={}))Ine.call(t,n)&&r_(e,n,t[n]);if(t_)for(var n of t_(t))kne.call(t,n)&&r_(e,n,t[n]);return e},One=(e,t)=>Ene(e,Pne(t)),Ane=(e,t,n)=>new Promise((r,o)=>{var s=l=>{try{a(n.next(l))}catch(u){o(u)}},i=l=>{try{a(n.throw(l))}catch(u){o(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,i);a((n=n.apply(e,t)).next())});const{create:Dne}=Oe("avatar-cropper"),Rne=Dne({components:{NutButton:Ur,Refresh2:ND,Retweet:FD},props:{maxZoom:{type:Number,default:3},space:{type:Number,default:10},toolbarPosition:{type:String,default:"bottom"},editText:{type:String,default:"编辑"},cancelText:{type:String,default:"取消"},confirmText:{type:String,default:"确定"},shape:{type:String,default:"square"}},emits:["confirm","cancel"],setup(e,{emit:t,expose:n}){const r=qe({visible:!1,defScale:1,scale:1,angle:0,moveX:0,moveY:0,moving:!1,zooming:!1,displayWidth:0,displayHeight:0}),o={img:new Image,sx:0,sy:0,swidth:0,sheight:0,x:0,y:0,width:0,height:0},s=H(Cd({},o)),i=H(),a=H(),l=H(),u=window.devicePixelRatio||1,c=fo(),f=F(()=>r.angle===90||r.angle===270),h=F(()=>{const{swidth:ie}=s.value,Te=ie/u+"px";return{width:Te,height:Te}}),m=F(()=>{const{displayWidth:ie,scale:Te}=r,{swidth:Pe,height:ke}=s.value;return f.value?Math.max(0,(ke*Te-Pe)/2):Math.max(0,(ie*Te-Pe)/2)}),w=F(()=>{const{displayWidth:ie,scale:Te}=r,{swidth:Pe,height:ke}=s.value;return f.value?Math.max(0,(ie*Te-Pe)/2):Math.max(0,(ke*Te-Pe)/2)}),C=ie=>new Promise(Te=>{const Pe=new FileReader;Pe.onloadend=ke=>Te(ke.target.result),Pe.readAsDataURL(ie)}),p=ie=>new Promise(Te=>{const Pe=new Image;Pe.onload=()=>Te(Pe),Pe.src=ie}),g=()=>{const{img:ie,width:Te,height:Pe,x:ke,y:xe,swidth:vt}=s.value,{moveX:ee,moveY:pe,scale:q}=r,te=a.value;if(!te)return;const se=te.getContext("2d");te.width=r.displayWidth,te.height=r.displayHeight,se.clearRect(0,0,te.width,te.height),se.fillStyle="#666",se.fillRect(0,0,te.width,te.height),se.fillStyle="#000",se.fillRect(e.space*u,(te.height-vt)/2,vt,vt),se.translate(te.width/2+ee,te.height/2+pe),se.rotate(Math.PI/180*r.angle),se.scale(q,q),se.drawImage(ie,ke,xe,Te,Pe)},b=ie=>{const Te=gr(i.value),{width:Pe,height:ke}=Te,xe=r.displayWidth=Pe*u,vt=r.displayHeight=ke*u;let ee=Cd({},o);const{width:pe,height:q}=ie;ee.img=ie;const te=q>pe,se=te?pe/q:q/pe;ee.width=xe,ee.height=te?xe/se:xe*se,ee.x=-ee.width/2,ee.y=-ee.height/2,ee.swidth=xe-e.space*2*u,ee.sheight=te?ee.swidth/se:ee.swidth*se,ee.sx=e.space*u,ee.sy=(vt-ee.swidth)/2,s.value=ee,r.defScale=ee.swidth/(te?ee.width:ee.height),A()},O=ie=>Ane(this,null,function*(){r.visible=!0;const Te=ie.target;let{files:Pe}=Te;if(!(Pe!=null&&Pe.length))return;const ke=yield C(Pe[0]),xe=yield p(ke);b(xe),g()}),A=()=>{L(r.defScale),r.moveX=0,r.moveY=0,r.angle=0},L=ie=>{ie=Kn(ie,.3,+e.maxZoom+1),ie!==r.scale&&(r.scale=ie)},N=ie=>Math.sqrt(n_(ie[0].clientX-ie[1].clientX,2)+n_(ie[0].clientY-ie[1].clientY,2));let I,S,_,P,k;const R=ie=>{const{touches:Te}=ie,{offsetX:Pe}=c;c.start(ie),k=Te.length,I=r.moveX,S=r.moveY,r.moving=k===1,r.zooming=k===2&&!Pe.value,r.zooming&&(_=r.scale,P=N(ie.touches))},D=ie=>{const{touches:Te}=ie;if(c.move(ie),(r.moving||r.zooming)&&fi(ie,!0),r.moving){const{deltaX:Pe,deltaY:ke}=c,xe=Pe.value*r.scale+I,vt=ke.value*r.scale+S;r.moveX=Kn(xe,-m.value,m.value),r.moveY=Kn(vt,-w.value,w.value)}if(r.zooming&&Te.length===2){const Pe=N(Te),ke=_*Pe/P;L(ke)}},oe=ie=>{let Te=!1;(r.moving||r.zooming)&&(Te=!(r.moving&&I===r.moveX&&S===r.moveY),ie.touches.length||(r.zooming&&(r.moveX=Kn(r.moveX,-m.value,m.value),r.moveY=Kn(r.moveY,-w.value,w.value),r.zooming=!1),r.moving=!1,I=0,S=0,_=r.defScale,r.scale<r.defScale&&A(),r.scale>e.maxZoom&&(r.scale=+e.maxZoom))),fi(ie,Te),c.reset()},J=()=>{r.angle=0},Q=()=>{if(r.angle===270){r.angle=0;return}r.angle+=90},K=(ie=!0)=>{r.visible=!1,A(),l.value.value="",ie&&t("cancel")},re=()=>{const ie=a.value,{sx:Te,sy:Pe,swidth:ke}=s.value,xe=ke,vt=ke,ee=document.createElement("canvas"),pe=ee.getContext("2d");ee.width=xe,ee.height=vt,ie&&pe.drawImage(ie,Te,Pe,xe,vt,0,0,xe,vt);const q=ee.toDataURL("image/png");t("confirm",q),K(!1)};return ve(()=>r.scale,()=>{g()}),ve(()=>r.angle,()=>{Math.abs(r.moveX)>m.value&&(r.moveX=m.value),Math.abs(r.moveY)>w.value&&(r.moveY=w.value),g()}),ve(()=>r.moveX,()=>{g()}),ve(()=>r.moveY,()=>{g()}),n({cancel:K,reset:J,rotate:Q,confirm:re}),One(Cd({},rt(r)),{cropperPopupRef:i,canvasRef:a,inputImageRef:l,highlightStyle:h,inputImageChange:O,reset:J,rotate:Q,cancel:K,confirm:re,onTouchStart:R,onTouchMove:D,onTouchEnd:oe})}}),Nne=["data-edit-text"],Vne={ref:"cropperPopupRef",class:"nut-cropper-popup"},Lne={ref:"canvasRef",class:"nut-cropper-popup__canvas"},Mne={key:1,class:"flex-sb"};function Bne(e,t,n,r,o,s){const i=ue("nut-button"),a=ue("Refresh2"),l=ue("Retweet");return y(),T(le,null,[$("div",{class:z(["nut-avatar-cropper",{round:e.shape==="round"}]),"data-edit-text":e.editText},[U(e.$slots,"default"),$("input",{ref:"inputImageRef",type:"file",accept:"image/*",class:"nut-avatar-cropper__input",onChange:t[0]||(t[0]=(...u)=>e.inputImageChange&&e.inputImageChange(...u))},null,544)],10,Nne),ct($("div",Vne,[$("canvas",Lne,null,512),$("div",{class:"nut-cropper-popup__highlight",onTouchstart:t[1]||(t[1]=(...u)=>e.onTouchStart&&e.onTouchStart(...u)),onTouchmove:t[2]||(t[2]=(...u)=>e.onTouchMove&&e.onTouchMove(...u)),onTouchend:t[3]||(t[3]=(...u)=>e.onTouchEnd&&e.onTouchEnd(...u)),onTouchcancel:t[4]||(t[4]=(...u)=>e.onTouchEnd&&e.onTouchEnd(...u))},[$("div",{class:z(["highlight",{highlight__round:e.shape==="round"}]),style:W(e.highlightStyle)},null,6)],32),$("div",{class:z(["nut-cropper-popup__toolbar",[e.toolbarPosition]])},[e.$slots.toolbar?U(e.$slots,"toolbar",{key:0}):(y(),T("div",Mne,[$("div",{class:"nut-cropper-popup__toolbar-item",onClick:t[5]||(t[5]=u=>e.cancel())},[X(i,{type:"danger"},{default:de(()=>[Ie(x(e.cancelText),1)]),_:1})]),$("div",{class:"nut-cropper-popup__toolbar-item",onClick:t[6]||(t[6]=(...u)=>e.reset&&e.reset(...u))},[X(a,{color:"#fff"})]),$("div",{class:"nut-cropper-popup__toolbar-item",onClick:t[7]||(t[7]=(...u)=>e.rotate&&e.rotate(...u))},[X(l,{color:"#fff"})]),$("div",{class:"nut-cropper-popup__toolbar-item",onClick:t[8]||(t[8]=(...u)=>e.confirm&&e.confirm(...u))},[X(i,{type:"success"},{default:de(()=>[Ie(x(e.confirmText),1)]),_:1})])]))],2)],512),[[jt,e.visible]])],64)}const Fne=Ne(Rne,[["render",Bne]]);function jne(e){[Ur,dp,fp,rl,Hn,bN,n4,r4,s4,i4,u4,c4,f4,h4,PV,p4,rL,dL,$L,w4,b4,$4,SM,S4,C4,E4,yB,SB,BB,O4,yF,MF,hj,V4,zj,Wj,Tx,Tc,pp,mp,gp,vp,B4,kU,j4,gz,Nz,wp,bp,$p,H4,IH,q4,FH,Tp,_q,Dq,Sc,G4,tW,_W,AW,Sp,BW,QW,_p,X4,EK,J4,Z4,tT,nT,oT,sT,Cc,oY,vY,lT,hp,Cp,uT,cT,fT,hT,zQ,pT,dX,mT,gT,qX,bJ,EJ,xJ,ZJ,dZ,EZ,fee,Cee,Mee,ite,pte,Dte,mne,vT,Fne].forEach(n=>{n.install?e.use(n):n.name&&e.component(n.name,n)})}const xne="4.3.13",Une={install:jne,version:xne};/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const qs=typeof document<"u";function yT(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function zne(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&yT(e.default)}const $t=Object.assign;function Ed(e,t){const n={};for(const r in t){const o=t[r];n[r]=Ir(o)?o.map(e):e(o)}return n}const ba=()=>{},Ir=Array.isArray,_T=/#/g,Hne=/&/g,qne=/\//g,Wne=/=/g,Kne=/\?/g,wT=/\+/g,Gne=/%5B/g,Yne=/%5D/g,bT=/%5E/g,Qne=/%60/g,$T=/%7B/g,Xne=/%7C/g,TT=/%7D/g,Jne=/%20/g;function Ep(e){return encodeURI(""+e).replace(Xne,"|").replace(Gne,"[").replace(Yne,"]")}function Zne(e){return Ep(e).replace($T,"{").replace(TT,"}").replace(bT,"^")}function Rf(e){return Ep(e).replace(wT,"%2B").replace(Jne,"+").replace(_T,"%23").replace(Hne,"%26").replace(Qne,"`").replace($T,"{").replace(TT,"}").replace(bT,"^")}function ere(e){return Rf(e).replace(Wne,"%3D")}function tre(e){return Ep(e).replace(_T,"%23").replace(Kne,"%3F")}function nre(e){return e==null?"":tre(e).replace(qne,"%2F")}function za(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const rre=/\/$/,ore=e=>e.replace(rre,"");function Pd(e,t,n="/"){let r,o={},s="",i="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),o=e(s)),a>-1&&(r=r||t.slice(0,a),i=t.slice(a,t.length)),r=lre(r??t,n),{fullPath:r+(s&&"?")+s+i,path:r,query:o,hash:za(i)}}function sre(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function o_(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function ire(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&pi(t.matched[r],n.matched[o])&&ST(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function pi(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function ST(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!are(e[n],t[n]))return!1;return!0}function are(e,t){return Ir(e)?s_(e,t):Ir(t)?s_(t,e):e===t}function s_(e,t){return Ir(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function lre(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),o=r[r.length-1];(o===".."||o===".")&&r.push("");let s=n.length-1,i,a;for(i=0;i<r.length;i++)if(a=r[i],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(i).join("/")}const wo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ha;(function(e){e.pop="pop",e.push="push"})(Ha||(Ha={}));var $a;(function(e){e.back="back",e.forward="forward",e.unknown=""})($a||($a={}));function ure(e){if(!e)if(qs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),ore(e)}const cre=/^[^#]+#/;function dre(e,t){return e.replace(cre,"#")+t}function fre(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Ec=()=>({left:window.scrollX,top:window.scrollY});function hre(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=fre(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function i_(e,t){return(history.state?history.state.position-t:-1)+e}const Nf=new Map;function pre(e,t){Nf.set(e,t)}function mre(e){const t=Nf.get(e);return Nf.delete(e),t}let gre=()=>location.protocol+"//"+location.host;function CT(e,t){const{pathname:n,search:r,hash:o}=t,s=e.indexOf("#");if(s>-1){let a=o.includes(e.slice(s))?e.slice(s).length:1,l=o.slice(a);return l[0]!=="/"&&(l="/"+l),o_(l,"")}return o_(n,e)+r+o}function vre(e,t,n,r){let o=[],s=[],i=null;const a=({state:h})=>{const m=CT(e,location),w=n.value,C=t.value;let p=0;if(h){if(n.value=m,t.value=h,i&&i===w){i=null;return}p=C?h.position-C.position:0}else r(m);o.forEach(g=>{g(n.value,w,{delta:p,type:Ha.pop,direction:p?p>0?$a.forward:$a.back:$a.unknown})})};function l(){i=n.value}function u(h){o.push(h);const m=()=>{const w=o.indexOf(h);w>-1&&o.splice(w,1)};return s.push(m),m}function c(){const{history:h}=window;h.state&&h.replaceState($t({},h.state,{scroll:Ec()}),"")}function f(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function a_(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?Ec():null}}function yre(e){const{history:t,location:n}=window,r={value:CT(e,n)},o={value:t.state};o.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const f=e.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:gre()+e+l;try{t[c?"replaceState":"pushState"](u,"",h),o.value=u}catch(m){console.error(m),n[c?"replace":"assign"](h)}}function i(l,u){const c=$t({},t.state,a_(o.value.back,l,o.value.forward,!0),u,{position:o.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=$t({},o.value,t.state,{forward:l,scroll:Ec()});s(c.current,c,!0);const f=$t({},a_(r.value,l,null),{position:c.position+1},u);s(l,f,!1),r.value=l}return{location:r,state:o,push:a,replace:i}}function _re(e){e=ure(e);const t=yre(e),n=vre(e,t.state,t.location,t.replace);function r(s,i=!0){i||n.pauseListeners(),history.go(s)}const o=$t({location:"",base:e,go:r,createHref:dre.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function wre(e){return typeof e=="string"||e&&typeof e=="object"}function ET(e){return typeof e=="string"||typeof e=="symbol"}const PT=Symbol("");var l_;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(l_||(l_={}));function mi(e,t){return $t(new Error,{type:e,[PT]:!0},t)}function Qr(e,t){return e instanceof Error&&PT in e&&(t==null||!!(e.type&t))}const u_="[^/]+?",bre={sensitive:!1,strict:!1,start:!0,end:!0},$re=/[.+*?^${}()[\]/\\]/g;function Tre(e,t){const n=$t({},bre,t),r=[];let o=n.start?"^":"";const s=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(o+="/");for(let f=0;f<u.length;f++){const h=u[f];let m=40+(n.sensitive?.25:0);if(h.type===0)f||(o+="/"),o+=h.value.replace($re,"\\$&"),m+=40;else if(h.type===1){const{value:w,repeatable:C,optional:p,regexp:g}=h;s.push({name:w,repeatable:C,optional:p});const b=g||u_;if(b!==u_){m+=10;try{new RegExp(`(${b})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${w}" (${b}): `+A.message)}}let O=C?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;f||(O=p&&u.length<2?`(?:/${O})`:"/"+O),p&&(O+="?"),o+=O,m+=20,p&&(m+=-8),C&&(m+=-20),b===".*"&&(m+=-50)}c.push(m)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const i=new RegExp(o,n.sensitive?"":"i");function a(u){const c=u.match(i),f={};if(!c)return null;for(let h=1;h<c.length;h++){const m=c[h]||"",w=s[h-1];f[w.name]=m&&w.repeatable?m.split("/"):m}return f}function l(u){let c="",f=!1;for(const h of e){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const m of h)if(m.type===0)c+=m.value;else if(m.type===1){const{value:w,repeatable:C,optional:p}=m,g=w in u?u[w]:"";if(Ir(g)&&!C)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const b=Ir(g)?g.join("/"):g;if(!b)if(p)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${w}"`);c+=b}}return c||"/"}return{re:i,score:r,keys:s,parse:a,stringify:l}}function Sre(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function IT(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const s=Sre(r[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-r.length)===1){if(c_(r))return 1;if(c_(o))return-1}return o.length-r.length}function c_(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Cre={type:0,value:""},Ere=/[a-zA-Z0-9_]/;function Pre(e){if(!e)return[[]];if(e==="/")return[[Cre]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${u}": ${m}`)}let n=0,r=n;const o=[];let s;function i(){s&&o.push(s),s=[]}let a=0,l,u="",c="";function f(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&f(),i()):l===":"?(f(),n=1):h();break;case 4:h(),n=r;break;case 1:l==="("?n=2:Ere.test(l)?h():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),f(),i(),o}function Ire(e,t,n){const r=Tre(Pre(e.path),n),o=$t(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function kre(e,t){const n=[],r=new Map;t=p_({strict:!1,end:!0,sensitive:!1},t);function o(f){return r.get(f)}function s(f,h,m){const w=!m,C=f_(f);C.aliasOf=m&&m.record;const p=p_(t,f),g=[C];if("alias"in f){const A=typeof f.alias=="string"?[f.alias]:f.alias;for(const L of A)g.push(f_($t({},C,{components:m?m.record.components:C.components,path:L,aliasOf:m?m.record:C})))}let b,O;for(const A of g){const{path:L}=A;if(h&&L[0]!=="/"){const N=h.record.path,I=N[N.length-1]==="/"?"":"/";A.path=h.record.path+(L&&I+L)}if(b=Ire(A,h,p),m?m.alias.push(b):(O=O||b,O!==b&&O.alias.push(b),w&&f.name&&!h_(b)&&i(f.name)),kT(b)&&l(b),C.children){const N=C.children;for(let I=0;I<N.length;I++)s(N[I],b,m&&m.children[I])}m=m||b}return O?()=>{i(O)}:ba}function i(f){if(ET(f)){const h=r.get(f);h&&(r.delete(f),n.splice(n.indexOf(h),1),h.children.forEach(i),h.alias.forEach(i))}else{const h=n.indexOf(f);h>-1&&(n.splice(h,1),f.record.name&&r.delete(f.record.name),f.children.forEach(i),f.alias.forEach(i))}}function a(){return n}function l(f){const h=Dre(f,n);n.splice(h,0,f),f.record.name&&!h_(f)&&r.set(f.record.name,f)}function u(f,h){let m,w={},C,p;if("name"in f&&f.name){if(m=r.get(f.name),!m)throw mi(1,{location:f});p=m.record.name,w=$t(d_(h.params,m.keys.filter(O=>!O.optional).concat(m.parent?m.parent.keys.filter(O=>O.optional):[]).map(O=>O.name)),f.params&&d_(f.params,m.keys.map(O=>O.name))),C=m.stringify(w)}else if(f.path!=null)C=f.path,m=n.find(O=>O.re.test(C)),m&&(w=m.parse(C),p=m.record.name);else{if(m=h.name?r.get(h.name):n.find(O=>O.re.test(h.path)),!m)throw mi(1,{location:f,currentLocation:h});p=m.record.name,w=$t({},h.params,f.params),C=m.stringify(w)}const g=[];let b=m;for(;b;)g.unshift(b.record),b=b.parent;return{name:p,path:C,params:w,matched:g,meta:Are(g)}}e.forEach(f=>s(f));function c(){n.length=0,r.clear()}return{addRoute:s,resolve:u,removeRoute:i,clearRoutes:c,getRoutes:a,getRecordMatcher:o}}function d_(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function f_(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Ore(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Ore(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function h_(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Are(e){return e.reduce((t,n)=>$t(t,n.meta),{})}function p_(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Dre(e,t){let n=0,r=t.length;for(;n!==r;){const s=n+r>>1;IT(e,t[s])<0?r=s:n=s+1}const o=Rre(e);return o&&(r=t.lastIndexOf(o,r-1)),r}function Rre(e){let t=e;for(;t=t.parent;)if(kT(t)&&IT(e,t)===0)return t}function kT({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Nre(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const s=r[o].replace(wT," "),i=s.indexOf("="),a=za(i<0?s:s.slice(0,i)),l=i<0?null:za(s.slice(i+1));if(a in t){let u=t[a];Ir(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function m_(e){let t="";for(let n in e){const r=e[n];if(n=ere(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Ir(r)?r.map(s=>s&&Rf(s)):[r&&Rf(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function Vre(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Ir(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const Lre=Symbol(""),g_=Symbol(""),Pc=Symbol(""),OT=Symbol(""),Vf=Symbol("");function Ji(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Eo(e,t,n,r,o,s=i=>i()){const i=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const u=h=>{h===!1?l(mi(4,{from:n,to:t})):h instanceof Error?l(h):wre(h)?l(mi(2,{from:t,to:h})):(i&&r.enterCallbacks[o]===i&&typeof h=="function"&&i.push(h),a())},c=s(()=>e.call(r&&r.instances[o],t,n,u));let f=Promise.resolve(c);e.length<3&&(f=f.then(u)),f.catch(h=>l(h))})}function Id(e,t,n,r,o=s=>s()){const s=[];for(const i of e)for(const a in i.components){let l=i.components[a];if(!(t!=="beforeRouteEnter"&&!i.instances[a]))if(yT(l)){const c=(l.__vccOpts||l)[t];c&&s.push(Eo(c,n,r,i,a,o))}else{let u=l();s.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${i.path}"`);const f=zne(c)?c.default:c;i.mods[a]=c,i.components[a]=f;const m=(f.__vccOpts||f)[t];return m&&Eo(m,n,r,i,a,o)()}))}}return s}function v_(e){const t=Lt(Pc),n=Lt(OT),r=F(()=>{const l=Ae(e.to);return t.resolve(l)}),o=F(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],f=n.matched;if(!c||!f.length)return-1;const h=f.findIndex(pi.bind(null,c));if(h>-1)return h;const m=y_(l[u-2]);return u>1&&y_(c)===m&&f[f.length-1].path!==m?f.findIndex(pi.bind(null,l[u-2])):h}),s=F(()=>o.value>-1&&jre(n.params,r.value.params)),i=F(()=>o.value>-1&&o.value===n.matched.length-1&&ST(n.params,r.value.params));function a(l={}){return Fre(l)?t[Ae(e.replace)?"replace":"push"](Ae(e.to)).catch(ba):Promise.resolve()}return{route:r,href:F(()=>r.value.href),isActive:s,isExactActive:i,navigate:a}}const Mre=Le({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:v_,setup(e,{slots:t}){const n=qe(v_(e)),{options:r}=Lt(Pc),o=F(()=>({[__(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[__(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:Ct("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),Bre=Mre;function Fre(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function jre(e,t){for(const n in t){const r=t[n],o=e[n];if(typeof r=="string"){if(r!==o)return!1}else if(!Ir(o)||o.length!==r.length||r.some((s,i)=>s!==o[i]))return!1}return!0}function y_(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const __=(e,t,n)=>e??t??n,xre=Le({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Lt(Vf),o=F(()=>e.route||r.value),s=Lt(g_,0),i=F(()=>{let u=Ae(s);const{matched:c}=o.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),a=F(()=>o.value.matched[i.value]);hn(g_,F(()=>i.value+1)),hn(Lre,a),hn(Vf,o);const l=H();return ve(()=>[l.value,a.value,e.name],([u,c,f],[h,m,w])=>{c&&(c.instances[f]=u,m&&m!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=m.leaveGuards),c.updateGuards.size||(c.updateGuards=m.updateGuards))),u&&c&&(!m||!pi(c,m)||!h)&&(c.enterCallbacks[f]||[]).forEach(C=>C(u))},{flush:"post"}),()=>{const u=o.value,c=e.name,f=a.value,h=f&&f.components[c];if(!h)return w_(n.default,{Component:h,route:u});const m=f.props[c],w=m?m===!0?u.params:typeof m=="function"?m(u):m:null,p=Ct(h,$t({},w,t,{onVnodeUnmounted:g=>{g.component.isUnmounted&&(f.instances[c]=null)},ref:l}));return w_(n.default,{Component:p,route:u})||p}}});function w_(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const AT=xre;function Ure(e){const t=kre(e.routes,e),n=e.parseQuery||Nre,r=e.stringifyQuery||m_,o=e.history,s=Ji(),i=Ji(),a=Ji(),l=rC(wo);let u=wo;qs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Ed.bind(null,q=>""+q),f=Ed.bind(null,nre),h=Ed.bind(null,za);function m(q,te){let se,_e;return ET(q)?(se=t.getRecordMatcher(q),_e=te):_e=q,t.addRoute(_e,se)}function w(q){const te=t.getRecordMatcher(q);te&&t.removeRoute(te)}function C(){return t.getRoutes().map(q=>q.record)}function p(q){return!!t.getRecordMatcher(q)}function g(q,te){if(te=$t({},te||l.value),typeof q=="string"){const B=Pd(n,q,te.path),Y=t.resolve({path:B.path},te),ae=o.createHref(B.fullPath);return $t(B,Y,{params:h(Y.params),hash:za(B.hash),redirectedFrom:void 0,href:ae})}let se;if(q.path!=null)se=$t({},q,{path:Pd(n,q.path,te.path).path});else{const B=$t({},q.params);for(const Y in B)B[Y]==null&&delete B[Y];se=$t({},q,{params:f(B)}),te.params=f(te.params)}const _e=t.resolve(se,te),Ke=q.hash||"";_e.params=c(h(_e.params));const nt=sre(r,$t({},q,{hash:Zne(Ke),path:_e.path})),M=o.createHref(nt);return $t({fullPath:nt,hash:Ke,query:r===m_?Vre(q.query):q.query||{}},_e,{redirectedFrom:void 0,href:M})}function b(q){return typeof q=="string"?Pd(n,q,l.value.path):$t({},q)}function O(q,te){if(u!==q)return mi(8,{from:te,to:q})}function A(q){return I(q)}function L(q){return A($t(b(q),{replace:!0}))}function N(q){const te=q.matched[q.matched.length-1];if(te&&te.redirect){const{redirect:se}=te;let _e=typeof se=="function"?se(q):se;return typeof _e=="string"&&(_e=_e.includes("?")||_e.includes("#")?_e=b(_e):{path:_e},_e.params={}),$t({query:q.query,hash:q.hash,params:_e.path!=null?{}:q.params},_e)}}function I(q,te){const se=u=g(q),_e=l.value,Ke=q.state,nt=q.force,M=q.replace===!0,B=N(se);if(B)return I($t(b(B),{state:typeof B=="object"?$t({},Ke,B.state):Ke,force:nt,replace:M}),te||se);const Y=se;Y.redirectedFrom=te;let ae;return!nt&&ire(r,_e,se)&&(ae=mi(16,{to:Y,from:_e}),Pe(_e,_e,!0,!1)),(ae?Promise.resolve(ae):P(Y,_e)).catch(ne=>Qr(ne)?Qr(ne,2)?ne:Te(ne):re(ne,Y,_e)).then(ne=>{if(ne){if(Qr(ne,2))return I($t({replace:M},b(ne.to),{state:typeof ne.to=="object"?$t({},Ke,ne.to.state):Ke,force:nt}),te||Y)}else ne=R(Y,_e,!0,M,Ke);return k(Y,_e,ne),ne})}function S(q,te){const se=O(q,te);return se?Promise.reject(se):Promise.resolve()}function _(q){const te=vt.values().next().value;return te&&typeof te.runWithContext=="function"?te.runWithContext(q):q()}function P(q,te){let se;const[_e,Ke,nt]=zre(q,te);se=Id(_e.reverse(),"beforeRouteLeave",q,te);for(const B of _e)B.leaveGuards.forEach(Y=>{se.push(Eo(Y,q,te))});const M=S.bind(null,q,te);return se.push(M),pe(se).then(()=>{se=[];for(const B of s.list())se.push(Eo(B,q,te));return se.push(M),pe(se)}).then(()=>{se=Id(Ke,"beforeRouteUpdate",q,te);for(const B of Ke)B.updateGuards.forEach(Y=>{se.push(Eo(Y,q,te))});return se.push(M),pe(se)}).then(()=>{se=[];for(const B of nt)if(B.beforeEnter)if(Ir(B.beforeEnter))for(const Y of B.beforeEnter)se.push(Eo(Y,q,te));else se.push(Eo(B.beforeEnter,q,te));return se.push(M),pe(se)}).then(()=>(q.matched.forEach(B=>B.enterCallbacks={}),se=Id(nt,"beforeRouteEnter",q,te,_),se.push(M),pe(se))).then(()=>{se=[];for(const B of i.list())se.push(Eo(B,q,te));return se.push(M),pe(se)}).catch(B=>Qr(B,8)?B:Promise.reject(B))}function k(q,te,se){a.list().forEach(_e=>_(()=>_e(q,te,se)))}function R(q,te,se,_e,Ke){const nt=O(q,te);if(nt)return nt;const M=te===wo,B=qs?history.state:{};se&&(_e||M?o.replace(q.fullPath,$t({scroll:M&&B&&B.scroll},Ke)):o.push(q.fullPath,Ke)),l.value=q,Pe(q,te,se,M),Te()}let D;function oe(){D||(D=o.listen((q,te,se)=>{if(!ee.listening)return;const _e=g(q),Ke=N(_e);if(Ke){I($t(Ke,{replace:!0}),_e).catch(ba);return}u=_e;const nt=l.value;qs&&pre(i_(nt.fullPath,se.delta),Ec()),P(_e,nt).catch(M=>Qr(M,12)?M:Qr(M,2)?(I(M.to,_e).then(B=>{Qr(B,20)&&!se.delta&&se.type===Ha.pop&&o.go(-1,!1)}).catch(ba),Promise.reject()):(se.delta&&o.go(-se.delta,!1),re(M,_e,nt))).then(M=>{M=M||R(_e,nt,!1),M&&(se.delta&&!Qr(M,8)?o.go(-se.delta,!1):se.type===Ha.pop&&Qr(M,20)&&o.go(-1,!1)),k(_e,nt,M)}).catch(ba)}))}let J=Ji(),Q=Ji(),K;function re(q,te,se){Te(q);const _e=Q.list();return _e.length?_e.forEach(Ke=>Ke(q,te,se)):console.error(q),Promise.reject(q)}function ie(){return K&&l.value!==wo?Promise.resolve():new Promise((q,te)=>{J.add([q,te])})}function Te(q){return K||(K=!q,oe(),J.list().forEach(([te,se])=>q?se(q):te()),J.reset()),q}function Pe(q,te,se,_e){const{scrollBehavior:Ke}=e;if(!qs||!Ke)return Promise.resolve();const nt=!se&&mre(i_(q.fullPath,0))||(_e||!se)&&history.state&&history.state.scroll||null;return Et().then(()=>Ke(q,te,nt)).then(M=>M&&hre(M)).catch(M=>re(M,q,te))}const ke=q=>o.go(q);let xe;const vt=new Set,ee={currentRoute:l,listening:!0,addRoute:m,removeRoute:w,clearRoutes:t.clearRoutes,hasRoute:p,getRoutes:C,resolve:g,options:e,push:A,replace:L,go:ke,back:()=>ke(-1),forward:()=>ke(1),beforeEach:s.add,beforeResolve:i.add,afterEach:a.add,onError:Q.add,isReady:ie,install(q){const te=this;q.component("RouterLink",Bre),q.component("RouterView",AT),q.config.globalProperties.$router=te,Object.defineProperty(q.config.globalProperties,"$route",{enumerable:!0,get:()=>Ae(l)}),qs&&!xe&&l.value===wo&&(xe=!0,A(o.location).catch(Ke=>{}));const se={};for(const Ke in wo)Object.defineProperty(se,Ke,{get:()=>l.value[Ke],enumerable:!0});q.provide(Pc,te),q.provide(OT,$w(se)),q.provide(Vf,l);const _e=q.unmount;vt.add(q),q.unmount=function(){vt.delete(q),vt.size<1&&(u=wo,D&&D(),D=null,l.value=wo,xe=!1,K=!1),_e()}}};function pe(q){return q.reduce((te,se)=>te.then(()=>_(se)),Promise.resolve())}return ee}function zre(e,t){const n=[],r=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let i=0;i<s;i++){const a=t.matched[i];a&&(e.matched.find(u=>pi(u,a))?r.push(a):n.push(a));const l=e.matched[i];l&&(t.matched.find(u=>pi(u,l))||o.push(l))}return[n,r,o]}function Ic(){return Lt(Pc)}const Hre=Le({__name:"App",setup(e){return(t,n)=>(y(),T("div",null,[X(Ae(AT))]))}}),DT=Eb("productTabs",()=>{const e=H(1),t=H("甜點");return{selectedButtonIndex:e,selectedButtonText:t,setSelectedButton:(r,o)=>{e.value=r,t.value=o}}}),qre={class:"box"},Wre={class:"btn-box"},Kre=Le({__name:"ProductTabs",setup(e){const t=["再點一次","甜點"],n=DT(),r=(i,a)=>{n.setSelectedButton(i,a)},o=Ic(),s=()=>{o.push({name:"Settings"})};return(i,a)=>{const l=ue("nut-button");return y(),T("div",qre,[$("div",Wre,[X(l,{type:"primary",onClick:s},{default:de(()=>a[0]||(a[0]=[Ie("設定")])),_:1}),X(l,{type:"primary"},{default:de(()=>a[1]||(a[1]=[Ie("公告")])),_:1}),(y(),T(le,null,Re(t,(u,c)=>X(l,{key:c,type:"primary",class:z({active:Ae(n).selectedButtonIndex===c}),onClick:f=>r(c,u)},{default:de(()=>[Ie(x(u),1)]),_:2},1032,["class","onClick"])),64))])])}}}),Jn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},Gre=Jn(Kre,[["__scopeId","data-v-6ff50f0f"]]),kc=Eb("order",{state:()=>({items:[]}),getters:{itemsWithAddonsSummary:e=>e.items.map(t=>({...t,addonsSummary:kd(t.addons)})),subtotal:e=>e.items.reduce((t,n)=>t+n.price*n.quantity,0)},actions:{addItem(e){const t=kd(e.addons),n=b_(e.addons),r=this.items.find(o=>o.id!==e.id?!1:b_(o.addons)===n);r?r.quantity+=e.quantity:this.items.push({...e,addonsSummary:t})},updateItemQuantity(e,t,n){const r=kd(n),o=this.items.find(s=>s.id===e&&s.addonsSummary===r);o?(o.quantity=t,o.quantity<=0&&this.removeItem(e,r)):this.items.push({id:e,name:"商品名稱",price:0,quantity:t,addons:n,addonsSummary:r})},removeItem(e,t){this.items=this.items.filter(n=>n.id!==e||n.addonsSummary!==t)},clearOrder(){this.items=[]}}});function b_(e){return Object.keys(e).sort().map(n=>{const o=e[n].slice().sort((s,i)=>s.name.localeCompare(i.name)).map(s=>`${s.name}-${s.price}-${s.default}`).join(",");return`${n}:[${o}]`}).join(";")}function kd(e){const t=[];for(const n in e){const r=e[n];r.length>0&&t.push(`${n}：${r.map(o=>o.name).join("、")}`)}return t.join(" / ")}const Yre={key:0,class:"img-box"},Qre=["src"],Xre=Le({__name:"CardImg",props:{productImg:{type:String,required:!1}},emits:["load"],setup(e,{emit:t}){const n=t,r=H(!0),o=()=>{r.value=!1,n("load")};return(s,i)=>(y(),T(le,null,[i[0]||(i[0]=$("div",{class:"img-box"},[$("img",{class:"skeleton"})],-1)),e.productImg?(y(),T("div",Yre,[$("img",{onLoad:o,src:e.productImg,alt:""},null,40,Qre)])):j("",!0)],64))}}),$_=Jn(Xre,[["__scopeId","data-v-2f8543ea"]]),Jre={class:"name-box"},Zre={class:"price-box"},eoe={key:0,class:"product-card-badge"},toe={key:0,class:"product-card-box skeleton-box"},noe={class:"dialog-box"},roe={class:"dialog-content-box"},ooe={class:"dialog-scroll-box"},soe={class:"dialog-img-box"},ioe=["src"],aoe={class:"dialog-info-box"},loe={class:"dialog-title-box"},uoe=["innerHTML"],coe={class:"dialog-product-price-box"},doe={key:0,class:"dialog-product-addons-box"},foe={class:"group-title-box"},hoe={class:"group-title"},poe={class:"addon-option"},moe={class:"title"},goe=["type","value","name","onUpdate:modelValue"],voe={key:0,class:"custom-checkbox"},yoe={key:1,class:"custom-radio"},_oe={key:0,class:"addon-price"},woe={class:"dialog-btn-box"},boe={class:"dialog-num-box"},$oe={class:"dialog-add-order-box"},Toe={class:"dialog-add-order-btn"},Soe=Le({__name:"ProductCard",props:{productId:{type:String,required:!0},productImg:{type:String,required:!0},productName:{type:String,required:!0},productPrice:{type:Number,required:!0},cartQuantity:{type:Number,required:!0},contentHtml:{type:String,required:!0},addChoose:{type:Array,required:!0}},setup(e){const t=H(!0),n=H(!0),r=kc(),o=e,s=H(1),i=H(!1),a=()=>o.addChoose.reduce((m,w)=>{if(w.multiple)m[w.title]=w.options.filter(C=>C.default);else{const C=w.options.find(p=>p.default);m[w.title]=C?[C]:[]}return m},{}),l=H(a()),u=F(()=>{let m=0;for(const w in l.value){const C=l.value[w];C.length>0&&(m+=C.reduce((p,g)=>p+g.price,0))}return(o.productPrice+m)*parseInt(s.value,10)}),c=()=>{i.value=!0,s.value=1,l.value=a(),n.value=!0},f=()=>{i.value=!1},h=()=>{r.addItem({id:o.productId,name:o.productName,price:u.value,quantity:parseInt(s.value,10),addons:l.value,img:o.productImg}),f()};return(m,w)=>{const C=ue("nut-button"),p=ue("nut-input-number"),g=ue("nut-dialog");return y(),T(le,null,[ct($("div",{class:"product-card-box",onClick:c},[X($_,{onLoad:w[0]||(w[0]=b=>t.value=!1),productImg:e.productImg},null,8,["productImg"]),$("div",Jre,[$("span",null,x(e.productName),1)]),$("div",Zre,[w[4]||(w[4]=$("span",{class:"currency-symbol"},"$",-1)),Ie(x(e.productPrice),1)]),e.cartQuantity>0?(y(),T("span",eoe,x(e.cartQuantity),1)):j("",!0)],512),[[jt,!t.value]]),t.value?(y(),T("div",toe,[X($_),w[5]||(w[5]=$("div",{class:"name-box"},[$("span",{class:"skeleton-text"})],-1)),w[6]||(w[6]=$("div",{class:"price-box"},[$("span",{class:"skeleton-text small"})],-1))])):j("",!0),$("div",noe,[X(g,{"no-footer":!0,visible:i.value,"onUpdate:visible":w[3]||(w[3]=b=>i.value=b),"custom-class":"dialog"},{default:de(()=>[$("div",roe,[$("div",null,[X(C,{class:"dialog-back-btn",type:"default",onClick:f},{icon:de(()=>[X(Ae(Y$),{color:"white",width:"10px"})]),_:1})]),$("div",ooe,[$("div",soe,[$("img",{class:z({skeleton:n.value}),onLoad:w[1]||(w[1]=b=>n.value=!1),src:e.productImg,alt:""},null,42,ioe)]),$("div",aoe,[$("div",loe,[$("div",null,x(e.productName),1)]),$("div",{class:"dialog-product-content-box",innerHTML:e.contentHtml},null,8,uoe),$("div",coe,[w[7]||(w[7]=$("span",{class:"currency-symbol"},"NT$",-1)),Ie(x(e.productPrice),1)]),(y(!0),T(le,null,Re(e.addChoose,(b,O)=>(y(),T(le,{key:O},[b.options.length?(y(),T("div",doe,[$("div",foe,[$("h3",hoe,"選擇"+x(b.title),1)]),(y(!0),T(le,null,Re(b.options,A=>(y(),T("div",{class:"addons-options",key:A.name},[$("label",poe,[$("div",moe,[ct($("input",{type:b.multiple?"checkbox":"radio",value:A,name:b.title,"onUpdate:modelValue":L=>l.value[b.title]=L},null,8,goe),[[yb,l.value[b.title]]]),b.multiple?(y(),T("span",voe)):j("",!0),b.multiple?j("",!0):(y(),T("span",yoe)),$("span",null,x(A.name),1)]),A.price>0?(y(),T("span",_oe,"+NT$"+x(A.price),1)):j("",!0)])]))),128))])):j("",!0)],64))),128))]),$("div",woe,[$("div",boe,[X(p,{modelValue:s.value,"onUpdate:modelValue":w[2]||(w[2]=b=>s.value=b),"button-size":30,"input-width":50,readonly:""},null,8,["modelValue"])]),$("div",$oe,[X(C,{size:"large",type:"primary",onClick:h},{default:de(()=>[$("span",Toe,[w[9]||(w[9]=Ie(" 選好了 ")),$("span",null,[w[8]||(w[8]=$("span",{class:"currency-symbol"},"$",-1)),$("span",null,x(u.value),1)])])]),_:1})])])])])]),_:1},8,["visible"])])],64)}}}),Coe=Jn(Soe,[["__scopeId","data-v-126aa1db"]]),Eoe={class:"product-list-box"},Poe={class:"list-box"},Ioe=Le({__name:"ProductList",setup(e){const t=H([]),n=async i=>{const a=Ru(Nu,i);return await q$(a)};(async()=>{try{const i=wf(di,"products"),a=await E$(i),l=await Promise.all(a.docs.map(async u=>{const c=u.data(),f=await n(c.imgName);return{id:u.id,...c,img:f}}));t.value=l,console.log("產品列表已更新：",t.value)}catch(i){console.error("獲取產品列表失敗：",i)}})();const o=kc(),s=i=>o.items.filter(a=>a.id===i).reduce((a,l)=>a+l.quantity,0);return DT(),(i,a)=>(y(),T("div",Eoe,[a[0]||(a[0]=$("div",{class:"title"},null,-1)),$("div",Poe,[(y(!0),T(le,null,Re(t.value,(l,u)=>(y(),ye(Coe,{class:"product-card",key:u,productId:l.id,productImg:l.img,productName:l.name,productPrice:l.price,cartQuantity:s(l.id),contentHtml:l.htmlStr,addChoose:l.choose},null,8,["productId","productImg","productName","productPrice","cartQuantity","contentHtml","addChoose"]))),128))])]))}}),koe=Jn(Ioe,[["__scopeId","data-v-f5dadb31"]]);var vn=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},xn={searchParams:"URLSearchParams"in vn,iterable:"Symbol"in vn&&"iterator"in Symbol,blob:"FileReader"in vn&&"Blob"in vn&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in vn,arrayBuffer:"ArrayBuffer"in vn};function Ooe(e){return e&&DataView.prototype.isPrototypeOf(e)}if(xn.arrayBuffer)var Aoe=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Doe=ArrayBuffer.isView||function(e){return e&&Aoe.indexOf(Object.prototype.toString.call(e))>-1};function Ii(e){if(typeof e!="string"&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e==="")throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function Pp(e){return typeof e!="string"&&(e=String(e)),e}function Ip(e){var t={next:function(){var n=e.shift();return{done:n===void 0,value:n}}};return xn.iterable&&(t[Symbol.iterator]=function(){return t}),t}function un(e){this.map={},e instanceof un?e.forEach(function(t,n){this.append(n,t)},this):Array.isArray(e)?e.forEach(function(t){if(t.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+t.length);this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}un.prototype.append=function(e,t){e=Ii(e),t=Pp(t);var n=this.map[e];this.map[e]=n?n+", "+t:t};un.prototype.delete=function(e){delete this.map[Ii(e)]};un.prototype.get=function(e){return e=Ii(e),this.has(e)?this.map[e]:null};un.prototype.has=function(e){return this.map.hasOwnProperty(Ii(e))};un.prototype.set=function(e,t){this.map[Ii(e)]=Pp(t)};un.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)};un.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),Ip(e)};un.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),Ip(e)};un.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),Ip(e)};xn.iterable&&(un.prototype[Symbol.iterator]=un.prototype.entries);function Od(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}}function RT(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function Roe(e){var t=new FileReader,n=RT(t);return t.readAsArrayBuffer(e),n}function Noe(e){var t=new FileReader,n=RT(t),r=/charset=([A-Za-z0-9_-]+)/.exec(e.type),o=r?r[1]:"utf-8";return t.readAsText(e,o),n}function Voe(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function T_(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function NT(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e=="string"?this._bodyText=e:xn.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:xn.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:xn.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():xn.arrayBuffer&&xn.blob&&Ooe(e)?(this._bodyArrayBuffer=T_(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):xn.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||Doe(e))?this._bodyArrayBuffer=T_(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):xn.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},xn.blob&&(this.blob=function(){var e=Od(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=Od(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(xn.blob)return this.blob().then(Roe);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var e=Od(this);if(e)return e;if(this._bodyBlob)return Noe(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Voe(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},xn.formData&&(this.formData=function(){return this.text().then(Boe)}),this.json=function(){return this.text().then(JSON.parse)},this}var Loe=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function Moe(e){var t=e.toUpperCase();return Loe.indexOf(t)>-1?t:e}function Es(e,t){if(!(this instanceof Es))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var n=t.body;if(e instanceof Es){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new un(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!n&&e._bodyInit!=null&&(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new un(t.headers)),this.method=Moe(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in vn){var s=new AbortController;return s.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),(this.method==="GET"||this.method==="HEAD")&&(t.cache==="no-store"||t.cache==="no-cache")){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+new Date().getTime());else{var o=/\?/;this.url+=(o.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Es.prototype.clone=function(){return new Es(this,{body:this._bodyInit})};function Boe(e){var t=new FormData;return e.trim().split("&").forEach(function(n){if(n){var r=n.split("="),o=r.shift().replace(/\+/g," "),s=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(s))}}),t}function Foe(e){var t=new un,n=e.replace(/\r?\n[\t ]+/g," ");return n.split("\r").map(function(r){return r.indexOf(`
`)===0?r.substr(1,r.length):r}).forEach(function(r){var o=r.split(":"),s=o.shift().trim();if(s){var i=o.join(":").trim();try{t.append(s,i)}catch(a){console.warn("Response "+a.message)}}}),t}NT.call(Es.prototype);function xr(e,t){if(!(this instanceof xr))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===void 0?"":""+t.statusText,this.headers=new un(t.headers),this.url=t.url||"",this._initBody(e)}NT.call(xr.prototype);xr.prototype.clone=function(){return new xr(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new un(this.headers),url:this.url})};xr.error=function(){var e=new xr(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var joe=[301,302,303,307,308];xr.redirect=function(e,t){if(joe.indexOf(t)===-1)throw new RangeError("Invalid status code");return new xr(null,{status:t,headers:{location:e}})};var ls=vn.DOMException;try{new ls}catch{ls=function(t,n){this.message=t,this.name=n;var r=Error(t);this.stack=r.stack},ls.prototype=Object.create(Error.prototype),ls.prototype.constructor=ls}function VT(e,t){return new Promise(function(n,r){var o=new Es(e,t);if(o.signal&&o.signal.aborted)return r(new ls("Aborted","AbortError"));var s=new XMLHttpRequest;function i(){s.abort()}s.onload=function(){var u={statusText:s.statusText,headers:Foe(s.getAllResponseHeaders()||"")};o.url.indexOf("file://")===0&&(s.status<200||s.status>599)?u.status=200:u.status=s.status,u.url="responseURL"in s?s.responseURL:u.headers.get("X-Request-URL");var c="response"in s?s.response:s.responseText;setTimeout(function(){n(new xr(c,u))},0)},s.onerror=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},s.ontimeout=function(){setTimeout(function(){r(new TypeError("Network request timed out"))},0)},s.onabort=function(){setTimeout(function(){r(new ls("Aborted","AbortError"))},0)};function a(u){try{return u===""&&vn.location.href?vn.location.href:u}catch{return u}}if(s.open(o.method,a(o.url),!0),o.credentials==="include"?s.withCredentials=!0:o.credentials==="omit"&&(s.withCredentials=!1),"responseType"in s&&(xn.blob?s.responseType="blob":xn.arrayBuffer&&(s.responseType="arraybuffer")),t&&typeof t.headers=="object"&&!(t.headers instanceof un||vn.Headers&&t.headers instanceof vn.Headers)){var l=[];Object.getOwnPropertyNames(t.headers).forEach(function(u){l.push(Ii(u)),s.setRequestHeader(u,Pp(t.headers[u]))}),o.headers.forEach(function(u,c){l.indexOf(c)===-1&&s.setRequestHeader(c,u)})}else o.headers.forEach(function(u,c){s.setRequestHeader(c,u)});o.signal&&(o.signal.addEventListener("abort",i),s.onreadystatechange=function(){s.readyState===4&&o.signal.removeEventListener("abort",i)}),s.send(typeof o._bodyInit>"u"?null:o._bodyInit)})}VT.polyfill=!0;vn.fetch||(vn.fetch=VT,vn.Headers=un,vn.Request=Es,vn.Response=xr);var Lf=function(e,t){return Lf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Lf(e,t)};function at(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Lf(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ft=function(){return Ft=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ft.apply(this,arguments)};function Ce(e,t,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(c){try{u(r.next(c))}catch(f){i(f)}}function l(c){try{u(r.throw(c))}catch(f){i(f)}}function u(c){c.done?s(c.value):o(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function Ee(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(s=u[0]&2?o.return:u[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,u[1])).done)return s;switch(o=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],o=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function sl(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bt(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s}function Tr(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function xoe(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var us;(function(e){e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR"})(us||(us={}));var Uoe=function(){function e(t){t===void 0&&(t=us.INFO),this.logLevel=t,this._debug=console.debug,this._info=console.info,this._warn=console.warn,this._error=console.error}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.logLevel<=us.DEBUG&&(t.unshift("[DEBUG]"),this._debug.apply(this,Tr([],Bt(t),!1)))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.logLevel<=us.INFO&&(t.unshift("[INFO]"),this._info.apply(this,Tr([],Bt(t),!1)))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.logLevel<=us.WARN&&(t.unshift("[WARN]"),this._warn.apply(this,Tr([],Bt(t),!1)))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.logLevel<=us.ERROR&&(t.unshift("[ERROR]"),this._error.apply(this,Tr([],Bt(t),!1)))},e}(),_t=new Uoe(3),zoe=function(e,t){this._driver=e,this.liff=t,this.hooks=this._driver.hooks,this.internalHooks=this._driver.internalHooks},Hoe=function(e,t){this._driver=e,this.liff=t,this.hooks=this._driver.hooks},qoe=function(){function e(t,n){this.pluginCtx=new Hoe(t,n),this.moduleCtx=new zoe(t,n)}return Object.defineProperty(e.prototype,"pluginContext",{get:function(){return this.pluginCtx},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"moduleContext",{get:function(){return this.moduleCtx},enumerable:!1,configurable:!0}),e}(),Woe=function(){function e(){this.modules=new Map,this.hooks={},this.internalHooks={}}return e.prototype.addModule=function(t,n){this.modules.set(t,n),n.hooks&&(this.hooks[t]=Object.entries(n.hooks).reduce(function(r,o){var s,i=Bt(o,2),a=i[0],l=i[1];return Ft(Ft({},r),((s={})[a]=l.on.bind(l),s))},{})),"internalHooks"in n&&n.internalHooks&&(this.internalHooks[t]=Object.entries(n.internalHooks).reduce(function(r,o){var s,i=Bt(o,2),a=i[0],l=i[1];return Ft(Ft({},r),((s={})[a]=l.on.bind(l),s))},{}))},e.prototype.hasModule=function(t){return this.modules.has(t)},e}(),st=function(){},S_=function(e){return e instanceof st},LT=function(e){function t(n,r,o){var s=e.call(this)||this;return s.driver=n,s.contextHolder=r,s.option=o,s}return at(t,e),t.prototype.install=function(){return this.factory(this.driver,this.contextHolder)},Object.defineProperty(t.prototype,"name",{get:function(){return"use"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultOption",{get:function(){return{namespacePrefix:"$"}},enumerable:!1,configurable:!0}),t.prototype.factory=function(n,r){var o=Object.assign({},this.defaultOption,this.option).namespacePrefix;return function(s,i){if(!s||typeof s.install!="function"||typeof s.name!="string")return _t.warn("To install the plugin, you need to define the `name` property and the `install` method."),this;var a=S_(s)?s.name:"".concat(o).concat(s.name);if(n.hasModule(a))return this;var l=S_(s)?s.install.call(s,r.moduleContext,i):s.install.call(s,r.pluginContext,i);return this["".concat(a)]?(_t.warn("There is a duplicate plugin name. `".concat(a,"` plugin namespace will be override.")),this["".concat(a)]=l):l!==void 0&&(this["".concat(a)]=l),n.addModule(a,s),this}},t}(st),MT,Koe=new Promise(function(e){MT=e}),Gn="UNKNOWN",_n="UNAUTHORIZED",Ut="INVALID_ARGUMENT",en="INIT_FAILED",Tt="FORBIDDEN",Hr="INVALID_CONFIG",os="INVALID_ID_TOKEN",Mf="CREATE_SUBWINDOW_FAILED",Bf="EXCEPTION_IN_SUBWINDOW",BT="liffEvent",kr="LIFF_STORE",ju="https://liff.".concat("line.me","/"),Ff="https://miniapp.".concat("line.me","/"),ft={ACCESS_TOKEN:"accessToken",ID_TOKEN:"IDToken",DECODED_ID_TOKEN:"decodedIDToken",FEATURE_TOKEN:"featureToken",LOGIN_TMP:"loginTmp",CONFIG:"config",CONTEXT:"context",EXPIRES:"expires",RAW_CONTEXT:"rawContext",CLIENT_ID:"clientId",IS_SUBSEQUENT_LIFF_APP:"isSubsequentLiffApp",MST_CHALLENGE:"mstChallenge",MSIT:"msit",MST:"mst",MST_VERIFIER:"mstVerifier",APP_DATA:"appData"},C_="isInClient",kp=["context_token","feature_token","access_token","id_token","client_id","mst_verifier","mst_challenge","msit"],Goe=5,Yoe=["liff.ref.source","liff.ref.medium","liff.ref.campaign","liff.ref.term","liff.ref.content"],Qoe="liff://subwindow",St={INIT:"init",SUBMIT:"submit",CANCEL:"cancel",CLOSE:"close",ERROR:"error"},Xoe=100,FT=100,jT="liff.subwindow",xu="healthCheck",Joe=["profile","chat_message.write","openid","email"];function E_(e){return window.atob(e.replace(/-/g,"+").replace(/_/g,"/"))}var Ad={decode:E_,encode:function(e){return window.btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},decodeUnicode:function(e){var t=E_(e).split("").map(function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join("");return decodeURIComponent(t)}};function vr(e,t){if(e===t)return 0;for(var n=e.split("."),r=t.split("."),o=Math.max(n.length,r.length),s=0;s<o;s++){n[s]||(n[s]="0"),r[s]||(r[s]="0");var i=parseInt(n[s])-parseInt(r[s]);if(i!==0)return i>0?1:-1}return 0}function P_(e){var t=e.replace("#","").match(/.{2}/g)||[];if(t.length!==4)return _t.warn("convertArgbToRgba: Received invalid ARGB color"),"";var n=function(i){var a=fs(i);return Math.round(a/255*100)/100}(t[0]),r=fs(t[1]),o=fs(t[2]),s=fs(t[3]);return"rgba(".concat(r,", ").concat(o,", ").concat(s,", ").concat(n,")")}function fs(e){return parseInt(e,16)}function I_(e){var t=e.replace("#","").match(/.{2}/g)||[];if(t.length!==3)return _t.warn("convertArgbToRgba: Received invalid hex color"),"";var n=fs(t[0]),r=fs(t[1]),o=fs(t[2]);return"".concat(n,", ").concat(r,", ").concat(o)}function k_(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}var Op={get:function(e){var t=new RegExp("(?:(?:^|.*;\\s*)".concat(e,"\\s*\\=\\s*([^;]*).*$)|^.*$"));return document.cookie.replace(t,"$1")},set:function(e,t,n){var r=e+"="+t;if(n)for(var o in n){var s=n[o]?"=".concat(n[o]):"";r+="; ".concat(o).concat(s)}_t.debug("set cookie",r),document.cookie=r},remove:function(e,t){var n="".concat(e,"=; expires=Thu, 01 Jan 1970 00:00:00 GMT");if(t)for(var r in t)n+="; ".concat(r,"=").concat(t[r]);document.cookie=n}},Zoe=new Set(["400","401","403","404","429","500"]),xT=function(e){function t(n,r,o){var s=e.call(this,r,o)||this;return s.code=n,s}return at(t,e),t}(Error);function fe(e,t,n){return n!=null&&n.cause&&console.error("This is the cause of LiffError described below.",n.cause),new xT(e,t||"",n||{})}function Ap(e){var t=e.match(/([^-]+)-[^-]+/);return t&&t[1]}function ese(e){var t="";return e.replace(/\r|\n/g,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ").forEach(function(n){t+=String.fromCharCode(parseInt(n))}),window.btoa(t)}var UT=function(){function e(){this.map={}}return e.prototype.clear=function(){this.map={}},e.prototype.getItem=function(t){var n=this.map[t];return n===void 0?null:n},e.prototype.setItem=function(t,n){this.map[t]=n},e.prototype.removeItem=function(t){delete this.map[t]},e.prototype.key=function(t){var n=Object.keys(this.map)[t];return n===void 0?null:n},Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.map).length},enumerable:!1,configurable:!0}),e}(),Dd,Rn={parse:function(e){return e.replace(/^\?/,"").replace(/^#\/?/,"").split(/&+/).filter(function(t){return t.length>0}).reduce(function(t,n){var r=Bt(n.split("=").map(decodeURIComponent),2),o=r[0],s=r[1],i=t[o];return Array.isArray(i)?i.push(s):Object.prototype.hasOwnProperty.call(t,o)?t[o]=[i,s]:t[o]=s,t},{})},stringify:function(e){return Object.keys(e).map(function(t){var n=e[t],r=function(o){return o!==void 0?"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(o)):encodeURIComponent(t)};return Array.isArray(n)?n.map(function(o){return r(o)}).join("&"):r(n)}).join("&")}},O_="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function tse(){return window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967296}function gi(e){for(var t="",n=0;n<e;n++)t+=O_[Math.floor(tse()*O_.length)];return t}function zT(e){var t=new URL(e),n=t.hash.slice(1).split("&").filter(function(r){return!kp.some(function(o){return r.startsWith("".concat(o,"="))})}).join("&");return t.hash=n,t.toString()}function nse(e){var t=new URL(e);return t.toString().replace(new RegExp(String.raw(A_||(A_=xoe(["^",""],["^",""])),t.origin)),"")}var rse=function(e){var t=nse(zT(e));window.history.replaceState(history.state,"",t)};function qa(e,t){if(!e)throw new Error("addParamsToUrl: invalid URL");var n=new URL(e);return Object.entries(t).forEach(function(r){var o=Bt(r,2),s=o[0],i=o[1];n.searchParams.set(s,i)}),n.toString()}var A_,D_=((Dd={})[ju]=function(){var e=R_(ju);return new RegExp("^".concat(e,"(\\d+-\\w+)"))},Dd[Ff]=function(){var e=R_(Ff);return new RegExp("^".concat(e,"((\\d+-\\w+)|(\\w+$))"))},Dd);function Dp(e){for(var t in D_){var n=e.match(D_[t]());if(n)return n[1]}return null}function R_(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ose(e){var t=e.match(/^(https?:\/\/.*?)\//);return t&&t[1]||""}function jf(e){return e.startsWith("line:")}function Rp(e){return e===void 0&&(e=window.navigator.userAgent),/ipad/.test(e.toLowerCase())}function HT(e){return e===void 0&&(e=window.navigator.userAgent),/Line\/\d+\.\d+\.\d+/.test(e)}function qT(e){return e===void 0&&(e=window.navigator.userAgent),/Line\/\d+\.\d+\.\d+ LIFF/.test(e)}function sse(e){return e===void 0&&(e=window.navigator.userAgent),/LIFF\/SubWindow/.test(e)}var WT=function(){return typeof window>"u"},jl=null;function wt(){return jl===null&&(jl=qT()||HT()&&/[#|&]access_token=/.test(location.hash)||sessionStorage.getItem("".concat(kr,":").concat(C_))==="1",sessionStorage.setItem("".concat(kr,":").concat(C_),jl?"1":"0")),!!jl}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"isInClient"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return wt()}},t})(st);function Qt(){var e;return(e=window.__liffConfig)!==null&&e!==void 0?e:{}}function ise(e){window.__liffConfig=e}function ase(e,t){if(!t)throw fe(Hr,"liffId is necessary for liff.init()");var n=(wt()?sessionStorage:localStorage).getItem("".concat(kr,":").concat(t,":").concat(e));try{return n===null?null:JSON.parse(n)}catch{return null}}function Zn(e){return ase(e,Qt().liffId)}function ar(e,t){var n=Qt().liffId;if(!n)throw fe(Hr,"liffId is necessary for liff.init()");(wt()?sessionStorage:localStorage).setItem("".concat(kr,":").concat(n,":").concat(e),JSON.stringify(t))}function bn(){return Zn(ft.CONTEXT)}function Np(e){ar(ft.CONTEXT,e)}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"getContext"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return bn()}},t})(st);function KT(){return((bn()||{}).d||{}).aId}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"getAId"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return KT()}},t})(st);function GT(){return((bn()||{}).d||{}).autoplay||!1}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"getIsVideoAutoPlay"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return GT()}},t})(st);function YT(){return(bn()||{}).profilePlus}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"getProfilePlus"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return YT()}},t})(st);function lse(){return!!Zn(ft.IS_SUBSEQUENT_LIFF_APP)}function use(e){ar(ft.IS_SUBSEQUENT_LIFF_APP,e)}function cse(){return Zn(ft.APP_DATA)}function xf(e){ar(ft.APP_DATA,e)}function dse(){return Zn(ft.MST_VERIFIER)}function fse(e){ar(ft.MST_VERIFIER,e)}function hse(){return Zn(ft.MSIT)}function pse(e){ar(ft.MSIT,e)}function Oc(){return Zn(ft.MST)}function mse(e){ar(ft.MST,e)}function QT(){return Zn(ft.MST_CHALLENGE)}function gse(e){ar(ft.MST_CHALLENGE,e)}function vse(){return Zn(ft.CLIENT_ID)}function XT(e){ar(ft.CLIENT_ID,e)}function yse(){return Zn(ft.RAW_CONTEXT)}function il(){return Zn(ft.FEATURE_TOKEN)}function N_(e){ar(ft.FEATURE_TOKEN,e)}function Ac(){return Zn(ft.ID_TOKEN)}function JT(e){ar(ft.ID_TOKEN,e)}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"getIDToken"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Ac()}},t})(st);function ho(){return Zn(ft.ACCESS_TOKEN)}function Vp(e){ar(ft.ACCESS_TOKEN,e)}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"getAccessToken"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return ho()}},t})(st);function ZT(e){var t=Qt().liffId;if(!t)throw fe(Hr,"liffId is necessary for liff.init()");(wt()?sessionStorage:localStorage).removeItem("".concat(kr,":").concat(t,":").concat(e))}function eS(){return Zn(ft.LOGIN_TMP)}function _se(e){ar(ft.LOGIN_TMP,e)}function V_(){ZT(ft.LOGIN_TMP)}function tS(e){var t=Qt();Op.set("".concat(kr,":").concat(ft.EXPIRES,":").concat(t.liffId),e.getTime(),{expires:e.toUTCString(),path:"/",secure:null})}function wse(){var e=Qt();return Op.get("".concat(kr,":").concat(ft.EXPIRES,":").concat(e.liffId))}function bse(){var e=Qt();Op.remove("".concat(kr,":").concat(ft.EXPIRES,":").concat(e.liffId),{path:"/"})}function Dc(){return Zn(ft.DECODED_ID_TOKEN)}function nS(e){ar(ft.DECODED_ID_TOKEN,e)}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"getDecodedIDToken"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Dc()}},t})(st);function $se(){Object.keys(ft).forEach(function(e){ZT(ft[e])}),bse()}function Nn(){return!!ho()}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"isLoggedIn"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Nn()}},t})(st);function Rc(){return"2.25.0"}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"getVersion"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return"2.25.0"}},t})(st);var Tse=function(){function e(){}return e.prototype.invoke=function(){return sse()},e}(),Sse=function(){function e(t){this.storage=t}return Object.defineProperty(e,"IN_SUB_WINDOW_KEY",{get:function(){return"inSubWindow"},enumerable:!1,configurable:!0}),e.prototype.invoke=function(){return new URLSearchParams(window.location.search).has(jT)&&this.setInSubWindow(!0),!(!this.getInSubWindow()&&!this.getSubWindowIdentifier())},e.prototype.getInSubWindow=function(){var t=this.storage.getItem("".concat(kr,":").concat(this.getLiffId(),":").concat(e.IN_SUB_WINDOW_KEY));return t!==null&&JSON.parse(t)},e.prototype.getSubWindowIdentifier=function(){var t,n,r="liff.subwindow.identifier",o=new URLSearchParams(window.location.search);return o.get(r)||(t=r,(n=o.get("liff.state"))?new URLSearchParams(n).get(t):null)||null},e.prototype.setInSubWindow=function(t){this.storage.setItem("".concat(kr,":").concat(this.getLiffId(),":").concat(e.IN_SUB_WINDOW_KEY),String(t))},e.prototype.getLiffId=function(){var t=Qt().liffId;if(!t)throw fe(Hr,"liffId is necessary for liff.init()");return t},e}(),Cse=function(e){function t(){var n=e.call(this)||this;return WT()?n.impl={invoke:function(){return!1}}:wt()?n.impl=new Tse:n.impl=new Sse(window.sessionStorage),n}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"isSubWindow"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return this.impl.invoke.bind(this.impl)},t}(st),rS=new Cse,ro=rS.install();function qr(){var e=navigator.userAgent.match(/Line\/\d+(\.\d+)*/i);return e?e[0].slice(5):null}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"getLineVersion"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return qr()}},t})(st);var Rd;function Vn(){if(!Rd){var e=window.navigator.userAgent.toLowerCase();Rd=/iphone|ipad|ipod/.test(e)?"ios":/android/.test(e)?"android":"web"}return Rd}(function(e){function t(){return e.call(this)||this}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"getOS"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Vn()}},t})(st);function oS(e){var t,n=bn();return(t=n==null?void 0:n.availability)===null||t===void 0?void 0:t[e]}function $r(e,t,n){var r=oS(e),o=n||e;if(!r)return{available:!1,error:{code:Tt,message:"".concat(o," is not allowed in this LIFF app")}};var s=r.minVer,i=r.unsupportedFromVer,a=!s||function(u,c){var f=qr();return!!f&&!(c&&vr(f,c)>0)&&vr(f,u)>=0}(s,i),l=wt();return l&&!a?{available:!1,error:{code:Tt,message:"".concat(o," is unavailable in this client version.")}}:r.permission?l&&a||t?{available:!0}:{available:!1,error:{code:Tt,message:"".concat(o," is not allowed in external browser")}}:{available:!1,error:{code:Tt,message:"".concat(o," is not allowed in this LIFF app")}}}var L_=function(){return Nn()?!qT()&&HT()?{available:!1,error:{code:Tt,message:"Subwindow is not supported in this browser"}}:ro()?{available:!1,error:{code:Tt,message:"this api can be only called in parent window"}}:$r("subwindowOpen",!0):{available:!1,error:{code:_n,message:"Need access_token for api call, Please login first"}}},Ese=["subwindowOpen","shareTargetPicker","multipleLiffTransition","scanCode","scanCodeV2","getAdvertisingId","addToHomeScreen","bluetoothLeFunction","skipChannelVerificationScreen","createShortcutOnHomeScreen","internalCreateShortcutOnHomeScreen"],cr={scanCode:function(){return $r("scanCode")},getAdvertisingId:function(){return $r("getAdvertisingId")},bluetoothLeFunction:function(){return $r("bluetoothLeFunction")},shareTargetPicker:function(){return ro()?{available:!1,error:{code:Tt,message:"this api can be only called in parent window"}}:Nn()?$r("shareTargetPicker",!0):{available:!1,error:{code:_n,message:"Need access_token for api call, Please login first"}}},multipleLiffTransition:function(){var e=oS("multipleLiffTransition");return e&&e.permission?wt()?{available:!0}:{available:!1,error:{code:Tt,message:"multipleLiffTransition is available only in the LINE App browser"}}:{available:!1,error:{code:Tt,message:"multipleLiffTransition is not allowed in this LIFF app"}}},subwindowOpen:L_,scanCodeV2:function(){if(!Nn())return{available:!1,error:{code:_n,message:"Need access_token for api call, Please login first"}};var e=L_();return e.available?$r("scanCodeV2",!0):e},addToHomeScreen:function(){return ro()?{available:!1,error:{code:Tt,message:"this api can be only called in parent window"}}:$r("addToHomeScreen")},skipChannelVerificationScreen:function(){var e=bn();return e?e.type==="square_chat"?{available:!1,error:{code:Tt,message:"skipChannelVerificationScreen is not allowed in OpenChat"}}:$r("skipChannelVerificationScreen"):{available:!1,error:{code:Tt,message:"Context is not found"}}},createShortcutOnHomeScreen:function(){if(ro())return{available:!1,error:{code:Tt,message:"this api can be only called in parent window"}};if(!Nn())return{available:!1,error:{code:_n,message:"Need access_token for api call, Please login first"}};var e=Vn();return e!=="android"&&e!=="ios"?{available:!1,error:{code:Tt,message:"this api can be only called in mobile device"}}:$r("addToHomeV2",!0,"createShortcutOnHomeScreen")},internalCreateShortcutOnHomeScreen:function(){if(ro())return{available:!1,error:{code:Tt,message:"this api can be only called in parent window"}};if(!Nn())return{available:!1,error:{code:_n,message:"Need access_token for api call, Please login first"}};var e=Vn();if(e!=="android"&&e!=="ios")return{available:!1,error:{code:Tt,message:"this api can be only called in mobile device"}};var t=$r("addToHomeV2",!0,"internalCreateShortcutOnHomeScreen");return t.available?$r("addToHomeLineScheme",!0,"internalCreateShortcutOnHomeScreen"):t}},br=function(e){return function(){var t=e();if(!t.available)throw fe(t.error.code,t.error.message)}},ki={scanCode:br(cr.scanCode),getAdvertisingId:br(cr.getAdvertisingId),bluetoothLeFunction:br(cr.bluetoothLeFunction),shareTargetPicker:br(cr.shareTargetPicker),multipleLiffTransition:br(cr.multipleLiffTransition),subwindowOpen:br(cr.subwindowOpen),scanCodeV2:br(cr.scanCodeV2),addToHomeScreen:br(cr.addToHomeScreen),skipChannelVerificationScreen:br(cr.skipChannelVerificationScreen),createShortcutOnHomeScreen:br(cr.createShortcutOnHomeScreen),internalCreateShortcutOnHomeScreen:br(cr.internalCreateShortcutOnHomeScreen)};function al(e){if(!function(n){return Ese.some(function(r){return r===n})}(e))throw fe(Ut,"Unexpected API name.");var t=cr[e];return!t||t().available}(function(e){function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.hooks={},n}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"isApiAvailable"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(n){return al(n)}},t})(st);var Pse=function(){function e(){}return e.prototype.invoke=function(t){var n=ki[t];return!!n&&(n(),!0)},e}(),Ise=function(){function e(t){this.liff=t}return e.prototype.invoke=function(t){return this.liff.checkFeature(t)},e}(),Nd=function(){function e(t){vr(Rc(),e.SDK_VERSION_SUPPORTING_NEW)>=0?this.impl=new Pse:this.impl=new Ise(t)}return Object.defineProperty(e,"SDK_VERSION_SUPPORTING_NEW",{get:function(){return"2.11.0"},enumerable:!1,configurable:!0}),e.prototype.invoke=function(t){return this.impl.invoke(t)},e}(),Uf=function(e,t){return Uf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Uf(e,t)};function kse(e,t,n,r){return new(n||(n=Promise))(function(o,s){function i(u){try{l(r.next(u))}catch(c){s(c)}}function a(u){try{l(r.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?o(u.value):(c=u.value,c instanceof n?c:new n(function(f){f(c)})).then(i,a)}l((r=r.apply(e,[])).next())})}function Ose(e,t){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(o=i.trys,!((o=o.length>0&&o[o.length-1])||c[0]!==6&&c[0]!==2)){i=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(c[0]===6&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(f){c=[6,f],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([l,u])}}}var sS=!1,Ase=function(){return sS},Dse=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=n}Uf(n,r),n.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"_legacyExtensionsEnabled"},enumerable:!1,configurable:!0}),t.prototype.install=function(){sS=!0},t}(st);function Rse(){var e;return Vn()==="ios"?(e=qr())&&vr(e,"9.19.0")<0?"https://static.line-scdn.net/liff/edge/2/ios-918-extensions_2_22_0.js":"https://static.line-scdn.net/liff/edge/2/ios-extensions_2_22_0.js":"https://static.line-scdn.net/liff/edge/2/non-ios-extensions_2_22_0.js"}function Nse(){return Ase()?function(){return kse(this,void 0,void 0,function(){return Ose(this,function(e){switch(e.label){case 0:return[3,2];case 1:return[2,e.sent().default];case 2:return[2,new Promise(function(t,n){var r=document.createElement("script"),o=Rse();r.onload=function(){var s=window.liffClientExtension;s?t(s):n(fe(en,"Unable to load client features. (Extension is empty)"))},r.onerror=function(s){n(fe(en,"Unable to load client features.",{cause:s}))},r.src=o,r.type="text/javascript",document.body.appendChild(r)})]}})})}():Promise.resolve(void 0)}function Lp(){$se()}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"logout"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Lp()}},t})(st);function Vse(e){return Ce(this,void 0,void 0,function(){var t,n,r;return Ee(this,function(o){switch(o.label){case 0:if(!e.ok)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e.json()];case 2:return[2,o.sent()];case 3:return o.sent(),[2,e];case 4:return t=String(e.status),n=Zoe.has(t)?t:Gn,[4,e.json().catch(function(){throw fe(n,e.statusText)})];case 5:throw r=o.sent(),fe(r.error||n,r.error_description||r.message)}})})}function iS(e){var t=function(n){if(n)return n;var r=ho();if(!r)throw fe(_n,"Need access_token for api call, Please login first");return{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(r)}}(e&&e.headers);return Ft(Ft({},e),{headers:t})}function nn(e,t){var n;try{n=iS(t)}catch(r){return Promise.reject(r)}return fetch(e,n).then(Vse)}function Lse(e,t){var n;try{n=iS(t)}catch(r){return Promise.reject(r)}return fetch(e,n)}function Jt(e){var t=e.subdomain,n=t===void 0?"api":t,r=e.pathname;return"https://".concat(n,".").concat("line.me","/").concat(r)}var Mse={token:Jt({pathname:"oauth2/v2.1/token"}),certs:Jt({pathname:"oauth2/v2.1/certs"}),"openid-configuration":Jt({subdomain:"access",pathname:".well-known/openid-configuration"}),authorize:Jt({subdomain:"access",pathname:"liff/v1/authorize"}),profile:Jt({pathname:"v2/profile"}),message:Jt({pathname:"message/v3/share"}),friendship:Jt({pathname:"friendship/v1/status"}),shareTargetPicker:Jt({subdomain:"access",pathname:"oauth2/v2.1/liff/shareTargetPicker"}),shareTargetPickerOtt:Jt({pathname:"liff/v2/apps"}),shareTargetPickerResult:Jt({subdomain:"access",pathname:"oauth2/v2.1/liff/shareTargetPicker/result"}),apps:Jt({pathname:"liff/v2/apps"}),subWindowGetMSIT:Jt({pathname:"liff/v2/sub/msit"}),subWindowGetMSTByMSIT:Jt({pathname:"liff/v2/sub/mst"}),subWindowSubscribe:Jt({subdomain:"liff",pathname:"liff/v2/sub/waitResult"}),subWindowPost:Jt({pathname:"liff/v2/sub/result"}),subWindowGetAppData:Jt({pathname:"liff/v2/sub/appData"}),subWindowGetOrigin:function(e){return Jt({pathname:"liff/v2/sub/".concat(e,"/origin")})},accessTokenVerify:Jt({pathname:"oauth2/v2.1/verify"}),unauthorizedPermissions:Jt({subdomain:"liff",pathname:"liff/v2/incrementalAgreement/unauthorizedPermissions"}),permanentLink:Jt({subdomain:"liff",pathname:"liff/v2/permanentLink"}),createShortcutOnHomeScreen:Jt({subdomain:"liff-shortcut",pathname:"api/shortcut"})};function Kt(e){return Mse[e]}function aS(e){return nn("".concat(Kt("accessTokenVerify"),"?access_token=").concat(encodeURIComponent(e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}})}var lS="liff.subwindow.identifier",zf="liff.subwindow.cryptokey",ru=Ft(Ft({},St),{GET_DATA:"getData",SET_DATA:"setData",NOT_FOUND:"notFound",TEARDOWN:"teardown"}),Uu={BROADCAST:"broadcast",COMMAND:"command"},Ta={MAIN:"main",SUB:"sub"},uS=function(e){return Ce(void 0,void 0,void 0,function(){var t;return Ee(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,window.crypto.subtle.importKey("jwk",{kty:"oct",k:e,alg:"A128GCM",ext:!0},{name:"AES-GCM"},!1,["encrypt","decrypt"])];case 1:return[2,n.sent()];case 2:throw t=n.sent(),fe(Gn,t);case 3:return[2]}})})},Bse=function(e,t,n){return Ce(void 0,void 0,void 0,function(){var r,o,s,i;return Ee(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),r=new TextEncoder().encode(e),[4,uS(t)];case 1:return o=a.sent(),[4,window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},o,new TextEncoder().encode(n))];case 2:return s=a.sent(),[2,btoa(new Uint8Array(s).reduce(function(l,u){return l+String.fromCharCode(u)},""))];case 3:throw i=a.sent(),fe(Gn,i);case 4:return[2]}})})},Fse=function(e,t,n){return Ce(void 0,void 0,void 0,function(){var r,o,s,i,a,l,u;return Ee(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),r=new TextEncoder().encode(e),[4,uS(t)];case 1:for(o=c.sent(),s=atob(n),i=new Uint8Array(s.length),a=0;a<s.length;a++)i[a]=s.charCodeAt(a);return[4,window.crypto.subtle.decrypt({name:"AES-GCM",iv:r},o,i.buffer)];case 2:return l=c.sent(),[2,new TextDecoder().decode(new Uint8Array(l))];case 3:throw u=c.sent(),fe(Gn,u);case 4:return[2]}})})},jse=function(e,t){return Sa(e)===Sa(t)},Sa=function(e){return"".concat(e.identifier,"-").concat(e.action,"-").concat(e.timestamp)},xse=function(e){return Object.keys(St).map(function(t){return St[t]}).includes(e)?Uu.BROADCAST:Uu.COMMAND};function Use(){var e=document.createElement("form");e.method="POST",e.action="$MESSAGE_HANDLER_URL";var t=document.createElement("input");t.type="hidden",t.name="identifier",t.value="$IDENTIFIER",e.appendChild(t),document.body.appendChild(e),e.submit()}var zse=function(e){e===void 0&&(e=Ta.MAIN);var t=this;this.identification={identifier:"",cryptoKey:""},this.messageHandlerInstance=null,this.listeners=new Map,this.sentMessages=[],this.generateIdentification=function(){return Ce(t,void 0,void 0,function(){var n,r,o,s,i;return Ee(this,function(a){switch(a.label){case 0:return n=new URLSearchParams(window.location.search),r=function(l){var u=n.get("liff.state");return u?new URLSearchParams(u).get(l):null},o=this,i={identifier:this.windowType===Ta.MAIN?gi(12):n.get("liff.subwindow.identifier")||r("liff.subwindow.identifier")||""},this.windowType!==Ta.MAIN?[3,2]:[4,Ce(void 0,void 0,void 0,function(){var l,u,c;return Ee(this,function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),[4,window.crypto.subtle.generateKey({name:"AES-GCM",length:128},!0,["encrypt","decrypt"])];case 1:return l=f.sent(),[4,window.crypto.subtle.exportKey("jwk",l)];case 2:if(!(u=f.sent())||!u.k)throw fe(Gn,"failed to generate key");return[2,u.k];case 3:throw c=f.sent(),fe(Gn,c);case 4:return[2]}})})];case 1:return s=a.sent(),[3,3];case 2:s=n.get(zf)||r(zf)||"",a.label=3;case 3:return o.identification=(i.cryptoKey=s,i),[2]}})})},this.hasIdentification=function(){var n=t.identification,r=n.identifier,o=n.cryptoKey;return typeof r=="string"&&typeof o=="string"&&r.length>0&&o.length>0},this.isReady=function(){return t.hasIdentification()&&!!t.messageHandlerInstance},this.setup=function(){return Ce(t,void 0,void 0,function(){var n,r,o,s,i,a=this;return Ee(this,function(l){switch(l.label){case 0:return this.messageHandlerInstance?[2]:[4,this.generateIdentification()];case 1:if(l.sent(),!(n=this.identification.identifier))return[2];if(r=/^[a-zA-Z0-9]+$/gm,!n.match(r))throw fe(Gn,"Invalid identifier");return(o=document.createElement("iframe")).style.display="none",o.src="about:blank",document.body.appendChild(o),(i=o==null?void 0:o.contentWindow)===null||i===void 0||i.window.eval("(".concat(Use.toString().replace("$MESSAGE_HANDLER_URL","".concat("https://liff-subwindow.line.me/liff/v2/sub/messageHandler")).replace("$IDENTIFIER",n.split("'")[0]),")()")),s="iframe-".concat(n,"-ready"),[4,new Promise(function(u){var c=function(f){f.data[s]&&(a.messageHandlerInstance=o,window.addEventListener("message",a.proxyToListeners),u(),document.removeEventListener("message",c))};window.addEventListener("message",c)})];case 2:return[2,l.sent()]}})})},this.teardown=function(){return Ce(t,void 0,void 0,function(){var n,r;return Ee(this,function(o){switch(o.label){case 0:return this.isReady()?[4,this.send({eventName:ru.TEARDOWN})]:[3,2];case 1:o.sent(),window.removeEventListener("message",this.proxyToListeners),this.listeners.clear(),(r=(n=this.messageHandlerInstance)===null||n===void 0?void 0:n.parentNode)===null||r===void 0||r.removeChild(this.messageHandlerInstance),this.messageHandlerInstance=null,o.label=2;case 2:return[2]}})})},this.listen=function(n){t.listeners.set(n,n)},this.listenRepliedEvent=function(n,r){var o=function(s){s.replyTarget&&jse(s.replyTarget,n)&&(r(s),t.listeners.delete(o))};t.listeners.set(o,o)},this.send=function(n){return Ce(t,void 0,void 0,function(){var r,o,s,i,a=this;return Ee(this,function(l){switch(l.label){case 0:if(!this.isReady())throw fe("message bus is not ready to send message");return o={action:xse(n.eventName),identifier:this.identification.identifier||"",timestamp:new Date().getTime()},[4,this.getEncryptedContext(n)];case 1:return o.context=l.sent(),r=o,(i=(s=this.messageHandlerInstance)===null||s===void 0?void 0:s.contentWindow)===null||i===void 0||i.postMessage({messageBusEvent:r},"*"),this.sentMessages.push(Sa(r)),[4,new Promise(function(u){a.listenRepliedEvent(r,function(c){u(c.context)})})];case 2:return[2,l.sent()]}})})},this.reply=function(n,r){return Ce(t,void 0,void 0,function(){var o,s,i,a;return Ee(this,function(l){switch(l.label){case 0:if(!this.isReady())throw fe("message bus is not ready to send message");if(!n.identifier||!n.timestamp)throw fe(Gn,"target message is not valid");return s={action:Uu.BROADCAST},[4,this.getEncryptedContext(r)];case 1:return s.context=l.sent(),s.identifier=this.identification.identifier||"",s.timestamp=new Date().getTime(),s.replyTarget={action:n.action,identifier:n.identifier,timestamp:n.timestamp},o=s,(a=(i=this.messageHandlerInstance)===null||i===void 0?void 0:i.contentWindow)===null||a===void 0||a.postMessage({messageBusEvent:o},"*"),this.sentMessages.push(Sa(o)),[2]}})})},this.setData=function(n,r){n===void 0&&(n="appData"),t.send({eventName:ru.SET_DATA,key:n,data:r})},this.getData=function(n){return n===void 0&&(n="appData"),Ce(t,void 0,void 0,function(){return Ee(this,function(r){switch(r.label){case 0:return[4,this.send({eventName:ru.GET_DATA,key:n})];case 1:return[2,r.sent()]}})})},this.proxyToListeners=function(n){return Ce(t,void 0,void 0,function(){var r,o=this;return Ee(this,function(s){return(r=n.data.messageBusEvent)?(this.sentMessages.includes(Sa(r))||r.identifier!==this.identification.identifier||r.action!==Uu.BROADCAST&&!r.replyTarget||this.listeners.forEach(function(i){return Ce(o,void 0,void 0,function(){var a,l,u;return Ee(this,function(c){switch(c.label){case 0:return a=i,l=[Ft({},r)],u={},[4,this.getDecryptedContext(r.context)];case 1:return a.apply(void 0,[Ft.apply(void 0,l.concat([(u.context=c.sent(),u)]))]),[2]}})})}),[2]):[2]})})},this.getEncryptedContext=function(n){return Ce(t,void 0,void 0,function(){var r,o,s,i,a,l,u;return Ee(this,function(c){switch(c.label){case 0:return r=this.identification,o=r.identifier,s=r.cryptoKey,a=(i=JSON).stringify,u={eventName:n.eventName,key:n.key?n.key:void 0},n.data?[4,Bse(o,s,JSON.stringify(n.data))]:[3,2];case 1:return l=c.sent(),[3,3];case 2:l=void 0,c.label=3;case 3:return[2,a.apply(i,[(u.data=l,u)])]}})})},this.getDecryptedContext=function(n){return Ce(t,void 0,void 0,function(){var r,o,s,i,a,l,u,c;return Ee(this,function(f){switch(f.label){case 0:return r=this.identification,o=r.identifier,s=r.cryptoKey,(i=JSON.parse(n)).data&&typeof i.data=="string"?(c=(u=JSON).parse,[4,Fse(o,s,i.data)]):[3,2];case 1:return l=c.apply(u,[f.sent()]),[3,3];case 2:l=void 0,f.label=3;case 3:return a=l,[2,Ft(Ft({},i),{data:a})]}})})},this.windowType=e};function Hse(e){return new CustomEvent(BT,{detail:e})}(function(){if(typeof window<"u"&&typeof window.CustomEvent!="function"){let t=function(n,r){var o=r||{},s=o.bubbles,i=s!==void 0&&s,a=o.cancelable,l=a!==void 0&&a,u=o.detail,c=u===void 0?void 0:u,f=document.createEvent("CustomEvent");return f.initCustomEvent(n,i,l,c),f};var e=t;t.prototype=Event.prototype,window.CustomEvent=t}})();var Ws={},M_=!1;function Mp(e,t){M_||(M_=!0,window.addEventListener(BT,function(n){n&&n.detail&&n.detail.type&&Ws[n.detail.type]&&Ws[n.detail.type].forEach(function(r){return r(n)})})),Ws[e]?Ws[e].push(t):Ws[e]=[t]}function Bp(e,t){var n=Ws[e];if(n&&Array.isArray(n)){var r=n.indexOf(t);r>=0&&n.splice(r,1)}}function qse(e){var t={};try{t=JSON.parse(e)}catch(r){throw fe(Ut,r.message)}var n=Hse(t);_t.debug("[client dispatchEvent to js]",{type:n.type,detail:n.detail}),window.dispatchEvent(n)}function cS(e,t,n){t===void 0&&(t={}),n===void 0&&(n="");var r=il();if(!r)throw fe(Tt,"Invalid featureToken for client features");if(!window._liff||!window._liff.postMessage)throw fe(Ut,"postMessage is not available from client");_t.debug("[js postMessage to client]",e,n,t),window._liff.postMessage(e,r,n,JSON.stringify(t))}function Fp(e,t,n){return t===void 0&&(t={}),n===void 0&&(n={once:!0}),il()?(n=Ft({callbackId:gi(12),once:!0},n),new Promise(function(r,o){var s=function(i){if(i&&i.detail){var a=i.detail.callbackId===n.callbackId,l=typeof i.detail.callbackId!="string";(a||l)&&(n.once&&Bp(e,s),_t.debug("[callback detail]",i.detail),i.detail.error?o(i.detail.error):i.detail.data?r(i.detail.data):o(i.detail))}o()};Mp(e,s),cS(e,t,n.callbackId)})):Promise.reject(fe(Tt,"Invalid featureToken for client features"))}function ei(){var e=qr();e!==null&&(Vn()==="ios"&&vr(e,"9.19")>=0||Vn()==="android"&&vr(e,"11.6.0")>=0)?location.href="liff://close":window._liff&&window._liff.postMessage?e!==null&&vr(e,"10.15.0")>=0?Vn()==="ios"?window._liff.postMessage("closeWindow",""):window._liff.postMessage("closeWindow","","",""):Fp("closeWindow"):window.close()}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"closeWindow"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return ei()}},t})(st);function dS(e){var t=Kt("subWindowGetOrigin");return nn(t(e))}var Mo={};function vi(e,t){e&&Mo[e]&&Mo[e].forEach(function(n){n(t)})}function fS(e,t){Mo[e]||(Mo[e]=[]),Mo[e].push(t)}function hS(e,t){if(Mo[e]){var n=Mo[e].indexOf(t);n>=0&&Mo[e].splice(n,1)}}var pS,mS,gS,vS,Hf,yS=function(){function e(t){this.storage=t}return e.prototype.getItem=function(t){return this.storage.getItem("".concat(this.getKeyPrefix(),":").concat(t))},e.prototype.setItem=function(t,n){this.storage.setItem("".concat(this.getKeyPrefix(),":").concat(t),n)},e.prototype.removeItem=function(t){this.storage.removeItem("".concat(this.getKeyPrefix(),":").concat(t))},e.prototype.clear=function(){this.storage.clear()},e.prototype.getKeyPrefix=function(){return"".concat(kr,":").concat(this.getLiffId())},e.prototype.getLiffId=function(){var t=Qt().liffId;if(!t)throw fe(Hr,"liffId is necessary for liff.init()");return t},e}(),_S=new yS(new UT);function zu(){var e=_S.getItem("subWindowStatusUpdated");return e!==null&&JSON.parse(e)}function Ps(e){_S.setItem("subWindowStatusUpdated",String(e))}function qf(e){pS=e}function Ca(){return pS}function Wf(){return gS}function B_(){return vS}function wS(e){return e===void 0&&(e=Ta.MAIN),Ce(this,void 0,void 0,function(){return Ee(this,function(t){switch(t.label){case 0:return[4,(Hf=new zse(e)).setup()];case 1:return t.sent(),[2,Hf]}})})}function Oi(){return Hf}var Wse=new UT,bS=new yS(WT()?Wse:window.sessionStorage);function Kse(e){bS.setItem("mainWindowOrigin",e)}function $S(){return bS.getItem("mainWindowOrigin")}function TS(e,t){return t===void 0&&(t={}),Ce(this,void 0,void 0,function(){var n,r,o,s,i,a,l,u;return Ee(this,function(c){switch(c.label){case 0:if((n=Oi())!=null&&n.isReady())return[3,5];if(r=JSON.stringify(t),o=Qt().liffId,s=$S(),!window.opener||!s||!o)throw fe(Bf);i=!1,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,dS(o)];case 2:return a=c.sent(),i=a.subwindowCommonModule,[3,4];case 3:throw l=c.sent(),_t.debug(l),fe(Bf);case 4:return u=i?s:location.origin,[2,new Promise(function(f){window.addEventListener("message",function h(m){(function(w){return!!(w.data&&typeof w.data.type=="string"&&[St.SUBMIT,St.CANCEL].includes(w.data.type))})(m)&&(window.removeEventListener("message",h),f({status:e,result:r}))}),window.opener.postMessage({status:e,result:r},u)})];case 5:return n.send({eventName:e,data:t}),[4,new Promise(function(f){setTimeout(f,500)})];case 6:return c.sent(),[2,{status:e,result:JSON.stringify(t)}]}})})}function jp(e){var t,n=B_();if(e.origin===n){var r=e.data;if(r){var o,s=r.status,i=r.result;try{o=JSON.parse(i||"{}")}catch{o={}}switch(s){case xu:window.clearInterval(Wf()),xp();break;case St.CANCEL:case St.SUBMIT:Ps(!0),window.clearInterval(Wf()),window.removeEventListener("message",jp),vi(s,o),(t=Ca())===null||t===void 0||t.postMessage({type:s},B_());break;default:_t.debug("unexpected message")}}}}var Gse=function(e){return Ce(void 0,void 0,void 0,function(){var t,n,r,o;return Ee(this,function(s){if(zu())return[2];switch(t=e.context,n=t.eventName,r=t.data,o=Oi(),n){case St.INIT:CS(!r.hasOpener);break;case St.CANCEL:case St.SUBMIT:Ps(!0),vi(n,r),o==null||o.reply(e,{eventName:n});break;case St.CLOSE:zu()===!1&&(Ps(!0),vi(St.CLOSE,{})),xp()}return[2]})})};function SS(){window.clearInterval(mS),window.clearInterval(Wf()),window.removeEventListener("message",jp)}function CS(e){if(e===void 0&&(e=!1),SS(),Ps(!1),e){var t=Ca();t&&(t.close(),qf(null))}}function xp(){return Ce(this,void 0,void 0,function(){var e;return Ee(this,function(t){switch(t.label){case 0:return(e=Oi())?[4,e.teardown()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}function Yse(e){var t;return Ce(this,void 0,void 0,function(){var n,r,o,s,i,a,l,u,c,f,h;return Ee(this,function(m){switch(m.label){case 0:return(n=Dp(e.url))?(CS(!0),[4,xp()]):[2,Promise.reject(fe(Ut,"params.url must be liff url or mini url"))];case 1:return m.sent(),qf(Vn()!=="ios"||Rp()?window.open("","liffsubwindow","width=480, height=640, menubar=no, toolbar=no, scrollbars=yes"):window.open()),r=e.url,o=e.appData,(s=new URL(r)).searchParams.append(jT,"true"),[4,wS()];case 2:return i=m.sent(),s.searchParams.append(lS,i.identification.identifier),s.searchParams.append(zf,i.identification.cryptoKey),s.hostname=function(C){var p=Bt(C.split(".")),g=p[0],b=p.slice(1);return Tr(["".concat(g,"-ext")],Bt(b),!1).join(".")}(s.hostname),a=s.toString(),[4,dS(n)];case 3:if(l=m.sent(),u=l.origin,c=l.subwindowCommonModule,!(f=Ca()))throw fe(Mf);if(!c)return f.close(),[2];(function(C){vS=C})(u),i.listen(Gse),i.setData("appData",o),window.addEventListener("message",jp),m.label=4;case 4:return m.trys.push([4,6,,7]),[4,(t=e.onBeforeTransition)===null||t===void 0?void 0:t.call(e)];case 5:return m.sent(),[3,7];case 6:throw h=m.sent(),f.close(),h;case 7:return f.location.href=a,w=function(C,p){var g=Ca(),b={type:xu};return p&&(b.message=JSON.stringify(p)),window.setInterval(function(){g==null||g.postMessage(b,C)},FT)}(u,o),gS=w,function(C){mS=C}(window.setInterval(function(){var C=Ca();C&&C.closed&&(SS(),qf(null),zu()===!1&&(Ps(!0),vi(St.CLOSE,{})))},Xoe)),[2]}var w})})}var Zi=null;function ES(e){return Ce(this,void 0,void 0,function(){var t,n,r,o,s,i,a,l,u,c,f,h,m,w,C=this;return Ee(this,function(p){switch(p.label){case 0:if(t=e.msit,n=e.mstChallenge,r=e.reconnectCount,o=r===void 0?0:r,s=function(){return Ce(C,void 0,void 0,function(){return Ee(this,function(g){switch(g.label){case 0:return[4,(b=1e3,new Promise(function(O){return setTimeout(O,b)}))];case 1:return g.sent(),[4,ES({msit:t,mstChallenge:n,onSuccess:e.onSuccess,onError:e.onError,reconnectCount:o+1})];case 2:return g.sent(),[2]}var b})})},i=function(){for(var g=[],b=0;b<arguments.length;b++)g[b]=arguments[b];Zi=null,e.onSuccess.apply(e,Tr([],Bt(g),!1))},a=function(){for(var g=[],b=0;b<arguments.length;b++)g[b]=arguments[b];Zi=null,e.onError.apply(e,Tr([],Bt(g),!1))},l=Date.now(),Zi===null&&(Zi=l),u=l-Zi,o>=10||u>6e5)return a(fe(Gn,"Failed to connect")),[2];p.label=1;case 1:return p.trys.push([1,3,,5]),[4,Lse(Kt("subWindowSubscribe"),{method:"POST",body:JSON.stringify({msit:t,mstChallenge:n})})];case 2:return c=p.sent(),[3,5];case 3:return p.sent(),[4,s()];case 4:return p.sent(),[2];case 5:return c.status>=500?[4,s()]:[3,7];case 6:return p.sent(),[3,17];case 7:return c.status>=400&&500>c.status?[4,F_(c)]:[3,9];case 8:return h=p.sent(),f=h?fe(Ut,h.errorDetail):fe(Gn,"Some error happened in the server"),a(f),[3,17];case 9:return c.status!==200?[3,16]:[4,F_(c)];case 10:if(!(h=p.sent()))return a(fe(Gn,"Some error happened in the server")),[2];switch(m=h.status,w=h.result,m){case St.ERROR:return[3,11];case St.CLOSE:case St.CANCEL:case St.SUBMIT:return[3,13]}return[3,14];case 11:return[4,s()];case 12:return p.sent(),[3,15];case 13:return i(m,w),[3,15];case 14:a(fe(Gn,"Some error happened in the server")),p.label=15;case 15:return[3,17];case 16:a(fe(Gn,"Some error happened in the server")),p.label=17;case 17:return[2]}})})}function F_(e){return Ce(this,void 0,void 0,function(){return Ee(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e.json()];case 1:return[2,t.sent()];case 2:return t.sent(),[2,null];case 3:return[2]}})})}function Qse(e){var t={};return Object.keys(e).forEach(function(n){n==="closeButtonColor"?e[n]==="white"?t[n]="#ffffff":t[n]="#000000":t[n]=e[n]}),t}var Xse={height:"full",closeButtonPosition:"right",closeButtonColor:"black",closeButtonLabel:""};function Jse(e){var t=e.appData,n=e.native,r=Qt().liffId,o=QT(),s=Dp(e.url);if(!r)return Promise.reject(fe(_n,"liffId is invalid"));if(!o)return Promise.reject(fe(_n,"mst_challenge is invalid"));if(!s)return Promise.reject(fe(Ut,"params.url must be liff url or mini url"));var i=Object.assign({},Xse,n);return function(a){var l=a.mainLiffId,u=a.subLiffId,c=a.mstChallenge,f=a.appData,h=a.view;return l&&c?nn(Kt("subWindowGetMSIT"),{method:"POST",body:JSON.stringify({mainLiffId:l,subLiffId:u,mstChallenge:c,appData:f,view:h})}):Promise.reject(fe(Ut,"no proper argument"))}({mainLiffId:r,subLiffId:s,mstChallenge:o,appData:t,view:Qse(i)}).then(function(a){var l=a.msit;return ES({msit:l,mstChallenge:o,onSuccess:function(u,c){vi(u,c)},onError:function(u){vi(St.ERROR,u)}}),l}).then(function(a){return function(l,u){var c;return Ce(this,void 0,void 0,function(){var f,h;return Ee(this,function(m){switch(m.label){case 0:return f=l.url,(h=new URLSearchParams).set("msit",u),[4,(c=l.onBeforeTransition)===null||c===void 0?void 0:c.call(l)];case 1:return m.sent(),location.href="".concat(Qoe,"?url=").concat(encodeURIComponent(f),"&").concat(h.toString()),[2]}})})}(e,a)})}function PS(e){return ki.subwindowOpen(),wt()?Jse(e):Yse(e)}function Up(e){if(!e.mst||!e.status)return Promise.reject(fe(Ut,"no proper argument"));var t=JSON.stringify(e);return nn(Kt("subWindowPost"),{method:"POST",body:t})}function Nc(){if(!ro())throw fe(_n,"this api can be only called in child window")}function IS(e){return e===void 0&&(e={}),Nc(),wt()?function(t){return t===void 0&&(t={}),Ce(this,void 0,void 0,function(){var n,r;return Ee(this,function(o){switch(o.label){case 0:return(n=Oc())?[4,Up({mst:n,status:St.CANCEL,result:t})]:[2,Promise.reject(fe(_n,"mst is invalid"))];case 1:return r=o.sent(),Ps(!0),[2,r]}})})}(e):function(t){return t===void 0&&(t={}),TS(St.CANCEL,t)}(e)}function kS(e){return e===void 0&&(e={}),Nc(),wt()?function(t){return t===void 0&&(t={}),Ce(this,void 0,void 0,function(){var n,r;return Ee(this,function(o){switch(o.label){case 0:return(n=Oc())?[4,Up({mst:n,status:St.SUBMIT,result:t})]:[2,Promise.reject(fe(_n,"mst is invalid"))];case 1:return r=o.sent(),Ps(!0),[2,r]}})})}(e):function(t){return t===void 0&&(t={}),TS(St.SUBMIT,t)}(e)}function OS(){return Nc(),wt()?function(){return Ce(this,void 0,void 0,function(){var e;return Ee(this,function(t){switch(t.label){case 0:return zu()!==!1?[3,2]:(e=Oc())?[4,Up({mst:e,status:St.CLOSE,result:{}})]:[2,Promise.reject(fe(_n,"mst is invalid"))];case 1:t.sent(),t.label=2;case 2:return ei(),[2]}})})}():function(){return Ce(this,void 0,void 0,function(){var e;return Ee(this,function(t){return(e=Oi())!=null&&e.isReady()?(e.send({eventName:St.CLOSE}),[2,new Promise(function(n){setTimeout(function(){ei(),n()},FT)})]):(ei(),[2,Promise.resolve()])})})}()}function AS(){return Nc(),function(){var e,t=cse();try{e=t?JSON.parse(t):{}}catch{e={}}return Promise.resolve(e)}()}function Zse(e){var t=e.msit,n=e.mstVerifier;return t&&n?nn(Kt("subWindowGetMSTByMSIT"),{method:"POST",body:JSON.stringify({msit:t,mstVerifier:n})}):Promise.reject(fe(Ut,"no proper argument"))}function eie(e){var t=e.mst;return t?nn(Kt("subWindowGetAppData"),{method:"POST",body:JSON.stringify({mst:t})}):Promise.reject(fe(Ut,"no proper argument"))}var tr={on:fS,off:hS,open:PS,cancel:IS,submit:kS,close:OS,getAppData:AS};(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"subWindow"},enumerable:!1,configurable:!0}),t.prototype.install=function(){var n=this;return{on:fS.bind(this),off:hS.bind(this),open:function(r){return PS.call(n,Ft(Ft({},r),{onBeforeTransition:void 0}))},cancel:IS.bind(this),submit:kS.bind(this),close:OS.bind(this),getAppData:AS.bind(this)}},t})(st);function tie(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ou={exports:{}},nie=ou.exports,j_;function rie(){return j_||(j_=1,function(e){(function(t,n){e.exports?e.exports=n():t.sha256=n()})(nie,function(){var t=function n(r){function o(k,R){return k>>>R|k<<32-R}for(var s=Math.pow,i=s(2,32),a="length",l,u,c="",f=[],h=r[a]*8,m=n.h=n.h||[],w=n.k=n.k||[],C=w[a],p={},g=2;C<64;g++)if(!p[g]){for(l=0;l<313;l+=g)p[l]=g;m[C]=s(g,.5)*i|0,w[C++]=s(g,.3333333333333333)*i|0}for(r+="";r[a]%64-56;)r+="\0";for(l=0;l<r[a];l++){if(u=r.charCodeAt(l),u>>8)return;f[l>>2]|=u<<(3-l)%4*8}for(f[f[a]]=h/i|0,f[f[a]]=h,u=0;u<f[a];){var b=f.slice(u,u+=16),O=m;for(m=m.slice(0,8),l=0;l<64;l++){var A=b[l-15],L=b[l-2],N=m[0],I=m[4],S=m[7]+(o(I,6)^o(I,11)^o(I,25))+(I&m[5]^~I&m[6])+w[l]+(b[l]=l<16?b[l]:b[l-16]+(o(A,7)^o(A,18)^A>>>3)+b[l-7]+(o(L,17)^o(L,19)^L>>>10)|0),_=(o(N,2)^o(N,13)^o(N,22))+(N&m[1]^N&m[2]^m[1]&m[2]);m=[S+_|0].concat(m),m[4]=m[4]+S|0}for(l=0;l<8;l++)m[l]=m[l]+O[l]|0}for(l=0;l<8;l++)for(u=3;u+1;u--){var P=m[l]>>u*8&255;c+=(P<16?0:"")+P.toString(16)}return c};return t.code='var sha256=function a(b){function c(a,b){return a>>>b|a<<32-b}for(var d,e,f=Math.pow,g=f(2,32),h="length",i="",j=[],k=8*b[h],l=a.h=a.h||[],m=a.k=a.k||[],n=m[h],o={},p=2;64>n;p++)if(!o[p]){for(d=0;313>d;d+=p)o[d]=p;l[n]=f(p,.5)*g|0,m[n++]=f(p,1/3)*g|0}for(b+="\\x80";b[h]%64-56;)b+="\\x00";for(d=0;d<b[h];d++){if(e=b.charCodeAt(d),e>>8)return;j[d>>2]|=e<<(3-d)%4*8}for(j[j[h]]=k/g|0,j[j[h]]=k,e=0;e<j[h];){var q=j.slice(e,e+=16),r=l;for(l=l.slice(0,8),d=0;64>d;d++){var s=q[d-15],t=q[d-2],u=l[0],v=l[4],w=l[7]+(c(v,6)^c(v,11)^c(v,25))+(v&l[5]^~v&l[6])+m[d]+(q[d]=16>d?q[d]:q[d-16]+(c(s,7)^c(s,18)^s>>>3)+q[d-7]+(c(t,17)^c(t,19)^t>>>10)|0),x=(c(u,2)^c(u,13)^c(u,22))+(u&l[1]^u&l[2]^l[1]&l[2]);l=[w+x|0].concat(l),l[4]=l[4]+w|0}for(d=0;8>d;d++)l[d]=l[d]+r[d]|0}for(d=0;8>d;d++)for(e=3;e+1;e--){var y=l[d]>>8*e&255;i+=(16>y?0:"")+y.toString(16)}return i};',t})}(ou)),ou.exports}var oie=rie();const sie=tie(oie);var iie=function(){var e=this;this.type="sync",this.fns=new Set,this.on=function(t){e.fns.add(t)},this.call=function(){for(var t,n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];try{for(var s=sl(e.fns),i=s.next();!i.done;i=s.next()){var a=i.value;a.apply(void 0,Tr([],Bt(r),!1))}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}}},ea=function(){var e=this;this.type="async",this.fns=new Set,this.on=function(t){e.fns.add(t)},this.call=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Ce(e,void 0,void 0,function(){var r,o,s,i,a,l;return Ee(this,function(u){switch(u.label){case 0:r=[];try{for(o=sl(this.fns),s=o.next();!s.done;s=o.next())i=s.value,r.push(i.apply(void 0,Tr([],Bt(t),!1)))}catch(c){a={error:c}}finally{try{s&&!s.done&&(l=o.return)&&l.call(o)}finally{if(a)throw a.error}}return[4,Promise.all(r)];case 1:return u.sent(),[2]}})})}},Ea=function(e){var t,n=gi(43),r=ese(sie(n)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),o=Qt();if(!o||!o.liffId)throw fe(Hr,"You need to define `liffId` for liff.login()");var s={app_id:o.liffId,state:gi(12),response_type:"code",code_challenge_method:"S256",code_challenge:r,liff_sdk_version:Rc()};e&&e.redirectUri&&(s.redirect_uri=e.redirectUri),ro()&&!wt()&&(!((t=Oi())===null||t===void 0)&&t.isReady()?s.redirect_uri=window.location.href:s.disable_auto_login="true"),_se({codeVerifier:n});var i=Kt("authorize")+"?"+Rn.stringify(s);_t.debug("[Redirect] ".concat(i)),window.location.href=i},aie=function(e){function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.hooks={before:new iie},n}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"login"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return this._login.bind(this)},t.prototype._login=function(n){this.hooks.before.call(n),Ea(n)},t}(st),Vd,su=typeof navigator>"u"?"en":(Vd=navigator.language)!==null&&Vd!==void 0?Vd:"en",Kf=null;function lie(e){return Ce(this,void 0,void 0,function(){return Ee(this,function(t){switch(t.label){case 0:return su=e,[4,DS()];case 1:return t.sent(),[2]}})})}function DS(){return Ce(this,void 0,void 0,function(){var e,t;return Ee(this,function(n){switch(n.label){case 0:return[4,nn("".concat("https://liffsdk.line-scdn.net/xlt/manifest.json"),{method:"GET",headers:{Accept:"application/json"}})];case 1:return e=n.sent(),t="".concat(su),!e.languages[t]&&su.includes("-")&&(t=su.split("-")[0]),e.languages[t]||(t="en"),[4,nn("".concat("https://liffsdk.line-scdn.net/xlt","/").concat(e.languages[t]),{method:"GET",headers:{Accept:"application/json"}})];case 2:return Kf=n.sent(),[2]}})})}function Ld(e){if(Kf===null)throw fe(en,"please call xlt after liff.init");return Kf[e]}var uie=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"i18n"},enumerable:!1,configurable:!0}),t.prototype.install=function(n){return n.internalHooks.init.beforeFinished(this.beforeInitFinished.bind(this)),{setLang:lie}},t.prototype.beforeInitFinished=function(){return Ce(this,void 0,void 0,function(){return Ee(this,function(n){switch(n.label){case 0:return[4,DS()];case 1:return n.sent(),[2]}})})},t}(st),cie=new uie,x_={iconColor:"#111111",statusBarColor:"BLACK",titleTextColor:"#111111",titleSubtextColor:"#B7B7B7",titleButtonColor:"#111111",titleBackgroundColor:"#FFFFFF",progressBarColor:"#06C755",progressBackgroundColor:"#FFFFFF",titleButtonAreaBackgroundColor:"#1FFFFFFF",titleButtonAreaBorderColor:"#26000000",baseBackgroundColor:"#FFFFFF",baseTextColor:"#000000",lightButtonBorderColor:"rgba(0, 0, 0, 0.15)"},U_={iconColor:"#FFFFFF",statusBarColor:"WHITE",titleTextColor:"#FFFFFF",titleSubtextColor:"#949494",titleButtonColor:"#FFFFFF",titleBackgroundColor:"#111111",progressBarColor:"#06C755",progressBackgroundColor:"#111111",titleButtonAreaBackgroundColor:"#1FFFFFFF",titleButtonAreaBorderColor:"#26000000",baseBackgroundColor:"#000000",baseTextColor:"#FFFFFF",lightButtonBorderColor:"rgba(255, 255, 255, 0.5)"};function die(){var e;Pn("color-scheme",(((e=bn())==null?void 0:e.menuColorSetting)||{adaptableColorSchemes:["light"]}).adaptableColorSchemes.join(" "));var t=window.matchMedia("(prefers-color-scheme: dark)");Md({matches:t==null?void 0:t.matches,media:t==null?void 0:t.media}),t.addEventListener?t.addEventListener("change",Md):t.addListener&&t.addListener(Md)}function Md(e){var t=bn(),n=(t==null?void 0:t.menuColorSetting)||{adaptableColorSchemes:["light"],lightModeColor:x_,darkModeColor:U_},r=n.adaptableColorSchemes,o=n.lightModeColor,s=n.darkModeColor,i=r.includes("dark");e.matches&&i?z_(Ft(Ft({},U_),s)):z_(Ft(Ft({},x_),o))}function z_(e){var t=e.iconColor,n=e.statusBarColor,r=e.titleTextColor,o=e.titleSubtextColor,s=e.titleButtonColor,i=e.titleBackgroundColor,a=e.progressBarColor,l=e.progressBackgroundColor,u=e.titleButtonAreaBackgroundColor,c=e.titleButtonAreaBorderColor,f=e.baseBackgroundColor,h=e.baseTextColor,m=e.lightButtonBorderColor;Pn("--liff-base-background-color",f),Pn("--liff-base-text-color",h),Pn("--liff-base-background-rgb-color",I_(f)),Pn("--liff-base-text-rgb-color",I_(h)),Pn("--liff-light-button-border-color",m),Pn("--liff-title-text-color",r),Pn("--liff-title-background-color",i),Pn("--liff-title-button-color",s),Pn("--liff-icon-color",t),Pn("--liff-status-bar-color",n),Pn("--liff-title-subtext-color",o),Pn("--liff-progress-bar-color",a),Pn("--liff-progress-background-color",l),Pn("--liff-title-button-area-background-color",P_(u)),Pn("--liff-title-button-area-border-color",P_(c))}function Pn(e,t){document.documentElement.style.setProperty(e,t)}var fie={addToHomeScreen:function(e){if(!new Nd(e).invoke("addToHomeScreen"))throw fe(Tt,"No permission for liff.addToHomeScreen()")},scanCode:function(e){if(!new Nd(e).invoke("scanCode"))return Promise.reject(fe(Tt,"No permission for liff.scanCode()"))},getAdvertisingId:function(e){if(!new Nd(e).invoke("getAdvertisingId"))return Promise.reject(fe(Tt,"No permission for liff.getAdvertisingId()"))},initPlugins:function(){}};function hie(e){return Ce(this,void 0,void 0,function(){var t;return Ee(this,function(n){switch(n.label){case 0:return[4,Nse()];case 1:return(t=n.sent())?(t.install(e,fie),[2]):[2]}})})}function pie(){return Ce(this,void 0,void 0,function(){return Ee(this,function(e){switch(e.label){case 0:return[4,nn(Kt("certs"))];case 1:return[2,e.sent()]}})})}function mie(e,t,n){return Ce(this,void 0,void 0,function(){var r;return Ee(this,function(o){switch(o.label){case 0:return[4,crypto.subtle.importKey("jwk",e,{name:"ECDSA",namedCurve:"P-256"},!1,["verify"])];case 1:return r=o.sent(),[4,crypto.subtle.verify({name:"ECDSA",hash:{name:"SHA-256"}},r,n,t)];case 2:return[2,o.sent()]}})})}function RS(e,t){return Ce(this,void 0,void 0,function(){var n,r,o,s,i,a,l,u,c,f,h,m,w,C,p,g;return Ee(this,function(b){switch(b.label){case 0:return n=e.split("."),r=Bt(n,3),o=r[0],s=r[1],i=r[2],a=JSON.parse(Ad.decode(o)),l=JSON.parse(Ad.decodeUnicode(s)),u=k_(Ad.decode(i)),c=k_("".concat(o,".").concat(s)),[4,pie()];case 1:if(f=b.sent(),!(h=f.keys.find(function(O){return O.kid===a.kid})))return[3,6];if(delete h.alg,a.alg!=="ES256")throw fe(os,'Invalid "alg" value in ID_TOKEN');m=void 0,b.label=2;case 2:return b.trys.push([2,4,,5]),[4,mie(h,c,u)];case 3:return m=b.sent(),[3,5];case 4:throw w=b.sent(),fe(os,"".concat("Failed to use Crypto API to verify ID_TOKEN",": ").concat(w));case 5:if(m){if(C=l.iss!=="https://access.".concat("line.me"),p=l.aud!==t,g=1e3*l.exp<Date.now(),C)throw fe(os,'Invalid "iss" value in ID_TOKEN');if(p)throw fe(os,'Invalid "aud" value in ID_TOKEN');if(g)throw fe(os,'Invalid "exp" value in ID_TOKEN');return[2,l]}throw fe(os,"Invalid signature in ID_TOKEN");case 6:throw fe(os,'Invalid "kid" value in ID_TOKEN');case 7:return[2]}})})}function zp(e){var t=e.split(".");if(t[1])try{var n=t[1].replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(window.atob(n))}catch{return null}return null}function NS(e){var t=e.pathname,n=e.query,r=n?"?".concat(Rn.stringify(n)):"",o="".concat("liff://").concat(t).concat(r);location.href=o}var Gf=null;function gie(){typeof Gf=="boolean"&&_t.warn("liff.init is not expected to be called more than once"),Gf=!!lse()||!(!wt()||Rn.parse(window.location.hash).feature_token||il())&&(use(!0),!0)}function Yf(){return!!Gf}function vie(e,t){return Ce(this,void 0,void 0,function(){var n;return Ee(this,function(r){switch(r.label){case 0:return(n=Oc())?[2,n]:e&&t?[4,Zse({msit:e,mstVerifier:t})]:[3,2];case 1:return[2,r.sent().mst];case 2:return[2,null]}})})}function yie(e){return nn("".concat(Kt("apps"),"/").concat(e,"/featureToken"))}function _ie(e){return Ce(this,void 0,void 0,function(){var t,n,r,o;return Ee(this,function(s){switch(s.label){case 0:return t=Rn.parse(window.location.hash),n=function(i){for(var a,l,u=[],c=1;c<arguments.length;c++)u[c-1]=arguments[c];var f=function(w){Object.keys(w).filter(function(C){return w[C]!==null&&w[C]!==void 0}).forEach(function(C){i[C]=w[C]})};try{for(var h=sl(u),m=h.next();!m.done;m=h.next())f(m.value)}catch(w){a={error:w}}finally{try{m&&!m.done&&(l=h.return)&&l.call(h)}finally{if(a)throw a.error}}return i}({access_token:ho(),context_token:yse(),feature_token:il(),id_token:Ac(),client_id:vse(),mst_challenge:QT(),mst_verifier:dse(),msit:hse()},t),Yf()?Nn()?[4,yie(e)]:[3,2]:[3,3];case 1:r=s.sent().featureToken,n.feature_token||(n.feature_token=r),s.label=2;case 2:(o=Ap(e))&&(n.client_id=o),s.label=3;case 3:return[2,n]}})})}function wie(e){if(e.persisted&&al("multipleLiffTransition"))if(Vn()==="ios")window.location.reload();else{var t=Qt().liffId,n=il();if(!t)throw fe(en,"Invalid LIFF ID.");if(!n)throw fe(Tt,"Invalid featureToken for client features");NS({pathname:"app/".concat(t),query:{feature_token:n}})}}function bie(e){var t,n;return Ce(this,void 0,void 0,function(){var r,o,s,i,a,l,u,c,f,h,m,w,C,p,g,b,O;return Ee(this,function(A){switch(A.label){case 0:return[4,new Promise(function(L){var N=qr();if(!N||vr(N,"9.5.0")<0)L();else if(window._liff&&window._liff.features)L();else{_t.debug("cannot find window._liff.features, listen to ready event");var I=function(){_t.debug("ready event is fired"),Bp("ready",I),L()};Mp("ready",I)}})];case 1:return A.sent(),gie(),[4,_ie(e.liffId)];case 2:if(r=A.sent(),o=r.access_token,s=r.context_token,i=r.feature_token,a=r.id_token,l=r.client_id,u=r.mst_verifier,c=r.mst_challenge,f=r.msit,s){if(typeof s!="string")throw fe(en,"Cannot get context token, perhaps there is an incorrect parameter in permanent link");Np(zp(s))}if(((t=bn())===null||t===void 0?void 0:t.liffId)!==void 0&&((n=bn())===null||n===void 0?void 0:n.liffId)!==e.liffId)throw fe(en,"Invalid LIFF ID");return!ro()&&i&&(function(L,N){al("multipleLiffTransition")&&NS({pathname:"app/".concat(L),query:{feature_token:N}})}(e.liffId,i),Yf()&&N_(i)),c&&gse(c),u&&fse(u),l&&XT(l),f&&pse(f),window.addEventListener("pageshow",wie),Nn()?[3,5]:i&&o?[3,5]:Yf()?(h=qa(location.href,{"liff.hback":"2"}),Ea({redirectUri:h}),[4,new Promise(function(){})]):[3,4];case 3:A.sent(),A.label=4;case 4:throw Ea(),fe(en,"Failed to parse feature_token or access_token");case 5:return o&&i?[4,aS(o)]:[3,7];case 6:if(m=A.sent(),w=m.client_id,C=m.expires_in,p=Ap(e.liffId),w!==p)throw Ea(),fe(en,"Failed to verify access_token");N_(i),tS(new Date(Date.now()+1e3*C)),Vp(o),A.label=7;case 7:return[4,vie(f,u)];case 8:return(g=A.sent())?(mse(g),[4,eie({mst:g})]):[3,10];case 9:(b=A.sent().data)&&xf(JSON.stringify(b)),A.label=10;case 10:return a&&!Ac()&&JT(a),a&&l&&!Dc()?[4,RS(a,l)]:[3,12];case 11:(O=A.sent())&&nS(O),A.label=12;case 12:return[2]}})})}function $ie(e){return Ce(this,void 0,void 0,function(){var t,n,r,o,s,i,a;return Ee(this,function(l){switch(l.label){case 0:return t=Kt("apps"),n="".concat(t,"/").concat(e,"/contextToken"),r=ho(),o={"Content-Type":"application/json",Accept:"application/json"},r&&(o.Authorization="Bearer ".concat(r)),[4,nn(n,{headers:o})];case 1:if(s=l.sent(),!(i=s.contextToken))throw fe(en,"Can not get context from server.");if(!(a=zp(i)))throw fe(en,"Invalid context token.");return[2,a]}})})}function VS(){return Ce(this,void 0,void 0,function(){var e,t;return Ee(this,function(n){switch(n.label){case 0:if(!(e=Qt().liffId))throw fe(en,"Invalid LIFF ID.");return[4,$ie(e)];case 1:return t=n.sent(),Np(t),[2]}})})}function Tie(e){return Ce(this,void 0,void 0,function(){var t,n,r,o=this;return Ee(this,function(s){switch(s.label){case 0:t=function(){return Ce(o,void 0,void 0,function(){var i,a,l,u,c,f;return Ee(this,function(h){switch(h.label){case 0:return[4,(m=Qt(),w=Rn.parse(window.location.search),C=eS(),p={grant_type:"authorization_code",client_id:w.liffClientId,appId:m.liffId,code:w.code,code_verifier:C.codeVerifier,redirect_uri:m.redirectUri||w.liffRedirectUri,id_token_key_type:"JWK"},g=Rn.stringify(p),nn(Kt("token"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:g}))];case 1:return i=h.sent(),a=i.access_token,l=i.id_token,u=i.expires_in,XT(e),Vp(a),tS(new Date(Date.now()+1e3*u)),V_(),l?(JT(l),[4,RS(l,e)]):[3,3];case 2:(c=h.sent())&&nS(c),h.label=3;case 3:return(f=Rn.parse(location.hash).context_token)?(Np(zp(f)),[3,6]):[3,4];case 4:return[4,VS()];case 5:h.sent(),h.label=6;case 6:return[2]}var m,w,C,p,g})})},s.label=1;case 1:return s.trys.push([1,3,,4]),[4,t()];case 2:return s.sent(),[3,4];case 3:throw n=s.sent(),r=n,V_(),r;case 4:return[2]}})})}function LS(){return Ce(this,void 0,void 0,function(){var e,t,n,r,o,s,i=this;return Ee(this,function(a){switch(a.label){case 0:return(t=Oi())?[3,2]:[4,wS(Ta.SUB)];case 1:t=a.sent(),a.label=2;case 2:return(e=t).isReady()?(n=gi(8),[4,e.getData("appData")]):[3,8];case 3:return r=a.sent(),o=r.eventName,s=r.data,o!==ru.NOT_FOUND?[3,6]:[4,e.teardown()];case 4:return a.sent(),[4,LS()];case 5:return[2,a.sent()];case 6:s&&xf(JSON.stringify(s)),a.label=7;case 7:return e.listen(function(l){return Ce(i,void 0,void 0,function(){var u,c;return Ee(this,function(f){return u=l.context,c=u.data,u.eventName===St.INIT&&(c==null?void 0:c.subWindowId)!==n&&ei(),u.eventName!==St.CANCEL&&u.eventName!==St.SUBMIT||e.teardown(),[2]})})}),Nn()&&e.send({eventName:St.INIT,data:{subWindowId:n,hasOpener:!!window.opener}}),[3,10];case 8:return $S()?[3,10]:[4,new Promise(function(l){window.addEventListener("message",function(u){return function c(f){var h=f.data,m=f.source,w=f.origin;if(h){var C=h.type,p=h.message;C===xu&&(window.removeEventListener("message",c),p&&xf(p),Kse(w),m&&m.postMessage&&m.postMessage({status:xu},w),u())}}}(l))})];case 9:return[2,a.sent()];case 10:return[2]}})})}var Sie=new(function(){function e(){var t=this;this.getAndValidateContext=function(){var n=bn();if(!n)throw fe(en,"Could not get Context from server.");if(!n.endpointUrl)throw fe(en,"Could not get endpointUrl from server.");if(!n.permanentLinkPattern)throw fe(en,"Could not get permanentLinkPattern from server.");return n},this.decodeState=function(n){var r=t.getAndValidateContext();n=n.replace(/\n/g,"%0D%0A");var o=!r.endpointUrl.startsWith("/?")&&r.endpointUrl.includes("/?")||!r.endpointUrl.startsWith("/#")&&r.endpointUrl.includes("/#")||r.endpointUrl.endsWith("/")||!n.startsWith("/?")&&n.includes("/?")||!n.startsWith("/#")&&n.includes("/#")||n.endsWith("/"),s=new URL(r.endpointUrl),i=s.origin,a=s.pathname,l=s.search,u=new URL("".concat(i).concat(t.attachSlashAtStart(n))),c=u.pathname,f=u.search,h=u.hash,m="".concat(l).concat(l?f.replace(/\?/g,"&"):f),w="".concat(a).concat(t.attachSlashAtStart(c)).replace("//","/");return(w=t.attachSlashAtStart("".concat(w))).endsWith("/")&&!o&&(w=w.substring(0,w.length-1)),"".concat(i).concat(w).concat(m).concat(h).replace(/%0D%0A/g,`
`)}}return e.prototype.attachSlashAtStart=function(t){return"".concat(t&&t.length>0&&!t.startsWith("/")?"/":"").concat(t)},e.prototype.invoke=function(){return Ce(this,void 0,void 0,function(){var t,n,r,o,s;return Ee(this,function(i){switch(i.label){case 0:if(t=Rn.parse(window.location.search),typeof(n=t["liff.state"])!="string")return[2];i.label=1;case 1:return i.trys.push([1,4,,5]),r=location.href,(o=this.decodeState(n))===r?[3,3]:(t["liff.hback"]?location.replace(qa(o,{"liff.hback":t["liff.hback"]})):location.replace(o),[4,new Promise(function(){})]);case 2:i.sent(),i.label=3;case 3:return[3,5];case 4:if((s=i.sent()).code===en)throw s;return _t.debug(s),[3,5];case 5:return[2]}})})},e}());function Cie(e,t){return Ce(this,void 0,void 0,function(){var n;return Ee(this,function(r){switch(r.label){case 0:if(!e.liffId)throw fe(Hr,"liffId is necessary for liff.init()");return ise(e),!wt()&&Nn()&&(wse()||Lp()),n=Rn.parse(window.location.search),!ro()||wt()?[3,2]:[4,LS()];case 1:r.sent(),r.label=2;case 2:if(n.error&&n.liffOAuth2Error)throw i=n.error,a=n.error_description,l=a.replace(/\+/g," "),u="".concat(i,": ").concat(l),fe(en,u);return o=n.code,s=eS(),o&&!Nn()&&s&&s.codeVerifier?[4,Tie(n.liffClientId)]:[3,4];case 3:r.sent(),r.label=4;case 4:return wt()?[4,bie(e)]:[3,6];case 5:return r.sent(),[3,8];case 6:return Nn()?[3,8]:[4,VS()];case 7:r.sent(),r.label=8;case 8:return[4,Sie.invoke()];case 9:return r.sent(),[4,t()];case 10:return r.sent(),rse(window.location.href),[2]}var o,s,i,a,l,u})})}var MS=function(e,t){return new Promise(function(n,r){if(e){var o=document.createElement("script");o.type="module",o.onload=function(){n()},o.src=e,document.head.appendChild(o)}else r(fe(Hr,t))})},Eie=function(e){var t="https://static.line-scdn.net/lui/edge/versions/1.13.0/lui-alert.js";return t&&e&&(t=t.replace(/\d{1,2}\.\d{1,2}\.\d{1,3}/,e)),MS(t,"LUI_ALERT_URL is not defined")},Bd=function(){return Ce(void 0,void 0,void 0,function(){var e;return Ee(this,function(t){switch(t.label){case 0:return e=function(){var r,o=document.querySelector('script[src*="luivendor.js"]');if(o&&(!((r=o.src.match(/\d{1,2}\.\d{1,2}\.\d{1,3}/g))===null||r===void 0)&&r.length))return o.src.match(/\d{1,2}\.\d{1,2}\.\d{1,3}/g)[0]}(),e?[3,2]:[4,MS("https://static.line-scdn.net/lui/edge/versions/1.13.0/luivendor.js","LUI_VENDOR_URL is not defined")];case 1:t.sent(),t.label=2;case 2:return[4,Eie(e)];case 3:return t.sent(),[4,(n=gi(6),new Promise(function(){var r=document.createElement("div");r.innerHTML='<lui-alert id="'.concat("liffAlert","-").concat(n,'" shown title="').concat(Ld("alert.android.extBrowser.autoLoginWorkaround.title"),'" message="').concat(Ld("alert.android.extBrowser.autoLoginWorkaround.desc"),'" button="').concat(Ld("alert.android.extBrowser.autoLoginWorkaround.button.text"),'"></lui-alert>'),document.body.appendChild(r);var o=document.getElementById("".concat("liffAlert","-").concat(n));o&&o.addEventListener("lui-button-click",function(){var s=window.open(qa(window.location.href,{liffIsEscapedFromApp:"true"}),"_blank");s&&(s.location.href=qa(window.location.href,{liffIsEscapedFromApp:"true"}),window.close())})}))];case 4:return t.sent(),[2]}var n})})},H_=function(e){try{return new URL(e).searchParams.get("lineAppVersion")}catch{return null}};function Pie(){var e;return Ce(this,void 0,void 0,function(){var t,n;return Ee(this,function(r){switch(r.label){case 0:return t=(e=H_(window.location.href))!==null&&e!==void 0?e:H_(window.document.referrer),t&&vr(t,"13.10.0")>=0?[2]:wt()||Vn()!=="android"||(n=Rn.parse(window.location.search))[lS]||n.liffIsEscapedFromApp?[2]:n.liffClientId&&document.referrer.includes("access.".concat("line.me"))?(window.location.href=qa(window.location.href,{liffIsEscapedFromApp:"true"}),[2]):n.liffClientId&&document.referrer.includes("android-app://")?[4,Bd()]:[3,2];case 1:r.sent(),r.label=2;case 2:return n.liffClientId&&document.referrer===""&&window.history.length===1?[4,Bd()]:[3,4];case 3:r.sent(),r.label=4;case 4:return!document.referrer.includes("liffClientId")||document.referrer.includes("liffIsEscapedFromApp")?[3,6]:[4,Bd()];case 5:r.sent(),r.label=6;case 6:return[2]}})})}var Iie=function(e){function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.hooks={before:new ea,after:new ea},n.internalHooks={beforeFinished:new ea,beforeSuccess:new ea,error:new ea},n}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"init"},enumerable:!1,configurable:!0}),t.prototype.install=function(n){var r=n.liff;return this.liffForWindow=r,this.init.bind(this)},t.prototype.init=function(n,r,o){return Ce(this,void 0,void 0,function(){var s;return Ee(this,function(i){switch(i.label){case 0:return[4,this.hooks.before.call()];case 1:i.sent(),a=this.liffForWindow,window&&!window.liff&&(window.liff=a),i.label=2;case 2:return i.trys.push([2,9,,11]),[4,Promise.all([hie(this.liffForWindow),Cie(n,this.internalHooks.beforeFinished.call)])];case 3:return i.sent(),die(),[4,this.internalHooks.beforeSuccess.call()];case 4:return i.sent(),!n.withLoginOnExternalBrowser||Nn()?[3,6]:(Ea(),[4,new Promise(function(){})]);case 5:i.sent(),i.label=6;case 6:return[4,Pie()];case 7:return i.sent(),[4,this.hooks.after.call()];case 8:return i.sent(),typeof r=="function"&&r(),MT(),[3,11];case 9:return s=i.sent(),[4,this.internalHooks.error.call(s)];case 10:throw i.sent(),typeof o=="function"&&o(s),s;case 11:return[2]}var a})})},t}(st);function BS(){return navigator.language}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"getLanguage"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return BS()}},t})(st);function FS(){var e=qr();if(!e||!wt()||Vn()!=="ios")return navigator.language;if(vr(e,"14.11.0")>=0){var t=window.prompt("LIFF:GET_APP_LANGUAGE");if(t)return t}return navigator.language}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"getAppLanguage"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return FS()}},t})(st);function jS(e){return Ce(this,void 0,void 0,function(){var t,n,r,o,s,i,a;return Ee(this,function(l){switch(l.label){case 0:return function(u){if(!Joe.includes(u))throw fe(Ut,"Unexpected permission name.");var c=bn();return!!(c!=null&&c.scope.includes(u))}(e)?(t=ho())?[4,aS(t)]:[3,2]:[2,{state:"unavailable"}];case 1:n=l.sent(),r=unescape(n.scope).split(" ");try{for(o=sl(r),s=o.next();!s.done;s=o.next())if(s.value.includes(e))return[2,{state:"granted"}]}catch(u){i={error:u}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}return[2,{state:"prompt"}];case 2:throw fe(_n,"LiffId is not found.")}})})}function xS(){var e,t,n=bn();return!!n&&n.type!=="square_chat"&&(al("skipChannelVerificationScreen")||!wt()&&((t=(e=n.availability)===null||e===void 0?void 0:e.skipChannelVerificationScreen)===null||t===void 0?void 0:t.permission))}function kie(){var e=Qt().liffId;if(e)return nn("".concat(Kt("unauthorizedPermissions"),"?liffId=").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(ho())}});throw fe(_n,"liffId is required")}var iu,xl=tr.on,Ul=tr.off,Oie=tr.open,Aie=function(){function e(t,n){var r=this;this.onSubmit=function(o){var s=o.newAccessToken,i=o.ICA_ERROR;return Ce(r,void 0,void 0,function(){return Ee(this,function(a){return s?this.resolve({newAccessToken:s}):i&&this.reject(fe(Gn,i)),this.teardown(),[2]})})},this.onClose=function(){return Ce(r,void 0,void 0,function(){return Ee(this,function(o){return this.reject(fe(_n,"user didn't allow the agreement")),this.teardown(),[2]})})},this.onCancel=function(){return Ce(r,void 0,void 0,function(){return Ee(this,function(o){return this.reject(fe(_n,"user didn't allow the agreement")),this.teardown(),[2]})})},this.onError=function(o){return Ce(r,void 0,void 0,function(){return Ee(this,function(s){return this.reject(o),this.teardown(),[2]})})},this.resolve=t,this.reject=n,this.setup()}return e.prototype.setup=function(){xl("submit",this.onSubmit),xl("close",this.onClose),xl("cancel",this.onCancel),xl("error",this.onError)},e.prototype.teardown=function(){Ul("submit",this.onSubmit),Ul("close",this.onClose),Ul("cancel",this.onCancel),Ul("error",this.onError),iu=void 0},e.prototype.open=function(t){var n=Qt().liffId;n?Oie({url:"".concat("https://liff.line.me/1656032314-Xgrw5Pmk"),appData:{liffId:n,channelId:Ap(n),accessToken:ho()},onBeforeTransition:t}).catch(this.reject):this.reject(fe(_n,"liffId is required"))},e}();function US(){return Ce(this,void 0,void 0,function(){var e,t,n=this;return Ee(this,function(r){switch(r.label){case 0:if(!xS())throw fe(Tt,"SkipChannelVerificationScreen is unavailable.");return iu&&iu.teardown(),e=function(){return Ce(n,void 0,void 0,function(){var o;return Ee(this,function(s){switch(s.label){case 0:return[4,kie()];case 1:if(o=s.sent(),(wt()?o:o.filter(function(i){return i!=="chat_message.write"})).length<=0)throw fe(Tt,"All permissions have already been approved.");return[2]}})})},[4,new Promise(function(o,s){(iu=new Aie(o,s)).open(e)})];case 1:return t=r.sent().newAccessToken,Vp(t),[2]}})})}function ti(e,t){var n=this;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return Ce(n,void 0,void 0,function(){var s,i,a;return Ee(this,function(l){switch(l.label){case 0:return s=(r.length>0?r[r.length-1]:{}).ignorePermissionCheck,i=s!==void 0&&s,[4,jS(t)];case 1:if((a=l.sent().state)!=="unavailable")return[3,2];throw fe(Tt,"The permission is not in LIFF app scope.");case 2:return a!=="prompt"||!xS()||i||!wt()&&t==="chat_message.write"?[3,4]:[4,US()];case 3:return l.sent(),[3,5];case 4:i&&r.pop(),l.label=5;case 5:return[4,e.apply(void 0,Tr([],Bt(r),!1))];case 6:return[2,l.sent()]}})})}}var Die=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"permission"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return{query:jS,requestAll:US}},t}(st),Rie=new Die;function Hp(){return nn(Kt("profile"))}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"getProfile"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return ti(Hp,"profile")},t})(st);var Nie=function(e,t){return e?"&".concat(e.split("&").filter(function(n){return n.indexOf("is_liff_external_open_window")===-1}).join("&").concat("".concat(t?"#".concat(t):""))):"".concat(t?"#".concat(t):"")};function Vc(e){if(!function(s){if(!s||typeof s!="object")return!1;var i=s,a=i.url,l=i.external,u=Bt([typeof a,typeof l],2),c=u[0],f=u[1];return c==="string"&&a!==""&&(f==="undefined"||f==="boolean")}(e))throw fe(Ut,"Invalid parameters for liff.openWindow()");var t=qr();if(wt())if(t!==null&&Vn()==="ios"&&vr(t,"9.19")>=0||!window._liff.postMessage){var n=e.url,r=e.external,o=r!==void 0&&r;window.open(function(s,i){var a,l,u,c,f,h,m,w,C;(function(g){return g.indexOf("#")!==-1&&g.indexOf("?")!==-1&&g.indexOf("#")<g.indexOf("?")})(s)||function(g){return g.indexOf("?")===-1&&g.indexOf("#")!==-1}(s)?(m=(a=Bt(s.split("#"),2))[0],l=a[1],w=(u=Bt((l===void 0?"":l).split("?"),2))[0],C=u[1]):(m=(c=Bt(s.split("?"),2))[0],f=c[1],C=(h=Bt((f===void 0?"":f).split("#"),2))[0],w=h[1]);var p=Nie(C,w);return"".concat(m,"?").concat("is_liff_external_open_window","=").concat(!!i).concat(p)}(n,o))}else Fp("openWindow",e);else window.open(e.url,"_blank")}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"openWindow"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(n){return Vc(n)}},t})(st);var Vie=function(e){return typeof e=="object"&&e!==null&&function(t){return typeof t=="string"||t instanceof String}(e.type)};function q_(e){return Promise.reject(fe(Ut,e))}function zS(e){if(!function(n){return Array.isArray(n)&&n.every(Vie)}(e))return q_("Parameter 'messages' must be an array of { type, ... }");var t=e.length;return t<1||t>5?q_("Number of messages should be in range 1 to ".concat(5,".")):nn(Kt("message"),{method:"POST",body:JSON.stringify({messages:e})}).catch(Lie)}var Lie=function(e){if(e.code==="403"){var t=qr()==="12.0.0",n=Vn()==="ios",r=Rp();t&&(n||r)&&window.alert(`LINEアプリをLINE 12.0.1以降にアップデートしてください。
Please update your LINE app to LINE 12.0.1 or later.`)}throw e};(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"sendMessages"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return ti(zS,"chat_message.write")},t})(st);function HS(){return nn(Kt("friendship"))}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"getFriendship"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return ti(HS,"profile")},t})(st);function Mie(){return Ce(this,void 0,void 0,function(){var e,t;return Ee(this,function(n){switch(n.label){case 0:if(!Nn())return[3,6];n.label=1;case 1:return n.trys.push([1,5,,6]),(e=Dc())&&e.sub?[2,e.sub]:[3,2];case 2:return[4,Hp()];case 3:if((t=n.sent())&&t.userId)return[2,t.userId];n.label=4;case 4:return[3,6];case 5:return n.sent(),_t.debug("can't retrieve Mid/Uid because of something wrong"),[3,6];case 6:return[2]}})})}function Bie(){return Ce(this,void 0,void 0,function(){var e;return Ee(this,function(t){switch(t.label){case 0:return[4,Mie()];case 1:return(e=t.sent())&&e.substring(0,1)==="u"?[2,e]:[2]}})})}var Fie=function(e){function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.utsExtra={isLiffSuccessful:!1,isLoggedIn:!1,id:"",version:""},n.injected=!1,n}return at(t,e),Object.defineProperty(t,"CUSTOMPLACEID_INIT",{get:function(){return"liff.init"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"CUSTOMTYPE",{get:function(){return"liffSdk"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"LiffUtsLoginStatus",{get:function(){return{isLoggedIn:1,isLiffSuccessful:2}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"analytics"},enumerable:!1,configurable:!0}),t.prototype.install=function(n){var r=n.liff,o=n.internalHooks;this.liffCore=r,o.init.beforeFinished(this.beforeInitFinished.bind(this)),o.init.beforeSuccess(this.beforeInitSuccess.bind(this)),o.init.error(this.initError.bind(this))},t.prototype.changeRatioToUTSFormat=function(n){if(n&&Number.isFinite(n))return Math.round(100*n)},t.prototype.setExtra=function(){var n,r=this.utsExtra,o=r.isLiffSuccessful,s=r.isLoggedIn,i=r.id,a=r.version,l=(s?t.LiffUtsLoginStatus.isLoggedIn:0)|(o?t.LiffUtsLoginStatus.isLiffSuccessful:0);(n=this.uts)===null||n===void 0||n.setExtra("liff",{id:i,loginStatus:l,version:a})},t.prototype.assignUtsExtra=function(n){Object.assign(this.utsExtra,n)},t.prototype.setVersion=function(n){this.assignUtsExtra({version:n}),_t.debug("[LIFFUTS][SDK version] ".concat(n)),this.setExtra()},t.prototype.setLiffId=function(n){this.assignUtsExtra({id:n}),_t.debug("[LIFFUTS][LIFFID] ".concat(n)),this.setExtra()},t.prototype.setIsLoggedIn=function(n){this.assignUtsExtra({isLoggedIn:n}),_t.debug("[LIFFUTS][isLoggedIn] ".concat(n)),this.setExtra()},t.prototype.sendLiffInit=function(){var n;_t.debug("[LIFFUTS][sendCustom] liff.init"),(n=this.uts)===null||n===void 0||n.sendCustom({type:t.CUSTOMTYPE,params:{placeId:t.CUSTOMPLACEID_INIT}})},t.prototype.setIsLiffSuccessful=function(n){this.assignUtsExtra({isLiffSuccessful:n}),_t.debug("[LIFFUTS][isLiffInitSuccessful] ".concat(n)),this.setExtra()},t.prototype.prepareReferrer=function(n){var r={};Object.keys(n).forEach(function(o){if(Yoe.includes(o)){var s=n[o];typeof s=="string"&&s&&(r[o.replace(/^liff\.ref\./,"")]=s)}}),Object.keys(r).length>0&&(this.referrer=r)},t.prototype.beforeInitFinished=function(){return Ce(this,void 0,void 0,function(){var n,r,o,s,i,a,l,u,c,f,h,m;return Ee(this,function(w){switch(w.label){case 0:if(n=Rn.parse(window.location.search),this.prepareReferrer(n),r=bn(),!(o=r==null?void 0:r.utsTracking))return[2];if(s=Qt(),i=s.liffId,a=s.analytics,o.mode!=="auto"||!a)return[3,6];_t.debug("[LIFFUTS] ".concat(new Date().toUTCString())),w.label=1;case 1:return w.trys.push([1,3,,4]),l=this,[4,new Promise(function(C,p){var g=window.uts,b=document.createElement("script");b.type="text/javascript",b.src="https://static.line-scdn.net/uts/edge/4.1.0/uts.js",b.onload=function(){var O=window.uts;C(O),window.uts=g},b.onerror=function(O){p(O)},document.getElementsByTagName("head")[0].appendChild(b)})];case 2:return l.uts=w.sent(),[3,4];case 3:return u=w.sent(),_t.debug("[LIFFUTS] cannot load UTS, reason: ".concat(u)),[2];case 4:return c=Ft(Ft({},a.context),{utsId:a.context.utsId,appName:a.context.appName,appEnv:a.context.appEnv||"release"}),f=Ft(Ft({endpoint:"https://uts-front.line-apps.com"},a.options),{sampleRate:this.changeRatioToUTSFormat(o.sendRatio),version:"current"}),this.uts.init(c,f),[4,Bie()];case 5:(h=w.sent())&&(_t.debug("[LIFFUTS][mid] ".concat(h)),this.uts.setMid(h)),r!=null&&r.tid&&(_t.debug("[LIFFUTS][tid] ".concat(r.tid)),this.uts.setTid(r.tid)),this.referrer&&(_t.debug("liff.ref.referrer",this.referrer),this.uts.setSessionParams(this.referrer)),i&&this.setLiffId(i),this.setIsLoggedIn(Nn()),this.setVersion(Rc()),m=zT(location.href),_t.debug("[LIFFUTS][url] ".concat(m)),this.uts.setUrl(m),this.liffCore.analytics=this.uts,this.injected=!0,w.label=6;case 6:return[2]}})})},t.prototype.beforeInitSuccess=function(){return this.injected&&(this.setIsLiffSuccessful(!0),this.sendLiffInit()),Promise.resolve()},t.prototype.initError=function(){return this.injected&&(this.setIsLiffSuccessful(!1),this.sendLiffInit()),Promise.resolve()},t}(st),jie=function(e){_t.debug("[LIFFUTS][sendCustom] liff.shareTargetPicker"),e.sendCustom({type:"liffSdk",params:{placeId:"liff.shareTargetPicker"}})},xie=/([\x90\x9D\x81\x8D\x8F<"{|}>\\^`“›„•‚ŽŠ…’—ž–‘”‡™‰ŒšŸ‹œ†¥¿©áÄýÍÎðô]|\n|.*#.*#|%(?![0-9A-Fa-f]{2})[^%]{0,2})/,qS=function(e){if(xie.test(e))throw fe(Ut,"invalid URL.");var t=new URL(e),n=t.username,r=t.password,o=t.hash,s=t.search;return{username:n,password:r,pathname:t.pathname,hash:o,origin:t.origin,search:s}},W_=function(e){return e.substring(1).split("&").filter(function(t){return!/^liff\./.test(t)&&!!t})},Uie=function(e,t){var n=e.substring(t.length);return n==="/"?"":(n.length>0&&n[0]!=="/"&&(n="/"+n),n)},K_=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})},zie=function(e,t){var n=function(r,o){for(var s=Tr([],Bt(r),!1),i=0;i<o.length;i++){var a=o[i],l=s.indexOf(a);l>-1&&s.splice(l,1)}return s}(function(r){var o,s,i=r.replace(/\+/g,"%2B"),a=new URLSearchParams(i),l=[];try{for(var u=sl(a.entries()),c=u.next();!c.done;c=u.next()){var f=Bt(c.value,2),h=f[0],m=f[1];l.push("".concat(K_(h),"=").concat(K_(m)))}}catch(C){o={error:C}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}if(l.length===0)return[""];var w=r.split("&");return l.map(function(C,p){return C.endsWith("=")&&!w[p].endsWith("=")?C.slice(0,-1):C})}(W_(e).join("&")),W_(t)).join("&");return n!==""?"?".concat(n):""},Hie=function(e){var t=new RegExp("^".concat(kp.join("|"))),n=e.substring(1).split("&").filter(function(r){return!t.test(r)&&!!r}).join("&");return n?"#".concat(n):""},WS=function(e,t){return t.indexOf(e)===0&&(e.endsWith("/")&&(e=e.substring(0,e.length-1)),t[e.length]===void 0||t[e.length]==="/")},KS=function(e,t){var n=qS(e),r=new URL(t);if(n.username!==r.username||n.password!==r.password||r.origin!==n.origin||!WS(r.pathname,n.pathname))throw fe(Ut,"invalid URL.")},qie=function(e){function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.extraParams="",n.getAndValidateContext=function(){var r=bn();if(!r)throw fe(en,"Could not get Context from server.");if(!r.endpointUrl)throw fe(en,"Could not get endpointUrl from server.");if(!r.permanentLinkPattern)throw fe(en,"Could not get permanentLinkPattern from server.");return r},n.createUrl=function(){var r=n.getAndValidateContext(),o=window.location,s=o.pathname,i=o.search,a=o.hash,l=o.origin,u=new URL(r.endpointUrl);if(u.origin!==l||!WS(u.pathname,s))throw fe(Hr,"Current page is not under entrypoint.");var c=s.substring(u.pathname.length);c.length>0&&c[0]!=="/"&&(c="/"+c);var f=new RegExp("^".concat(kp.join("|"))),h=a.substring(1).split("&").filter(function(N){return!f.test(N)&&!!N}).join("&"),m=h===u.hash.substring(1)?"":h,w=function(N){return N.substring(1).split("&").filter(function(I){return!/liff\.state/.test(I)&&!!I})},C=w(i),p=w(u.search);n.extraParams&&C.push(n.extraParams);for(var g=0;g<p.length;g++){var b=p[g],O=C.indexOf(b);O>-1&&C.splice(O,1)}var A=C.join("&"),L="".concat(c).concat(A!==""?"?".concat(A):"").concat(m?"#".concat(m):"");return"".concat(ju).concat(Qt().liffId).concat(L)},n.createUrlBy=function(r){return Ce(n,void 0,void 0,function(){var o,s,i,a,l,u;return Ee(this,function(c){if(!(o=Qt().liffId))throw fe(en,"Should run after liff init.");return s=this.getAndValidateContext(),KS(r,s.endpointUrl),i=qS(r),a=new URL(s.endpointUrl),l=s.miniDomainAllowed?Ff:ju,u=s.miniDomainAllowed&&s.miniAppId?s.miniAppId:o,[2,l.concat(u,Uie(i.pathname,a.pathname),zie(i.search,a.search),Hie(i.hash))]})})},n.setExtraQueryParam=function(r){n.extraParams=r},n.install=function(){return{createUrl:n.createUrl,createUrlBy:n.createUrlBy,setExtraQueryParam:n.setExtraQueryParam}},n}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"permanentLink"},enumerable:!1,configurable:!0}),t}(st),Wie=new qie,Ks,Kie=function(){function e(t,n){var r=this;this.resolve=t,this.reject=n,this.onSubmit=function(o){var s=o.message;r.resolve({value:s}),r.destroy()},this.onClose=function(){r.resolve({value:null}),r.destroy()},this.onCancel=function(){r.resolve({value:null}),r.destroy()},this.onError=function(o){r.reject(o),r.destroy()},this.start()}return e.prototype.start=function(){tr.on("submit",this.onSubmit),tr.on("close",this.onClose),tr.on("cancel",this.onCancel),tr.on("error",this.onError)},e.prototype.destroy=function(){tr.off("submit",this.onSubmit),tr.off("close",this.onClose),tr.off("cancel",this.onCancel),tr.off("error",this.onError),Ks=void 0},e}();function Gie(){return Ce(this,void 0,void 0,function(){return Ee(this,function(e){return ki.scanCodeV2(),Ks&&Ks.destroy(),[2,new Promise(function(t,n){Ks=new Kie(t,n),tr.open({url:"https://liff.line.me/1656359117-jxmx5e11"}).catch(function(r){Ks==null||Ks.destroy(),n(r)})})]})})}var Yie=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"scanCodeV2"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return Gie},t}(st),Qie=new Yie,GS={};function Xie(){return GS}function Jie(e,t){var n=Xie(),r=Bt(t.split("."),1)[0],o=n[t];o&&e.removeEventListener(r,o),n[t]=null}var G_=!1,Y_=!1;function Zie(e,t,n,r){G_||(Y_=function(){var s=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return s=!0,!1}});window.addEventListener("test",i,i),window.removeEventListener("test",i,i)}catch{s=!1}return s}(),G_=!0);var o=Bt(t.split("."),1)[0];return new Promise(function(s){var i=function(a){s(a),n&&n(a)};(function(a,l){GS[a]=l})(t,i),e.addEventListener(o,i,!!Y_&&r)})}function Q_(e,t,n,r){if(n===void 0&&(n={}),typeof e!="object"||!e.postMessage)throw fe(Ut,"target must be window object");if(typeof t!="string")throw fe(Ut,"keyname must be string");if(typeof n!="object")throw fe(Ut,"incorrect body format. It should be Object or Array comprised of Object");if(!r)throw fe(Ut,"serverEndPointUrl isn't passed. please fill up with proper url");if(r==="*")throw new Error("serverEndPointUrl doesn't allow to set '*'");var o={name:t,body:n};e.postMessage(o,r)}function eae(e,t,n,r){Zie(e,"message.".concat(t),function(o,s,i){return function(a){_t.debug("messageReceive",a),a.origin===i&&a.data.name===o&&s(a)}}(t,n,r))}var tae=function(){function e(){this.payloadToShareTargetPicker=null,this.popupWindow=null,this.doesWaitForSubwindowResult=!1}return e.getInstance=function(){return e.instance?e.instance.reset():e.instance=new e,e.instance},e.prototype.init=function(t){return Ce(this,void 0,void 0,function(){var n,r;return Ee(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),this.liffId=t.referrer.liffId,this.doesWaitForSubwindowResult=!(!t.options||!t.options.waitForSubwindowResult),this.allowPostMessageOrigin=this.initAllowPostMessageOrigin(),this.payloadToShareTargetPicker=this.buildPayloadToShareTargetPicker(t),window.AbortController&&(this.abortController=new window.AbortController),this.prepareAnotherWindow(),[4,this.initOtt()];case 1:return o.sent(),this.initListener(),this.openAnotherWindow(),this.doesWaitForSubwindowResult?[4,this.pollingShareResult()]:[3,3];case 2:return n=o.sent(),this.finalize(),[2,n];case 3:case 6:return[2];case 4:return[3,6];case 5:if(r=o.sent(),this.finalize(),r.name!=="AbortError")throw r;return[3,6]}})})},e.prototype.resetAllVariables=function(){this.liffId="",this.allowPostMessageOrigin="",this.payloadToShareTargetPicker=null,this.ott="",this.popupWindow=null,this.timeoutIDForHealthCheck=null,this.abortController=null,this.internalError=null,this.doesWaitForSubwindowResult=!1},e.prototype.reset=function(){this.finalize(),this.resetAllVariables()},e.prototype.finalize=function(){var t,n;this.abortController&&this.abortController.abort(),wt()||(t=this.timeoutIDForHealthCheck,n=this.popupWindow,Jie(window,"message.receivedHealthcheck"),t&&clearTimeout(t),n&&!n.closed&&n.close())},e.prototype.buildPayloadToShareTargetPicker=function(t){return{messages:t.messages,isMultiple:t.isMultiple,referrer:t.referrer}},e.prototype.initAllowPostMessageOrigin=function(t){return t===void 0&&(t=Kt("shareTargetPicker")),ose(t)},e.prototype.initOtt=function(){return Ce(this,void 0,void 0,function(){var t,n,r;return Ee(this,function(o){switch(o.label){case 0:return this.abortController&&(t=this.abortController.signal),n="".concat(Kt("shareTargetPickerOtt"),"/").concat(this.liffId,"/ott"),r=this,[4,nn(n,{method:"GET",signal:t}).then(function(s){return s.ott})];case 1:return r.ott=o.sent(),[2]}})})},e.prototype.prepareAnotherWindow=function(){wt()||(Vn()!=="ios"||Rp()?this.popupWindow=window.open("","liffpopup","width=480, height=640, menubar=no, toolbar=no, scrollbars=yes"):this.popupWindow=window.open())},e.prototype.openAnotherWindow=function(){if(wt()&&this.payloadToShareTargetPicker)t=this.liffId,n=this.ott,r=this.payloadToShareTargetPicker,o={liffId:t,ott:n,data:JSON.stringify(r),closeModals:!1},location.href="".concat("line://picker","?").concat(Rn.stringify(o));else{if(this.timeoutIDForHealthCheck=window.setTimeout(this.healthCheck.bind(this),1e3),!this.popupWindow)throw fe(Mf);(function(s,i,a){var l={liffId:i,ott:a};s.location.href="".concat(Kt("shareTargetPicker"),"?").concat(Rn.stringify(l))})(this.popupWindow,this.liffId,this.ott)}var t,n,r,o},e.prototype.initListener=function(){var t,n;wt()||(t=this.onReceivedHealthcheck.bind(this),n=this.allowPostMessageOrigin,eae(window,"receivedHealthcheck",t,n))},e.prototype.healthCheck=function(){return Ce(this,void 0,void 0,function(){var t;return Ee(this,function(n){switch(n.label){case 0:if(this.popupWindow&&!this.popupWindow.closed)return[3,7];if(!this.doesWaitForSubwindowResult)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.onCanceled()];case 2:return n.sent(),[3,4];case 3:return t=n.sent(),this.internalError=t,[3,4];case 4:return[3,6];case 5:this.finalize(),n.label=6;case 6:return[3,8];case 7:r=this.popupWindow,o=this.allowPostMessageOrigin,Q_(r,"healthcheck",void 0,o),this.timeoutIDForHealthCheck=window.setTimeout(this.healthCheck.bind(this),1e3),n.label=8;case 8:return[2]}var r,o})})},e.prototype.onReceivedHealthcheck=function(){if(!this.popupWindow||!this.payloadToShareTargetPicker)throw fe(Mf);var t,n,r;t=this.popupWindow,n=this.payloadToShareTargetPicker,r=this.allowPostMessageOrigin,Q_(t,"ready",n,r)},e.prototype.onCanceled=function(){return Ce(this,void 0,void 0,function(){var t,n;return Ee(this,function(r){switch(r.label){case 0:if(wt()||!this.ott)throw new Error("need to call with ott in client");return this.abortController&&(t=this.abortController.signal),n={liffId:this.liffId,ott:this.ott},[4,nn("".concat(Kt("shareTargetPickerResult"),"?").concat(Rn.stringify(n)),{method:"POST",signal:t,headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},body:"result=CANCEL"})];case 1:return[2,r.sent().status==="ok"]}})})},e.prototype.getShareResult=function(){return Ce(this,void 0,void 0,function(){var t,n;return Ee(this,function(r){if(!this.ott)throw new Error("need to call with ott in client");return this.abortController&&(t=this.abortController.signal),n={liffId:this.liffId,ott:this.ott},_t.debug("fetch: getShareResult"),[2,nn("".concat(Kt("shareTargetPickerResult"),"?").concat(Rn.stringify(n)),{method:"GET",headers:{Accept:"application/json"},signal:t})]})})},e.isPollingTimeOut=function(t,n){return(n-t)/6e4>=10},e.prototype.pollingShareResult=function(){return Ce(this,void 0,void 0,function(){var t,n;return Ee(this,function(r){switch(r.label){case 0:t=Date.now(),r.label=1;case 1:if(e.isPollingTimeOut(t,Date.now()))return[3,4];if(this.internalError)throw this.internalError;return[4,this.getShareResult()];case 2:if((n=r.sent())&&n.result)switch(n.result){case"SUCCESS":return[2,{status:"success"}];case"CANCEL":return[2];default:throw new Error(n.resultDescription)}return[4,new Promise(function(o){setTimeout(o,500)})];case 3:return r.sent(),[3,1];case 4:throw new Error("Timeout: not finished within ".concat(10,"min"))}})})},e}(),nae=function(e){function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.shareTargetPicker=function(r,o){return o===void 0&&(o={}),Ce(n,void 0,void 0,function(){var s,i,a,l,u,c,f;return Ee(this,function(h){switch(h.label){case 0:if(ki.shareTargetPicker(),!r||!Array.isArray(r)||r.length===0)throw fe(Ut,"no proper argument");if(r.length>Goe)throw fe(Ut,"exceed the limit of num of messages");if(!(s=Qt().liffId))throw fe(Hr);window.liff&&(i=window.liff).analytics&&jie(i.analytics),a=o.isMultiple===void 0||o.isMultiple,h.label=1;case 1:return h.trys.push([1,3,,4]),l=tae.getInstance(),u=qr(),c={waitForSubwindowResult:!0},wt()&&u&&vr(u,"10.11.0")<0&&(c.waitForSubwindowResult=!1),[4,l.init({messages:r,isMultiple:a,referrer:{liffId:s,url:location.origin},options:c})];case 2:return[2,h.sent()];case 3:throw(f=h.sent())instanceof xT?f:fe(Bf,f.message);case 4:return[2]}})})},n}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"shareTargetPicker"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return this.shareTargetPicker},t}(st),rae=new nae;function YS(e,t){return Ce(this,void 0,void 0,function(){var n,r;return Ee(this,function(o){switch(o.label){case 0:return n=Kt("createShortcutOnHomeScreen"),(r=new URL(n)).searchParams.append("liffId",e),r.searchParams.append("url",t.url),t.description&&r.searchParams.append("description",t.description),[4,nn(r.toString())];case 1:return[2,o.sent().shortcutPageUrl]}})})}function QS(e){if(jf(e))throw fe(Ut,"LINE URL scheme are not supported in the current environment.")}function oae(e,t){return Ce(this,void 0,void 0,function(){var n;return Ee(this,function(r){switch(r.label){case 0:return wt()?[2]:[4,new Promise(function(o){setTimeout(o,1e3)})];case 1:return r.sent(),document.visibilityState==="hidden"?[2]:(QS(t.url),[4,YS(e,t)]);case 2:return n=r.sent(),Vc({url:n,external:!0}),[2]}})})}function sae(e,t){return Ce(this,void 0,void 0,function(){var n,r;return Ee(this,function(o){switch(o.label){case 0:return n={liffId:e,targetUrl:t.url,description:t.description},r="".concat("line://shortcut/liff","?").concat(Rn.stringify(n)),location.href=r,[4,oae(e,t)];case 1:return o.sent(),[2]}})})}function iae(e,t){return Ce(this,void 0,void 0,function(){var n;return Ee(this,function(r){switch(r.label){case 0:return QS(t.url),[4,YS(e,t)];case 1:return n=r.sent(),Vc({url:n,external:!0}),[2]}})})}function XS(e){var t;if(e.url===void 0||e.url===null||e.url==="")throw fe(Ut,"no proper argument");var n=bn();if(!(!((t=n==null?void 0:n.availability.addToHomeLineScheme)===null||t===void 0)&&t.permission)){if(jf(e.url))throw fe(Tt,"No permission to specify line schema in url.");if(e.description)throw fe(Tt,"No permission to specify description.")}if(!jf(e.url)){if(!n)throw fe(Tt,"Could not get Context from server.");n.liffId!==Dp(e.url)&&KS(e.url,n.endpointUrl)}}function aae(e){return Ce(this,void 0,void 0,function(){return Ee(this,function(t){switch(t.label){case 0:return XS(e),ki.internalCreateShortcutOnHomeScreen(),[4,JS(e)];case 1:return t.sent(),[2]}})})}function lae(e){return Ce(this,void 0,void 0,function(){return Ee(this,function(t){switch(t.label){case 0:return XS(e),ki.createShortcutOnHomeScreen(),[4,JS(e)];case 1:return t.sent(),[2]}})})}function JS(e){return Ce(this,void 0,void 0,function(){var t;return Ee(this,function(n){switch(n.label){case 0:if(!(t=Qt().liffId))throw fe(en,"Invalid LIFF ID.");return Vn()==="ios"?[4,iae(t,e)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,sae(t,e)];case 3:n.sent(),n.label=4;case 4:return[2]}})})}var uae=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"createShortcutOnHomeScreen"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(n){return lae(n)}},t}(st),cae=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return at(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"internalCreateShortcutOnHomeScreen"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(n){return aae(n)}},t}(st),dae={},qp=Object.defineProperties(dae,{getOS:{value:Vn,enumerable:!0,writable:!0},getVersion:{value:Rc,enumerable:!0,writable:!0},getLanguage:{value:BS,enumerable:!0,writable:!0},getAppLanguage:{value:FS,enumerable:!0,writable:!0},isInClient:{value:wt,enumerable:!0,writable:!0},isLoggedIn:{value:Nn,enumerable:!0,writable:!0},logout:{value:Lp,enumerable:!0,writable:!0},getAccessToken:{value:ho,enumerable:!0,writable:!0},getIDToken:{value:Ac,enumerable:!0,writable:!0},getDecodedIDToken:{value:Dc,enumerable:!0,writable:!0},getContext:{value:bn,enumerable:!0,writable:!0},openWindow:{value:Vc,enumerable:!0,writable:!0},closeWindow:{value:ei,enumerable:!0,writable:!0},getFriendship:{value:ti(HS,"profile"),enumerable:!0,writable:!0},getAId:{value:KT,enumerable:!0,writable:!0},getProfilePlus:{value:YT,enumerable:!0,writable:!0},getIsVideoAutoPlay:{value:GT,enumerable:!0,writable:!0},getLineVersion:{value:qr,enumerable:!0,writable:!0},isApiAvailable:{value:al,enumerable:!0,writable:!0},getProfile:{value:ti(Hp,"profile"),enumerable:!0,writable:!0},sendMessages:{value:ti(zS,"chat_message.write"),enumerable:!0,writable:!0},subWindow:{value:tr,enumerable:!0,writable:!0},ready:{value:Koe,enumerable:!0,writable:!0},id:{get:function(){return Qt().liffId||null},enumerable:!0},_dispatchEvent:{value:qse,enumerable:!0,writable:!0},_call:{value:Fp,enumerable:!0,writable:!0},_addListener:{value:Mp,enumerable:!0,writable:!0},_removeListener:{value:Bp,enumerable:!0,writable:!0},_postMessage:{value:cS,enumerable:!0,writable:!0}}),Wp=new Woe,ZS=new qoe(Wp,qp),fae=new LT(Wp,ZS).install();function hae(e){fae.call(qp,e)}[new LT(Wp,ZS),new aie,new Iie,new Fie,Qie,Wie,rS,Rie,rae,cie,new Dse,new uae,new cae].forEach(hae);var pae=qp;const mae="2006541842-EJ6dB3lV";let X_=!1;async function gae(){if(X_){console.log("LIFF 已初始化，跳過重複初始化");return}try{await pae.init({liffId:mae}),X_=!0,console.log("LIFF 初始化成功")}catch(e){throw console.error("LIFF 初始化失敗:",e),new Error("LIFF 初始化失敗")}}const vae={class:"orders-subtotal-box"},yae={class:"shopping-cart-icon-box"},_ae={key:0,class:"badge"},wae={class:"order-subtotal-dialog-box"},bae={class:"dialog-content"},$ae={class:"cart-items"},Tae={class:"item-info"},Sae={class:"item-name"},Cae={class:"item-additional"},Eae={class:"dialog-num-box"},Pae={class:"img-box"},Iae=["src"],kae={class:"dialog-total-count"},Oae={class:"dialog-footer"},Aae=Le({__name:"OrderSubtotal",setup(e){const t=kc();console.log("orderStore",t.items);const n=F(()=>t.items.reduce((u,c)=>u+c.price*c.quantity,0)),r=H(!1),o=()=>{r.value=!0},s=Ic(),i=()=>{if(t.items.length===0){wa.danger("請先選擇商品");return}s.push({name:"order-confirm"})},a=u=>{t.updateItemQuantity(u.id,parseInt(u.quantity,10),u.addons)},l=F(()=>`${n.value.toFixed()}`);return(u,c)=>{const f=ue("nut-button"),h=ue("nut-input-number"),m=ue("nut-dialog");return y(),T("div",null,[$("div",vae,[$("div",null,[c[3]||(c[3]=$("span",{style:{"margin-right":"10px"}},"訂單小計",-1)),$("span",null,[c[2]||(c[2]=$("span",{class:"currency-symbol"},"$",-1)),Ie(x(l.value),1)])]),$("div",null,[X(f,{type:"primary",onClick:i},{default:de(()=>c[4]||(c[4]=[Ie("確認訂單")])),_:1})])]),$("div",null,[X(f,{class:"shopping-cart-btn",type:"warning",onClick:o},{icon:de(()=>[$("div",yae,[X(Ae(M8),{width:"100px"}),Ae(t).items.length>0?(y(),T("span",_ae,x(Ae(t).items.length),1)):j("",!0)])]),_:1}),$("div",wae,[X(m,{"no-footer":!0,visible:r.value,"onUpdate:visible":c[1]||(c[1]=w=>r.value=w),"custom-class":"dialog"},{default:de(()=>[$("div",bae,[c[13]||(c[13]=$("div",null,[$("span",{class:"cart-title"},"訂單明細")],-1)),$("div",$ae,[(y(!0),T(le,null,Re(Ae(t).items,(w,C)=>(y(),T("div",{key:w.id,class:"cart-item"},[$("div",Tae,[$("p",Sae,x(w.name),1),$("p",Cae,x(w.addonsSummary),1),$("div",Eae,[X(h,{modelValue:w.quantity,"onUpdate:modelValue":p=>w.quantity=p,"button-size":20,"input-width":30,readonly:"",min:"0",onChange:p=>a(w)},null,8,["modelValue","onUpdate:modelValue","onChange"])])]),$("div",null,[$("div",Pae,[$("img",{src:w.img,alt:""},null,8,Iae),$("p",null,[c[5]||(c[5]=$("span",{class:"currency-symbol"},"$",-1)),Ie(x(w.price*w.quantity),1)])])])]))),128))]),$("div",kae,[c[7]||(c[7]=Ie(" 小計")),$("span",null,x(Ae(t).items.length),1),c[8]||(c[8]=Ie("項")),c[9]||(c[9]=$("span",null,"/",-1)),c[10]||(c[10]=Ie("共")),$("span",null,[c[6]||(c[6]=$("span",{class:"currency-symbol"},"$",-1)),Ie(x(l.value),1)])]),$("div",Oae,[X(f,{class:"back-btn",type:"default",onClick:c[0]||(c[0]=w=>r.value=!1)},{default:de(()=>c[11]||(c[11]=[Ie(" 回目錄 ")])),_:1}),X(f,{type:"primary",onClick:i},{default:de(()=>c[12]||(c[12]=[Ie("送出訂單")])),_:1})])])]),_:1},8,["visible"])])])])}}}),Dae=Jn(Aae,[["__scopeId","data-v-0225c926"]]),Rae={class:"container"},Nae={class:"header"},Vae={class:"content"},Lae={class:"footer"},Mae=Le({__name:"OrderView",setup(e){return tt(async()=>{}),(t,n)=>(y(),T("div",Rae,[$("div",Nae,[X(Gre)]),$("div",Vae,[X(koe,{class:"product-list"})]),$("div",Lae,[X(Dae)])]))}}),Bae=Jn(Mae,[["__scopeId","data-v-21c0b1a2"]]),Fae={class:"container"},jae={class:"header"},xae={class:"cart-items"},Uae={class:"item-info"},zae={class:"item-name"},Hae={class:"item-additional"},qae={class:"dialog-num-box"},Wae={class:"img-box"},Kae=["src"],Gae=Le({__name:"OrderConfirm",setup(e){const t=Ic(),n=()=>{t.push({name:"order"})},r=kc();return F(()=>r.items.reduce((o,s)=>o+s.price*s.quantity,0)),(o,s)=>{const i=ue("nut-navbar");return y(),T("div",Fae,[$("div",jae,[X(i,{title:"確認訂單","left-show":"",onClickBack:n},{left:de(()=>s[0]||(s[0]=[$("div",null,"回首頁",-1)])),_:1})]),$("div",xae,[(y(!0),T(le,null,Re(Ae(r).items,(a,l)=>(y(),T("div",{key:a.id,class:"cart-item"},[$("div",Uae,[$("p",zae,x(a.name),1),$("p",Hae,x(a.addonsSummary),1),$("div",qae,x(a.quantity),1)]),$("div",null,[$("div",Wae,[$("img",{src:a.img,alt:""},null,8,Kae),$("p",null,[s[1]||(s[1]=$("span",{class:"currency-symbol"},"$",-1)),Ie(x(a.price*a.quantity),1)])])])]))),128))])])}}}),Yae=Jn(Gae,[["__scopeId","data-v-5e286b2a"]]),Qae={key:0,class:"loading-spinner"},Xae={key:0,class:"loading-text"},Jae=Le({__name:"LoadingSpinner",props:{visible:{type:Boolean,required:!0},text:{type:String,default:""}},setup(e){return(t,n)=>e.visible?(y(),T("div",Qae,[n[0]||(n[0]=$("div",{class:"spinner"},null,-1)),e.text?(y(),T("p",Xae,x(e.text),1)):j("",!0)])):j("",!0)}}),Qf=Jn(Jae,[["__scopeId","data-v-adb40412"]]),Zae={class:"rich-text-editor"},ele={class:"toolbar"},tle=["value"],nle=["innerHTML"],rle=Le({__name:"RichTextEditor",props:{value:{type:String,default:""}},emits:["update-html"],setup(e,{emit:t}){const n=t;let r=null;const o=[8,9,10,11,12,14,16,18,20,24,28,32,36,48,72];function s(A){n("update-html",A.target.innerHTML)}function i(){const A=window.getSelection();A&&A.rangeCount>0&&(r=A.getRangeAt(0))}function a(){if(!r)return;const A=window.getSelection();A&&(A.removeAllRanges(),A.addRange(r))}function l(){if(!r)return;const A=r.cloneContents();if(!A||!A.firstChild)return;const L=document.createElement("span");L.style.fontSize="0",L.appendChild(A),r.deleteContents(),r.insertNode(L),r.selectNode(L)}function u(A){const L=A.target;if(!L.value)return;const N=parseFloat(L.value);isNaN(N)||N<=0||c(N)}function c(A){a(),l(),a(),document.queryCommandSupported("styleWithCSS")&&document.execCommand("styleWithCSS",!1,"true"),document.execCommand("fontSize",!1,"7");const L=document.querySelector(".editor");L&&(L.querySelectorAll('font[size="7"]').forEach(N=>{N.removeAttribute("size"),N.style.fontSize=A+"px"}),L.querySelectorAll('span[style*="font-size"]').forEach(N=>{const I=N.style.fontSize.toLowerCase().trim();(I.includes("large")||I.includes("small"))&&(N.style.fontSize=A+"px")}))}function f(A,L){a();const N=A.target;N.value&&(document.queryCommandSupported("styleWithCSS")&&document.execCommand("styleWithCSS",!1,"true"),L==="color"?document.execCommand("foreColor",!1,N.value):document.queryCommandSupported("hiliteColor")?document.execCommand("hiliteColor",!1,N.value):document.execCommand("backColor",!1,N.value))}function h(){a(),document.execCommand("bold",!1)}function m(){a(),document.execCommand("italic",!1)}function w(){a(),document.execCommand("underline",!1)}function C(){a(),document.execCommand("strikeThrough",!1)}function p(A){switch(a(),A){case"left":document.execCommand("justifyLeft",!1);break;case"center":document.execCommand("justifyCenter",!1);break;case"right":document.execCommand("justifyRight",!1);break}}const g=["color","background-color","font-size","font-style","font-weight","text-decoration"];function b(A){const L=A.querySelectorAll("*");Array.from(L).forEach(N=>{const I=N,S=document.createElement("div");for(g.forEach(_=>{const P=I.style[_];P&&(S.style[_]=P)});I.firstChild;)S.appendChild(I.firstChild);I.replaceWith(S)})}function O(A){A.preventDefault();const L=A.clipboardData;if(!L)return;const N=L.getData("text/html")||L.getData("text/plain"),S=new DOMParser().parseFromString(N,"text/html");b(S.body);const _=window.getSelection();if(_&&_.rangeCount>0){const P=_.getRangeAt(0);P.deleteContents();const k=document.createDocumentFragment();Array.from(S.body.childNodes).forEach(R=>k.appendChild(R)),P.insertNode(k)}}return(A,L)=>(y(),T("div",Zae,[$("div",ele,[$("label",null,[L[5]||(L[5]=Ie(" 文字顏色： ")),$("input",{type:"color",onMousedown:i,onInput:L[0]||(L[0]=N=>f(N,"color"))},null,32)]),$("label",null,[L[6]||(L[6]=Ie(" 背景顏色： ")),$("input",{type:"color",onMousedown:i,onInput:L[1]||(L[1]=N=>f(N,"background-color"))},null,32)]),$("label",null,[L[7]||(L[7]=Ie(" 字體大小： ")),$("select",{onMousedown:Vt(i,["stop"]),onChange:u},[(y(),T(le,null,Re(o,N=>$("option",{key:N,value:N},x(N)+"px ",9,tle)),64))],32)]),$("button",{onMousedown:i,onClick:h},"粗體",32),$("button",{onMousedown:i,onClick:m},"斜體",32),$("button",{onMousedown:i,onClick:w},"下劃線",32),$("button",{onMousedown:i,onClick:C},"刪除線",32),$("button",{onMousedown:i,onClick:L[2]||(L[2]=N=>p("left"))},"靠左",32),$("button",{onMousedown:i,onClick:L[3]||(L[3]=N=>p("center"))},"置中",32),$("button",{onMousedown:i,onClick:L[4]||(L[4]=N=>p("right"))},"靠右",32)]),$("div",{class:"editor",contenteditable:"true",innerHTML:e.value,onInput:s,onPaste:O,style:{"min-height":"120px"}},null,40,nle)]))}}),ole=Jn(rle,[["__scopeId","data-v-46618207"]]),sle={class:"switch-label"},ile=Le({__name:"Switch",props:{modelValue:{type:Boolean,required:!0},activeText:{type:String,required:!0},inactiveText:{type:String,required:!0}},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=e,r=t,o=()=>{const s=!n.modelValue;r("update:modelValue",s),r("change",s)};return(s,i)=>(y(),T("div",{class:"switch-container",onClick:o},[$("div",{class:z({"switch-thumb":!0,active:e.modelValue})},null,2),$("div",sle,x(e.modelValue?e.activeText:e.inactiveText),1)]))}}),ale=Jn(ile,[["__scopeId","data-v-25135b83"]]),lle={key:0,class:"dialog-box"},ule={class:"dialog-content-box"},cle={class:"dialog-scroll-box"},dle=["src"],fle={class:"dialog-img-btn"},hle={class:"dialog-info-box"},ple={class:"dialog-title-box"},mle={class:"dialog-product-price-box"},gle={key:0,class:"dialog-product-options-box"},vle={class:"group-title-box"},yle=["onUpdate:modelValue"],_le=["onClick"],wle={class:"option-option"},ble={class:"title"},$le=["type","onUpdate:modelValue","onChange"],Tle=["onUpdate:modelValue"],Sle={class:"option-price"},Cle=["onUpdate:modelValue"],Ele=["onClick"],Ple={class:"add-item-button-box"},Ile={class:"dialog-footer-box"},kle=Le({__name:"ProductSettingCardDetail",props:{modelValue:{type:Boolean,required:!0},product:{type:Object,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=H(!0),o=H({...n.product}),s=H(!0),i=t,a=()=>{r.value=!0,s.value=!1,i("update:modelValue",!1)},l=H(n.modelValue);ve(()=>n.modelValue,S=>{S?(l.value=!0,s.value=!0):(s.value=!1,setTimeout(()=>{l.value=!1},300))});const u=S=>{o.value.choose[S].options.forEach(_=>{_.default=!1})},c=(S,_)=>{let P=o.value.choose[S];P.multiple||P.options.forEach((k,R)=>{k.default=R===_})},f=(S,_)=>{o.value.choose[S].options=o.value.choose[S].options.filter((P,k)=>k!==_)},h=()=>{o.value.choose.push({title:"",multiple:!0,options:[{name:"",price:0,default:!1}]})},m=S=>{o.value.choose=o.value.choose.filter((_,P)=>P!==S)},w=S=>{o.value.choose[S].options.push({name:"",price:0,default:!1})},C=H(null);let p=!1,g;const b=()=>{var S;(S=C.value)==null||S.click()},O=S=>{var P;if(g=(P=S.target.files)==null?void 0:P[0],!g){console.error("未選擇文件");return}p=!0;const _=new FileReader;_.onload=()=>{o.value.img=_.result},_.readAsDataURL(g)},A=Lt("updateData"),L=async()=>{const S=Au(di,"products",o.value.id);if(await $f(S,{...o.value}),p&&g){const _=`products/${o.value.id}`,P=Ru(Nu,_);await H$(P,g)}A?A():console.error("未找到 updateData 提供者"),wa.success("商品已更新",{duration:1e3})},N=async()=>{const S=Au(di,"products",o.value.id);await $f(S,{isPublished:o.value.isPublished}),o.value.isPublished?wa.success("商品已發佈",{duration:1e3}):wa.success("商品已下架",{duration:1e3})},I=S=>{o.value.htmlStr=S};return(S,_)=>{const P=ue("nut-button"),k=ue("nut-radio"),R=ue("nut-radio-group"),D=ue("nut-dialog");return l.value?(y(),T("div",lle,[X(D,{visible:s.value,"onUpdate:visible":_[4]||(_[4]=oe=>s.value=oe),"custom-class":"dialog"},{default:de(()=>[$("div",ule,[$("div",null,[X(P,{class:"dialog-back-btn",type:"default",onClick:a},{icon:de(()=>[X(Ae(Y$),{color:"white",width:"10px"})]),_:1})]),$("div",cle,[$("div",{class:"dialog-img-box",onClick:b},[$("input",{type:"file",accept:"image/*",ref_key:"imgInput",ref:C,onChange:O,class:"hidden-input"},null,544),(y(),T("img",{class:z({skeleton:r.value}),onLoad:_[0]||(_[0]=oe=>r.value=!1),src:o.value.img,key:o.value.img,alt:""},null,42,dle)),$("div",fle,[X(P,{shape:"square",type:"primary"},{default:de(()=>_[5]||(_[5]=[Ie(" 點擊變更圖片 ")])),_:1})])]),$("div",hle,[$("div",ple,[ct($("input",{"onUpdate:modelValue":_[1]||(_[1]=oe=>o.value.name=oe),placeholder:"商品名稱"},null,512),[[to,o.value.name]])]),X(ole,{value:o.value.htmlStr,onUpdateHtml:I},null,8,["value"]),$("div",mle,[_[6]||(_[6]=$("span",{class:"currency-symbol"},"NT$",-1)),ct($("input",{"onUpdate:modelValue":_[2]||(_[2]=oe=>o.value.price=oe),placeholder:"商品價格",type:"number"},null,512),[[to,o.value.price]])]),(y(!0),T(le,null,Re(o.value.choose,(oe,J)=>(y(),T(le,{key:J},[oe.options.length?(y(),T("div",gle,[$("div",vle,[ct($("input",{"onUpdate:modelValue":Q=>oe.title=Q,style:{width:"150px","margin-right":"8px"},placeholder:"區塊名稱"},null,8,yle),[[to,oe.title]]),X(R,{modelValue:oe.multiple,"onUpdate:modelValue":Q=>oe.multiple=Q,direction:"horizontal",onChange:Q=>u(J)},{default:de(()=>[X(k,{label:!0,shape:"button",size:"mini"},{default:de(()=>_[7]||(_[7]=[Ie("複選")])),_:1}),X(k,{label:!1,shape:"button",size:"mini"},{default:de(()=>_[8]||(_[8]=[Ie("單選")])),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),$("div",{style:{"margin-left":"10px"},onClick:Q=>m(J)},[X(Ae(Lv),{color:"red",width:"30px"})],8,_le)]),(y(!0),T(le,null,Re(oe.options,(Q,K)=>(y(),T("div",{class:"options-options",key:Q.name},[$("div",null,[$("label",wle,[$("div",ble,[ct($("input",{type:oe.multiple?"checkbox":"radio","onUpdate:modelValue":re=>Q.default=re,onChange:re=>c(J,K)},null,40,$le),[[yb,Q.default]]),oe.multiple?(y(),T("span",{key:0,class:z(["custom-checkbox",{checked:Q.default}])},null,2)):j("",!0),oe.multiple?j("",!0):(y(),T("span",{key:1,class:z(["custom-radio",{checked:Q.default}])},null,2))])]),ct($("input",{"onUpdate:modelValue":re=>Q.name=re,style:{width:"130px"},placeholder:"選項名稱"},null,8,Tle),[[to,Q.name,void 0,{lazy:!0}]])]),$("div",null,[$("span",Sle,[_[9]||(_[9]=Ie("+NT$")),ct($("input",{"onUpdate:modelValue":re=>Q.price=re,type:"number",style:{width:"50px","margin-left":"5px"},placeholder:"價格"},null,8,Cle),[[to,Q.price]])]),$("div",{style:{"margin-left":"10px",display:"flex","align-items":"center"},onClick:re=>f(J,K)},[X(Ae(Lv),{color:"red",width:"20px"})],8,Ele)])]))),128)),$("div",Ple,[X(P,{onClick:Q=>w(J),shape:"square",size:"small",plain:"",type:"primary"},{default:de(()=>_[10]||(_[10]=[Ie("添加一項")])),_:2},1032,["onClick"])])])):j("",!0)],64))),128)),X(P,{type:"primary",onClick:h},{default:de(()=>_[11]||(_[11]=[Ie("新增區塊")])),_:1})])])])]),footer:de(()=>[$("div",Ile,[X(P,{type:"default",onClick:a},{default:de(()=>_[12]||(_[12]=[Ie("取消")])),_:1}),X(P,{type:"primary",onClick:L},{default:de(()=>_[13]||(_[13]=[Ie("送出更新")])),_:1}),X(ale,{modelValue:o.value.isPublished,"onUpdate:modelValue":_[3]||(_[3]=oe=>o.value.isPublished=oe),activeText:"已發佈",inactiveText:"未發佈",onChange:N},null,8,["modelValue"])])]),_:1},8,["visible"])])):j("",!0)}}}),Ole=Jn(kle,[["__scopeId","data-v-d7765197"]]),Ale={key:0,class:"product-card-box skeleton-box"},Dle={class:"img-box"},Rle=["src"],Nle={class:"name-box"},Vle={class:"price-box"},Lle={class:"operate-area"},Mle=Le({__name:"ProductSettingCard",props:{index:{type:Number,required:!0},id:{type:String,required:!0},name:{type:String,required:!0},img:{type:String,required:!0},price:{type:Number,required:!0},htmlStr:{type:String,required:!0},choose:{type:Array,required:!0},isPublished:{type:Boolean,required:!0}},emits:["onDelete"],setup(e,{emit:t}){const n=H(!0),r=H(!1),o=e,s=F(()=>o),i=t,a=()=>{r.value=!0},l=()=>{W4({content:`確定要刪除商品:${o.name}嗎?`,okText:"確定",onOk:c})},u=H(!1),c=async()=>{try{u.value=!0;const f=Au(di,"products",o.id);await aA(f),u.value=!1,console.log(`產品 ${o.id} 已刪除`),i("onDelete")}catch(f){u.value=!1,console.error("刪除產品失敗：",f)}};return(f,h)=>{const m=ue("nut-button");return y(),T(le,null,[n.value?(y(),T("div",Ale,h[2]||(h[2]=[oE('<div class="img-box" data-v-c9e98514><img class="skeleton-img" data-v-c9e98514></div><div class="skeleton-text" data-v-c9e98514></div><div class="skeleton-text small" data-v-c9e98514></div><div class="skeleton-text" data-v-c9e98514></div>',4)]))):j("",!0),ct($("div",{class:"product-card-box",onClick:a},[$("div",Dle,[(y(),T("img",{src:s.value.img,key:s.value.img,onLoad:h[0]||(h[0]=w=>n.value=!1),alt:""},null,40,Rle))]),$("div",Nle,[$("span",null,x(e.name),1)]),$("div",Vle,[h[3]||(h[3]=$("span",{class:"currency-symbol"},"$",-1)),Ie(x(e.price),1)]),$("div",Lle,[X(m,{style:{"margin-right":"10px"},type:"danger",size:"mini",onClick:Vt(l,["stop"])},{default:de(()=>h[4]||(h[4]=[Ie("刪除")])),_:1}),X(m,{type:"warning",size:"mini",onClick:a},{default:de(()=>h[5]||(h[5]=[Ie("編輯")])),_:1})])],512),[[jt,!n.value]]),X(Qf,{visible:u.value,text:"刪除中..."},null,8,["visible"]),X(Ole,{product:s.value,modelValue:r.value,"onUpdate:modelValue":h[1]||(h[1]=w=>r.value=w)},null,8,["product","modelValue"])],64)}}}),Ble=Jn(Mle,[["__scopeId","data-v-c9e98514"]]),Fle={class:"product-setting-box"},jle={class:"setting-top-area"},xle={class:"product-setting-card-box"},Ule={class:"dialog-box"},zle={class:"upload-area-box"},Hle=["src"],qle={key:1},Wle=Le({__name:"ProductSetting",setup(e){hn("updateData",()=>{i()});const t=H(!1),n=H(!1),r=H([]),o=H(!1),s=H({name:"",price:0}),i=async()=>{try{const C=wf(di,"products"),p=await E$(C),g=await Promise.all(p.docs.map(async b=>{const O=b.data(),A=await a(O.imgName);return{id:b.id,...O,img:A}}));r.value=g,console.log("產品列表已更新：",r.value)}catch(C){console.error("獲取產品列表失敗：",C)}};i();const a=async C=>{const p=Ru(Nu,C);return await q$(p)};function l(){s.value.name="",s.value.price=0,f.value=null,u.value=null,o.value=!0}const u=H(null),c=H(null),f=H(null),h=()=>{var C;(C=c.value)==null||C.click()},m=async C=>{var b;const p=(b=C.target.files)==null?void 0:b[0];if(!p){console.error("未選擇文件");return}f.value=p;const g=new FileReader;g.onload=()=>{u.value=g.result},g.readAsDataURL(p)};async function w(){try{t.value=!0;const C=await lA(wf(di,"products"),{index:1,name:s.value.name,imgName:"",price:s.value.price,htmlStr:"",choose:[],isPublished:!1}),p=C.id;if(f.value){const g=`products/${p}`,b=Ru(Nu,g);await H$(b,f.value),await $f(C,{imgName:`products/${p}`}),console.log("商品圖片已更新")}else console.warn("未選擇圖片，商品圖片將保持為空");i(),o.value=!1,t.value=!1}catch(C){t.value=!1,console.error("添加商品失敗：",C),wa.text("msg")}}return(C,p)=>{const g=ue("nut-button"),b=ue("nut-input"),O=ue("nut-form-item"),A=ue("nut-form"),L=ue("nut-dialog");return y(),T(le,null,[$("div",Fle,[$("div",jle,[X(g,{type:"primary",onClick:l},{default:de(()=>p[3]||(p[3]=[Ie("新增")])),_:1})]),$("div",xle,[(y(!0),T(le,null,Re(r.value,(N,I)=>(y(),ye(Ble,{class:"product-card",key:I,index:N.index,id:N.id,name:N.name,img:N.img,price:N.price,htmlStr:N.htmlStr,choose:N.choose,isPublished:N.isPublished,onOnDelete:i},null,8,["index","id","name","img","price","htmlStr","choose","isPublished"]))),128))]),$("div",Ule,[X(L,{visible:o.value,"onUpdate:visible":p[2]||(p[2]=N=>o.value=N),"custom-class":"dialog",closeOnClickOverlay:!1,cancelText:"取消",okText:"送出",okAutoClose:!1,onOk:w},{default:de(()=>[$("div",zle,[$("div",{class:"upload-area",onClick:h},[$("input",{type:"file",accept:"image/*",ref_key:"fileInput",ref:c,onChange:m,class:"hidden-input"},null,544),u.value?(y(),T("img",{key:0,src:u.value,alt:"預覽圖片"},null,8,Hle)):(y(),T("span",qle,"點擊上傳照片"))])]),X(A,null,{default:de(()=>[X(O,{label:"名稱"},{default:de(()=>[X(b,{modelValue:s.value.name,"onUpdate:modelValue":p[0]||(p[0]=N=>s.value.name=N),placeholder:"請輸入名稱",type:"text"},null,8,["modelValue"])]),_:1}),X(O,{label:"價格"},{default:de(()=>[ct($("input",{style:{width:"80%",border:"none","padding-left":"0"},"onUpdate:modelValue":p[1]||(p[1]=N=>s.value.price=N),placeholder:"請輸入價格",type:"number"},null,512),[[to,s.value.price]])]),_:1})]),_:1})]),_:1},8,["visible"])])]),X(Qf,{visible:t.value,text:"商品新增中..."},null,8,["visible"]),X(Qf,{visible:n.value,text:"商品讀取中..."},null,8,["visible"])],64)}}}),Kle=Jn(Wle,[["__scopeId","data-v-9026637b"]]),Gle={class:"container"},Yle={class:"header"},Qle={class:"menu-item"},Xle={class:"setting-contant"},Jle=Le({__name:"Settings",setup(e){const t=H(0),n=H([{text:"商品設定",value:0}]),r=Ic(),o=()=>{r.push({name:"order"})};return(s,i)=>{const a=ue("nut-menu-item"),l=ue("nut-menu"),u=ue("nut-navbar");return y(),T("div",Gle,[$("div",Yle,[X(u,{title:"布蕾PICK-後台","left-show":"",onClickBack:o},{left:de(()=>i[1]||(i[1]=[$("div",null,"回首頁",-1)])),right:de(()=>[$("div",Qle,[X(l,null,{default:de(()=>[X(a,{modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=c=>t.value=c),options:n.value},null,8,["modelValue","options"])]),_:1})])]),_:1})]),$("div",Xle,[X(Kle)])])}}}),Zle=Jn(Jle,[["__scopeId","data-v-9bc8daf1"]]),eue=Ure({history:_re("/XiangDian/"),routes:[{path:"/",name:"order",component:Bae},{path:"/order-confirm",name:"order-confirm",component:Yae},{path:"/settings",name:"Settings",component:Zle}]});gae().catch(e=>{console.error("LIFF 初始化失敗:",e)});console.log("Firebase App:",bc);const Lc=bb(Hre);Lc.use(Une);Lc.use(GE());Lc.use(eue);Lc.mount("#app");
